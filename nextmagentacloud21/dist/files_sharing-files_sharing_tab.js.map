{"version":3,"file":"files_sharing-files_sharing_tab.js?v=a3ba9d1f574ebe3c2b62","mappings":"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BACA,cACA,KAfA,+EA0BA,SApKA,SAoKA,KACA,2BACA,yBAWA,cAjLA,SAiLA,gBACA,2BACA,0DACA,GACA,SAKA,UA1LA,SA0LA,mJAGA,kBACA,eAJA,uBAOA,aAPA,SAQA,4BARA,8CAkBA,eA5MA,SA4MA,iOACA,cAEA,qEACA,MAGA,GACA,8BACA,+BACA,gCACA,sCACA,gCACA,8BACA,+BACA,gCAGA,uDACA,uCAGA,OAtBA,kBAwBA,yEACA,QACA,cACA,iDACA,SACA,SACA,wCACA,eA/BA,OAwBA,EAxBA,gEAmCA,iDAnCA,2BAuCA,kBACA,wBACA,WAGA,kEACA,kEAGA,+BACA,qDAEA,sDACA,+BACA,qDAEA,sDAIA,KACA,qBACA,QACA,mBACA,YACA,iDACA,YAKA,8EAEA,kCAGA,0BACA,sBAGA,mBACA,oBAEA,mBACA,GANA,IAOA,IAEA,iCAEA,mCACA,oDAEA,KAGA,aA9FA,6DAsGA,uCACA,4CACA,KAKA,mBAzTA,WAyTA,4JACA,aAEA,OAHA,kBAKA,qFACA,QACA,cACA,4BARA,OAKA,EALA,8DAYA,qDAZA,2BAiBA,8EAGA,uCACA,+CAGA,+CACA,qDACA,UAEA,aA5BA,4DAsCA,wBA/VA,SA+VA,cACA,+BAEA,oBACA,SAEA,IACA,sDAEA,kDACA,SAIA,kDACA,SAKA,uDAEA,QADA,oDACA,kCACA,aAEA,CAEA,qCAEA,OADA,sBACA,IACA,IAGA,2BACA,WACA,yBACA,SAMA,UACA,SACA,SAEA,WACA,KASA,gBAvZA,SAuZA,GACA,UACA,uCAKA,kBACA,8CACA,uCACA,mBACA,uCACA,kBACA,wCACA,oBACA,sCACA,kBACA,sCACA,kBAEA,QACA,WAUA,qBAtbA,SAsbA,GACA,MACA,8FACA,gEACA,2DACA,+DACA,eAEA,yDACA,wBACA,OACA,0DAJA,2DAOA,OACA,8DACA,4BACA,4BACA,+BACA,8DACA,4BACA,WACA,4DACA,+CAIA,gBAjdA,SAidA,oJAEA,+BACA,oCACA,aACA,+BACA,gBACA,cACA,8BACA,+CATA,gDC3nByL,kBCWrL,GAAU,GAEd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","sources":["webpack:///nextcloud/webpack/runtime/chunk loaded","webpack:///nextcloud/apps/files_sharing/src/services/ConfigService.js","webpack:///nextcloud/apps/files_sharing/src/models/Share.js","webpack:///nextcloud/apps/files_sharing/src/mixins/ShareTypes.js","webpack:///nextcloud/apps/files_sharing/src/components/SharingEntrySimple.vue?vue&type=script&lang=js&","webpack:///nextcloud/apps/files_sharing/src/components/SharingEntrySimple.vue","webpack://nextcloud/./apps/files_sharing/src/components/SharingEntrySimple.vue?924c","webpack://nextcloud/./apps/files_sharing/src/components/SharingEntrySimple.vue?cb12","webpack:///nextcloud/apps/files_sharing/src/components/SharingEntrySimple.vue?vue&type=template&id=1436bf4a&scoped=true&","webpack:///nextcloud/apps/files_sharing/src/components/SharingEntryInternal.vue","webpack:///nextcloud/apps/files_sharing/src/components/SharingEntryInternal.vue?vue&type=script&lang=js&","webpack://nextcloud/./apps/files_sharing/src/components/SharingEntryInternal.vue?d9e2","webpack://nextcloud/./apps/files_sharing/src/components/SharingEntryInternal.vue?4c20","webpack:///nextcloud/apps/files_sharing/src/components/SharingEntryInternal.vue?vue&type=template&id=854dc2c6&scoped=true&","webpack:///nextcloud/apps/files_sharing/src/utils/GeneratePassword.js","webpack:///nextcloud/apps/files_sharing/src/mixins/ShareRequests.js","webpack:///nextcloud/apps/files_sharing/src/components/SharingInput.vue","webpack:///nextcloud/apps/files_sharing/src/components/SharingInput.vue?vue&type=script&lang=js&","webpack://nextcloud/./apps/files_sharing/src/components/SharingInput.vue?1f8b","webpack://nextcloud/./apps/files_sharing/src/components/SharingInput.vue?3d7c","webpack:///nextcloud/apps/files_sharing/src/components/SharingInput.vue?vue&type=template&id=1c0a62fc&","webpack:///nextcloud/apps/files_sharing/src/mixins/SharesMixin.js","webpack:///nextcloud/apps/files_sharing/src/components/ExternalShareAction.vue?vue&type=script&lang=js&","webpack:///nextcloud/apps/files_sharing/src/components/ExternalShareAction.vue","webpack://nextcloud/./apps/files_sharing/src/components/ExternalShareAction.vue?9bf3","webpack:///nextcloud/apps/files_sharing/src/components/ExternalShareAction.vue?vue&type=template&id=29f555e7&","webpack:///nextcloud/apps/files_sharing/src/components/SharingPermissions.vue","webpack:///nextcloud/apps/files_sharing/src/components/SharingPermissions.vue?vue&type=script&lang=js&","webpack://nextcloud/./apps/files_sharing/src/components/SharingPermissions.vue?2eee","webpack://nextcloud/./apps/files_sharing/src/components/SharingPermissions.vue?c617","webpack:///nextcloud/apps/files_sharing/src/components/SharingPermissions.vue?vue&type=template&id=cad607e6&","webpack:///nextcloud/apps/files_sharing/src/components/SharingNotes.vue","webpack:///nextcloud/apps/files_sharing/src/components/SharingNotes.vue?vue&type=script&lang=js&","webpack://nextcloud/./apps/files_sharing/src/components/SharingNotes.vue?3a4a","webpack://nextcloud/./apps/files_sharing/src/components/SharingNotes.vue?966f","webpack:///nextcloud/apps/files_sharing/src/components/SharingNotes.vue?vue&type=template&id=ac0277b2&scoped=true&","webpack:///nextcloud/apps/files_sharing/src/components/SharingEntryInherited.vue?vue&type=script&lang=js&","webpack:///nextcloud/apps/files_sharing/src/components/SharingEntryInherited.vue","webpack://nextcloud/./apps/files_sharing/src/components/SharingEntryInherited.vue?b36f","webpack://nextcloud/./apps/files_sharing/src/components/SharingEntryInherited.vue?0e5a","webpack:///nextcloud/apps/files_sharing/src/components/SharingEntryInherited.vue?vue&type=template&id=29845767&scoped=true&","webpack:///nextcloud/apps/files_sharing/src/views/SharingInherited.vue","webpack:///nextcloud/apps/files_sharing/src/views/SharingInherited.vue?vue&type=script&lang=js&","webpack://nextcloud/./apps/files_sharing/src/views/SharingInherited.vue?ec0b","webpack://nextcloud/./apps/files_sharing/src/views/SharingInherited.vue?1677","webpack:///nextcloud/apps/files_sharing/src/views/SharingInherited.vue?vue&type=template&id=49ffd834&scoped=true&","webpack:///nextcloud/apps/files_sharing/src/components/CustomSelect.vue?vue&type=script&lang=js&","webpack:///nextcloud/apps/files_sharing/src/components/CustomSelect.vue","webpack://nextcloud/./apps/files_sharing/src/components/CustomSelect.vue?eb40","webpack://nextcloud/./apps/files_sharing/src/components/CustomSelect.vue?f55a","webpack:///nextcloud/apps/files_sharing/src/components/CustomSelect.vue?vue&type=template&id=6673cd0e&scoped=true&","webpack:///nextcloud/apps/files_sharing/src/components/SharingEntryLink.vue","webpack:///nextcloud/apps/files_sharing/src/components/SharingEntryLink.vue?vue&type=script&lang=js&","webpack://nextcloud/./apps/files_sharing/src/components/SharingEntryLink.vue?36cd","webpack://nextcloud/./apps/files_sharing/src/components/SharingEntryLink.vue?af90","webpack:///nextcloud/apps/files_sharing/src/components/SharingEntryLink.vue?vue&type=template&id=656b538e&scoped=true&","webpack:///nextcloud/apps/files_sharing/src/views/SharingLinkList.vue?vue&type=script&lang=js&","webpack:///nextcloud/apps/files_sharing/src/views/SharingLinkList.vue","webpack://nextcloud/./apps/files_sharing/src/views/SharingLinkList.vue?a70b","webpack:///nextcloud/apps/files_sharing/src/views/SharingLinkList.vue?vue&type=template&id=0241cf40&","webpack:///nextcloud/apps/files_sharing/src/components/SharingEntry.vue","webpack:///nextcloud/apps/files_sharing/src/components/SharingEntry.vue?vue&type=script&lang=js&","webpack://nextcloud/./apps/files_sharing/src/components/SharingEntry.vue?5ead","webpack://nextcloud/./apps/files_sharing/src/components/SharingEntry.vue?10a7","webpack:///nextcloud/apps/files_sharing/src/components/SharingEntry.vue?vue&type=template&id=782ccb43&scoped=true&","webpack:///nextcloud/apps/files_sharing/src/views/SharingList.vue","webpack:///nextcloud/apps/files_sharing/src/views/SharingList.vue?vue&type=script&lang=js&","webpack://nextcloud/./apps/files_sharing/src/views/SharingList.vue?9f9c","webpack:///nextcloud/apps/files_sharing/src/views/SharingList.vue?vue&type=template&id=0b29d4c0&","webpack:///nextcloud/apps/files_sharing/src/views/SharingTab.vue","webpack:///nextcloud/apps/files_sharing/src/utils/SharedWithMe.js","webpack:///nextcloud/apps/files_sharing/src/views/SharingTab.vue?vue&type=script&lang=js&","webpack://nextcloud/./apps/files_sharing/src/views/SharingTab.vue?3af9","webpack://nextcloud/./apps/files_sharing/src/views/SharingTab.vue?6997","webpack:///nextcloud/apps/files_sharing/src/views/SharingTab.vue?vue&type=template&id=500974a6&scoped=true&","webpack:///nextcloud/apps/files_sharing/src/services/ShareSearch.js","webpack:///nextcloud/apps/files_sharing/src/services/ExternalLinkActions.js","webpack:///nextcloud/apps/files_sharing/src/services/ExternalShareActions.js","webpack:///nextcloud/apps/files_sharing/src/services/TabSections.js","webpack:///nextcloud/apps/files_sharing/src/store.js","webpack:///nextcloud/apps/files_sharing/src/files_sharing_tab.js","webpack:///nextcloud/apps/files_sharing/src/components/SharingEntry.vue?vue&type=style&index=0&id=782ccb43&lang=scss&scoped=true&","webpack:///nextcloud/apps/files_sharing/src/components/SharingEntryInherited.vue?vue&type=style&index=0&id=29845767&lang=scss&scoped=true&","webpack:///nextcloud/apps/files_sharing/src/components/SharingEntryInternal.vue?vue&type=style&index=0&id=854dc2c6&lang=scss&scoped=true&","webpack:///nextcloud/apps/files_sharing/src/components/SharingEntryLink.vue?vue&type=style&index=0&id=656b538e&lang=scss&scoped=true&","webpack:///nextcloud/apps/files_sharing/src/components/SharingEntrySimple.vue?vue&type=style&index=0&id=1436bf4a&lang=scss&scoped=true&","webpack:///nextcloud/apps/files_sharing/src/components/SharingInput.vue?vue&type=style&index=0&lang=scss&","webpack:///nextcloud/apps/files_sharing/src/components/SharingNotes.vue?vue&type=style&index=0&id=ac0277b2&lang=scss&scoped=true&","webpack:///nextcloud/apps/files_sharing/src/components/SharingPermissions.vue?vue&type=style&index=0&lang=scss&","webpack:///nextcloud/apps/files_sharing/src/views/SharingInherited.vue?vue&type=style&index=0&id=49ffd834&lang=scss&scoped=true&","webpack:///nextcloud/apps/files_sharing/src/views/SharingTab.vue?vue&type=style&index=0&id=500974a6&scoped=true&lang=scss&","webpack:///nextcloud/apps/files_sharing/src/components/CustomSelect.vue?vue&type=style&index=0&id=6673cd0e&scoped=true&lang=css&","webpack:///nextcloud/webpack/bootstrap","webpack:///nextcloud/webpack/runtime/amd define","webpack:///nextcloud/webpack/runtime/amd options","webpack:///nextcloud/webpack/runtime/compat get default export","webpack:///nextcloud/webpack/runtime/define property getters","webpack:///nextcloud/webpack/runtime/global","webpack:///nextcloud/webpack/runtime/hasOwnProperty shorthand","webpack:///nextcloud/webpack/runtime/make namespace object","webpack:///nextcloud/webpack/runtime/node module decorator","webpack:///nextcloud/webpack/runtime/runtimeId","webpack:///nextcloud/webpack/runtime/jsonp chunk loading","webpack:///nextcloud/webpack/runtime/nonce","webpack:///nextcloud/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","/**\n * @copyright Copyright (c) 2019 John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @author Arthur Schiwon <blizzz@arthur-schiwon.de>\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n * @author Julius Härtl <jus@bitgrid.net>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nexport default class Config {\n\n\t/**\n\t * Is public upload allowed on link shares ?\n\t *\n\t * @return {boolean}\n\t * @readonly\n\t * @memberof Config\n\t */\n\tget isPublicUploadEnabled() {\n\t\treturn document.getElementById('filestable')\n\t\t\t&& document.getElementById('filestable').dataset.allowPublicUpload === 'yes'\n\t}\n\n\t/**\n\t * Are link share allowed ?\n\t *\n\t * @return {boolean}\n\t * @readonly\n\t * @memberof Config\n\t */\n\tget isShareWithLinkAllowed() {\n\t\treturn document.getElementById('allowShareWithLink')\n\t\t\t&& document.getElementById('allowShareWithLink').value === 'yes'\n\t}\n\n\t/**\n\t * Get the federated sharing documentation link\n\t *\n\t * @return {string}\n\t * @readonly\n\t * @memberof Config\n\t */\n\tget federatedShareDocLink() {\n\t\treturn OC.appConfig.core.federatedCloudShareDoc\n\t}\n\n\t/**\n\t * Get the default link share expiration date as string\n\t *\n\t * @return {string}\n\t * @readonly\n\t * @memberof Config\n\t */\n\tget defaultExpirationDateString() {\n\t\tlet expireDateString = ''\n\t\tif (this.isDefaultExpireDateEnabled) {\n\t\t\tconst date = window.moment.utc()\n\t\t\tconst expireAfterDays = this.defaultExpireDate\n\t\t\tdate.add(expireAfterDays, 'days')\n\t\t\texpireDateString = date.format('YYYY-MM-DD')\n\t\t}\n\t\treturn expireDateString\n\t}\n\n\t/**\n\t * Get the default internal expiration date as string\n\t *\n\t * @return {string}\n\t * @readonly\n\t * @memberof Config\n\t */\n\tget defaultInternalExpirationDateString() {\n\t\tlet expireDateString = ''\n\t\tif (this.isDefaultInternalExpireDateEnabled) {\n\t\t\tconst date = window.moment.utc()\n\t\t\tconst expireAfterDays = this.defaultInternalExpireDate\n\t\t\tdate.add(expireAfterDays, 'days')\n\t\t\texpireDateString = date.format('YYYY-MM-DD')\n\t\t}\n\t\treturn expireDateString\n\t}\n\n\t/**\n\t * Get the default remote expiration date as string\n\t *\n\t * @return {string}\n\t * @readonly\n\t * @memberof Config\n\t */\n\tget defaultRemoteExpirationDateString() {\n\t\tlet expireDateString = ''\n\t\tif (this.isDefaultRemoteExpireDateEnabled) {\n\t\t\tconst date = window.moment.utc()\n\t\t\tconst expireAfterDays = this.defaultRemoteExpireDate\n\t\t\tdate.add(expireAfterDays, 'days')\n\t\t\texpireDateString = date.format('YYYY-MM-DD')\n\t\t}\n\t\treturn expireDateString\n\t}\n\n\t/**\n\t * Are link shares password-enforced ?\n\t *\n\t * @return {boolean}\n\t * @readonly\n\t * @memberof Config\n\t */\n\tget enforcePasswordForPublicLink() {\n\t\treturn OC.appConfig.core.enforcePasswordForPublicLink === true\n\t}\n\n\t/**\n\t * Is password asked by default on link shares ?\n\t *\n\t * @return {boolean}\n\t * @readonly\n\t * @memberof Config\n\t */\n\tget enableLinkPasswordByDefault() {\n\t\treturn OC.appConfig.core.enableLinkPasswordByDefault === true\n\t}\n\n\t/**\n\t * Is link shares expiration enforced ?\n\t *\n\t * @return {boolean}\n\t * @readonly\n\t * @memberof Config\n\t */\n\tget isDefaultExpireDateEnforced() {\n\t\treturn OC.appConfig.core.defaultExpireDateEnforced === true\n\t}\n\n\t/**\n\t * Is there a default expiration date for new link shares ?\n\t *\n\t * @return {boolean}\n\t * @readonly\n\t * @memberof Config\n\t */\n\tget isDefaultExpireDateEnabled() {\n\t\treturn OC.appConfig.core.defaultExpireDateEnabled === true\n\t}\n\n\t/**\n\t * Is internal shares expiration enforced ?\n\t *\n\t * @return {boolean}\n\t * @readonly\n\t * @memberof Config\n\t */\n\tget isDefaultInternalExpireDateEnforced() {\n\t\treturn OC.appConfig.core.defaultInternalExpireDateEnforced === true\n\t}\n\n\t/**\n\t * Is remote shares expiration enforced ?\n\t *\n\t * @return {boolean}\n\t * @readonly\n\t * @memberof Config\n\t */\n\tget isDefaultRemoteExpireDateEnforced() {\n\t\treturn OC.appConfig.core.defaultRemoteExpireDateEnforced === true\n\t}\n\n\t/**\n\t * Is there a default expiration date for new internal shares ?\n\t *\n\t * @return {boolean}\n\t * @readonly\n\t * @memberof Config\n\t */\n\tget isDefaultInternalExpireDateEnabled() {\n\t\treturn OC.appConfig.core.defaultInternalExpireDateEnabled === true\n\t}\n\n\t/**\n\t * Are users on this server allowed to send shares to other servers ?\n\t *\n\t * @return {boolean}\n\t * @readonly\n\t * @memberof Config\n\t */\n\tget isRemoteShareAllowed() {\n\t\treturn OC.appConfig.core.remoteShareAllowed === true\n\t}\n\n\t/**\n\t * Is sharing my mail (link share) enabled ?\n\t *\n\t * @return {boolean}\n\t * @readonly\n\t * @memberof Config\n\t */\n\tget isMailShareAllowed() {\n\t\tconst capabilities = OC.getCapabilities()\n\t\t// eslint-disable-next-line camelcase\n\t\treturn capabilities?.files_sharing?.sharebymail !== undefined\n\t\t\t// eslint-disable-next-line camelcase\n\t\t\t&& capabilities?.files_sharing?.public?.enabled === true\n\t}\n\n\t/**\n\t * Get the default days to link shares expiration\n\t *\n\t * @return {number}\n\t * @readonly\n\t * @memberof Config\n\t */\n\tget defaultExpireDate() {\n\t\treturn OC.appConfig.core.defaultExpireDate\n\t}\n\n\t/**\n\t * Get the default days to internal shares expiration\n\t *\n\t * @return {number}\n\t * @readonly\n\t * @memberof Config\n\t */\n\tget defaultInternalExpireDate() {\n\t\treturn OC.appConfig.core.defaultInternalExpireDate\n\t}\n\n\t/**\n\t * Get the default days to remote shares expiration\n\t *\n\t * @return {number}\n\t * @readonly\n\t * @memberof Config\n\t */\n\tget defaultRemoteExpireDate() {\n\t\treturn OC.appConfig.core.defaultRemoteExpireDate\n\t}\n\n\t/**\n\t * Is resharing allowed ?\n\t *\n\t * @return {boolean}\n\t * @readonly\n\t * @memberof Config\n\t */\n\tget isResharingAllowed() {\n\t\treturn OC.appConfig.core.resharingAllowed === true\n\t}\n\n\t/**\n\t * Is password enforced for mail shares ?\n\t *\n\t * @return {boolean}\n\t * @readonly\n\t * @memberof Config\n\t */\n\tget isPasswordForMailSharesRequired() {\n\t\treturn (OC.getCapabilities().files_sharing.sharebymail === undefined) ? false : OC.getCapabilities().files_sharing.sharebymail.password.enforced\n\t}\n\n\t/**\n\t * @return {boolean}\n\t * @readonly\n\t * @memberof Config\n\t */\n\tget shouldAlwaysShowUnique() {\n\t\treturn (OC.getCapabilities().files_sharing?.sharee?.always_show_unique === true)\n\t}\n\n\t/**\n\t * Is sharing with groups allowed ?\n\t *\n\t * @return {boolean}\n\t * @readonly\n\t * @memberof Config\n\t */\n\tget allowGroupSharing() {\n\t\treturn OC.appConfig.core.allowGroupSharing === true\n\t}\n\n\t/**\n\t * Get the maximum results of a share search\n\t *\n\t * @return {number}\n\t * @readonly\n\t * @memberof Config\n\t */\n\tget maxAutocompleteResults() {\n\t\treturn parseInt(OC.config['sharing.maxAutocompleteResults'], 10) || 25\n\t}\n\n\t/**\n\t * Get the minimal string length\n\t * to initiate a share search\n\t *\n\t * @return {number}\n\t * @readonly\n\t * @memberof Config\n\t */\n\tget minSearchStringLength() {\n\t\treturn parseInt(OC.config['sharing.minSearchStringLength'], 10) || 0\n\t}\n\n\t/**\n\t * Get the password policy config\n\t *\n\t * @return {object}\n\t * @readonly\n\t * @memberof Config\n\t */\n\tget passwordPolicy() {\n\t\tconst capabilities = OC.getCapabilities()\n\t\treturn capabilities.password_policy ? capabilities.password_policy : {}\n\t}\n\n}\n","/**\n * @copyright Copyright (c) 2019 John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @author Daniel Calviño Sánchez <danxuliu@gmail.com>\n * @author Gary Kim <gary@garykim.dev>\n * @author Georg Ehrke <oc.list@georgehrke.com>\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n * @author Julius Härtl <jus@bitgrid.net>\n * @author Roeland Jago Douma <roeland@famdouma.nl>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nexport default class Share {\n\n\t_share\n\n\t/**\n\t * Create the share object\n\t *\n\t * @param {object} ocsData ocs request response\n\t */\n\tconstructor(ocsData) {\n\t\tif (ocsData.ocs && ocsData.ocs.data && ocsData.ocs.data[0]) {\n\t\t\tocsData = ocsData.ocs.data[0]\n\t\t}\n\n\t\t// convert int into boolean\n\t\tocsData.hide_download = !!ocsData.hide_download\n\t\tocsData.mail_send = !!ocsData.mail_send\n\n\t\tif (ocsData.attributes) {\n\t\t\ttry {\n\t\t\t\tocsData.attributes = JSON.parse(ocsData.attributes)\n\t\t\t} catch (e) {\n\t\t\t\tconsole.warn('Could not parse share attributes returned by server: \"' + ocsData.attributes + '\"')\n\t\t\t}\n\t\t}\n\t\tocsData.attributes = ocsData.attributes ?? []\n\n\t\t// store state\n\t\tthis._share = ocsData\n\t}\n\n\t/**\n\t * Get the share state\n\t * ! used for reactivity purpose\n\t * Do not remove. It allow vuejs to\n\t * inject its watchers into the #share\n\t * state and make the whole class reactive\n\t *\n\t * @return {object} the share raw state\n\t * @readonly\n\t * @memberof Sidebar\n\t */\n\tget state() {\n\t\treturn this._share\n\t}\n\n\t/**\n\t * get the share id\n\t *\n\t * @return {number}\n\t * @readonly\n\t * @memberof Share\n\t */\n\tget id() {\n\t\treturn this._share.id\n\t}\n\n\t/**\n\t * Get the share type\n\t *\n\t * @return {number}\n\t * @readonly\n\t * @memberof Share\n\t */\n\tget type() {\n\t\treturn this._share.share_type\n\t}\n\n\t/**\n\t * Get the share permissions\n\t * See OC.PERMISSION_* variables\n\t *\n\t * @return {number}\n\t * @readonly\n\t * @memberof Share\n\t */\n\tget permissions() {\n\t\treturn this._share.permissions\n\t}\n\n\t/**\n\t * Get the share attributes\n\t *\n\t * @return {Array}\n\t * @readonly\n\t * @memberof Share\n\t */\n\tget attributes() {\n\t\treturn this._share.attributes\n\t}\n\n\t/**\n\t * Set the share permissions\n\t * See OC.PERMISSION_* variables\n\t *\n\t * @param {number} permissions valid permission, See OC.PERMISSION_* variables\n\t * @memberof Share\n\t */\n\tset permissions(permissions) {\n\t\tthis._share.permissions = permissions\n\t}\n\n\t// SHARE OWNER --------------------------------------------------\n\t/**\n\t * Get the share owner uid\n\t *\n\t * @return {string}\n\t * @readonly\n\t * @memberof Share\n\t */\n\tget owner() {\n\t\treturn this._share.uid_owner\n\t}\n\n\t/**\n\t * Get the share owner's display name\n\t *\n\t * @return {string}\n\t * @readonly\n\t * @memberof Share\n\t */\n\tget ownerDisplayName() {\n\t\treturn this._share.displayname_owner\n\t}\n\n\t// SHARED WITH --------------------------------------------------\n\t/**\n\t * Get the share with entity uid\n\t *\n\t * @return {string}\n\t * @readonly\n\t * @memberof Share\n\t */\n\tget shareWith() {\n\t\treturn this._share.share_with\n\t}\n\n\t/**\n\t * Get the share with entity display name\n\t * fallback to its uid if none\n\t *\n\t * @return {string}\n\t * @readonly\n\t * @memberof Share\n\t */\n\tget shareWithDisplayName() {\n\t\treturn this._share.share_with_displayname\n\t\t\t|| this._share.share_with\n\t}\n\n\t/**\n\t * Unique display name in case of multiple\n\t * duplicates results with the same name.\n\t *\n\t * @return {string}\n\t * @readonly\n\t * @memberof Share\n\t */\n\tget shareWithDisplayNameUnique() {\n\t\treturn this._share.share_with_displayname_unique\n\t\t\t|| this._share.share_with\n\t}\n\n\t/**\n\t * Get the share with entity link\n\t *\n\t * @return {string}\n\t * @readonly\n\t * @memberof Share\n\t */\n\tget shareWithLink() {\n\t\treturn this._share.share_with_link\n\t}\n\n\t/**\n\t * Get the share with avatar if any\n\t *\n\t * @return {string}\n\t * @readonly\n\t * @memberof Share\n\t */\n\tget shareWithAvatar() {\n\t\treturn this._share.share_with_avatar\n\t}\n\n\t// SHARED FILE OR FOLDER OWNER ----------------------------------\n\t/**\n\t * Get the shared item owner uid\n\t *\n\t * @return {string}\n\t * @readonly\n\t * @memberof Share\n\t */\n\tget uidFileOwner() {\n\t\treturn this._share.uid_file_owner\n\t}\n\n\t/**\n\t * Get the shared item display name\n\t * fallback to its uid if none\n\t *\n\t * @return {string}\n\t * @readonly\n\t * @memberof Share\n\t */\n\tget displaynameFileOwner() {\n\t\treturn this._share.displayname_file_owner\n\t\t\t|| this._share.uid_file_owner\n\t}\n\n\t// TIME DATA ----------------------------------------------------\n\t/**\n\t * Get the share creation timestamp\n\t *\n\t * @return {number}\n\t * @readonly\n\t * @memberof Share\n\t */\n\tget createdTime() {\n\t\treturn this._share.stime\n\t}\n\n\t/**\n\t * Get the expiration date as a string format\n\t *\n\t * @return {string}\n\t * @readonly\n\t * @memberof Share\n\t */\n\tget expireDate() {\n\t\treturn this._share.expiration\n\t}\n\n\t/**\n\t * Set the expiration date as a string format\n\t * e.g. YYYY-MM-DD\n\t *\n\t * @param {string} date the share expiration date\n\t * @memberof Share\n\t */\n\tset expireDate(date) {\n\t\tthis._share.expiration = date\n\t}\n\n\t// EXTRA DATA ---------------------------------------------------\n\t/**\n\t * Get the public share token\n\t *\n\t * @return {string} the token\n\t * @readonly\n\t * @memberof Share\n\t */\n\tget token() {\n\t\treturn this._share.token\n\t}\n\n\t/**\n\t * Get the share note if any\n\t *\n\t * @return {string}\n\t * @readonly\n\t * @memberof Share\n\t */\n\tget note() {\n\t\treturn this._share.note\n\t}\n\n\t/**\n\t * Set the share note if any\n\t *\n\t * @param {string} note the note\n\t * @memberof Share\n\t */\n\tset note(note) {\n\t\tthis._share.note = note\n\t}\n\n\t/**\n\t * Get the share label if any\n\t * Should only exist on link shares\n\t *\n\t * @return {string}\n\t * @readonly\n\t * @memberof Share\n\t */\n\tget label() {\n\t\treturn this._share.label\n\t}\n\n\t/**\n\t * Set the share label if any\n\t * Should only be set on link shares\n\t *\n\t * @param {string} label the label\n\t * @memberof Share\n\t */\n\tset label(label) {\n\t\tthis._share.label = label\n\t}\n\n\t/**\n\t * Have a mail been sent\n\t *\n\t * @return {boolean}\n\t * @readonly\n\t * @memberof Share\n\t */\n\tget mailSend() {\n\t\treturn this._share.mail_send === true\n\t}\n\n\t/**\n\t * Hide the download button on public page\n\t *\n\t * @return {boolean}\n\t * @readonly\n\t * @memberof Share\n\t */\n\tget hideDownload() {\n\t\treturn this._share.hide_download === true\n\t}\n\n\t/**\n\t * Hide the download button on public page\n\t *\n\t * @param {boolean} state hide the button ?\n\t * @memberof Share\n\t */\n\tset hideDownload(state) {\n\t\tthis._share.hide_download = state === true\n\t}\n\n\t/**\n\t * Password protection of the share\n\t *\n\t * @return {string}\n\t * @readonly\n\t * @memberof Share\n\t */\n\tget password() {\n\t\treturn this._share.password\n\t}\n\n\t/**\n\t * Password protection of the share\n\t *\n\t * @param {string} password the share password\n\t * @memberof Share\n\t */\n\tset password(password) {\n\t\tthis._share.password = password\n\t}\n\n\t/**\n\t * Password expiration time\n\t *\n\t * @return {string}\n\t * @readonly\n\t * @memberof Share\n\t */\n\tget passwordExpirationTime() {\n\t\treturn this._share.password_expiration_time\n\t}\n\n\t/**\n\t * Password expiration time\n\t *\n\t * @param {string} password exipration time\n\t * @memberof Share\n\t */\n\tset passwordExpirationTime(passwordExpirationTime) {\n\t\tthis._share.password_expiration_time = passwordExpirationTime\n\t}\n\n\t/**\n\t * Password protection by Talk of the share\n\t *\n\t * @return {boolean}\n\t * @readonly\n\t * @memberof Share\n\t */\n\tget sendPasswordByTalk() {\n\t\treturn this._share.send_password_by_talk\n\t}\n\n\t/**\n\t * Password protection by Talk of the share\n\t *\n\t * @param {boolean} sendPasswordByTalk whether to send the password by Talk\n\t *        or not\n\t * @memberof Share\n\t */\n\tset sendPasswordByTalk(sendPasswordByTalk) {\n\t\tthis._share.send_password_by_talk = sendPasswordByTalk\n\t}\n\n\t// SHARED ITEM DATA ---------------------------------------------\n\t/**\n\t * Get the shared item absolute full path\n\t *\n\t * @return {string}\n\t * @readonly\n\t * @memberof Share\n\t */\n\tget path() {\n\t\treturn this._share.path\n\t}\n\n\t/**\n\t * Return the item type: file or folder\n\t *\n\t * @return {string} 'folder' or 'file'\n\t * @readonly\n\t * @memberof Share\n\t */\n\tget itemType() {\n\t\treturn this._share.item_type\n\t}\n\n\t/**\n\t * Get the shared item mimetype\n\t *\n\t * @return {string}\n\t * @readonly\n\t * @memberof Share\n\t */\n\tget mimetype() {\n\t\treturn this._share.mimetype\n\t}\n\n\t/**\n\t * Get the shared item id\n\t *\n\t * @return {number}\n\t * @readonly\n\t * @memberof Share\n\t */\n\tget fileSource() {\n\t\treturn this._share.file_source\n\t}\n\n\t/**\n\t * Get the target path on the receiving end\n\t * e.g the file /xxx/aaa will be shared in\n\t * the receiving root as /aaa, the fileTarget is /aaa\n\t *\n\t * @return {string}\n\t * @readonly\n\t * @memberof Share\n\t */\n\tget fileTarget() {\n\t\treturn this._share.file_target\n\t}\n\n\t/**\n\t * Get the parent folder id if any\n\t *\n\t * @return {number}\n\t * @readonly\n\t * @memberof Share\n\t */\n\tget fileParent() {\n\t\treturn this._share.file_parent\n\t}\n\n\t// PERMISSIONS Shortcuts\n\n\t/**\n\t * Does this share have READ permissions\n\t *\n\t * @return {boolean}\n\t * @readonly\n\t * @memberof Share\n\t */\n\tget hasReadPermission() {\n\t\treturn !!((this.permissions & OC.PERMISSION_READ))\n\t}\n\n\t/**\n\t * Does this share have CREATE permissions\n\t *\n\t * @return {boolean}\n\t * @readonly\n\t * @memberof Share\n\t */\n\tget hasCreatePermission() {\n\t\treturn !!((this.permissions & OC.PERMISSION_CREATE))\n\t}\n\n\t/**\n\t * Does this share have DELETE permissions\n\t *\n\t * @return {boolean}\n\t * @readonly\n\t * @memberof Share\n\t */\n\tget hasDeletePermission() {\n\t\treturn !!((this.permissions & OC.PERMISSION_DELETE))\n\t}\n\n\t/**\n\t * Does this share have UPDATE permissions\n\t *\n\t * @return {boolean}\n\t * @readonly\n\t * @memberof Share\n\t */\n\tget hasUpdatePermission() {\n\t\treturn !!((this.permissions & OC.PERMISSION_UPDATE))\n\t}\n\n\t/**\n\t * Does this share have SHARE permissions\n\t *\n\t * @return {boolean}\n\t * @readonly\n\t * @memberof Share\n\t */\n\tget hasSharePermission() {\n\t\treturn !!((this.permissions & OC.PERMISSION_SHARE))\n\t}\n\n\t/**\n\t * Does this share have download permissions\n\t *\n\t * @return {boolean}\n\t * @readonly\n\t * @memberof Share\n\t */\n\tget hasDownloadPermission() {\n\t\tfor (const i in this._share.attributes) {\n\t\t\tconst attr = this._share.attributes[i]\n\t\t\tif (attr.scope === 'permissions' && attr.key === 'download') {\n\t\t\t\treturn attr.enabled\n\t\t\t}\n\t\t}\n\n\t\treturn true\n\t}\n\n\tset hasDownloadPermission(enabled) {\n\t\tthis.setAttribute('permissions', 'download', !!enabled)\n\t}\n\n\tsetAttribute(scope, key, enabled) {\n\t\tconst attrUpdate = {\n\t\t\tscope,\n\t\t\tkey,\n\t\t\tenabled,\n\t\t}\n\n\t\t// try and replace existing\n\t\tfor (const i in this._share.attributes) {\n\t\t\tconst attr = this._share.attributes[i]\n\t\t\tif (attr.scope === attrUpdate.scope && attr.key === attrUpdate.key) {\n\t\t\t\tthis._share.attributes[i] = attrUpdate\n\t\t\t\treturn\n\t\t\t}\n\t\t}\n\n\t\tthis._share.attributes.push(attrUpdate)\n\t}\n\n\t// PERMISSIONS Shortcuts for the CURRENT USER\n\t// ! the permissions above are the share settings,\n\t// ! meaning the permissions for the recipient\n\t/**\n\t * Can the current user EDIT this share ?\n\t *\n\t * @return {boolean}\n\t * @readonly\n\t * @memberof Share\n\t */\n\tget canEdit() {\n\t\treturn this._share.can_edit === true\n\t}\n\n\t/**\n\t * Can the current user DELETE this share ?\n\t *\n\t * @return {boolean}\n\t * @readonly\n\t * @memberof Share\n\t */\n\tget canDelete() {\n\t\treturn this._share.can_delete === true\n\t}\n\n\t/**\n\t * Top level accessible shared folder fileid for the current user\n\t *\n\t * @return {string}\n\t * @readonly\n\t * @memberof Share\n\t */\n\tget viaFileid() {\n\t\treturn this._share.via_fileid\n\t}\n\n\t/**\n\t * Top level accessible shared folder path for the current user\n\t *\n\t * @return {string}\n\t * @readonly\n\t * @memberof Share\n\t */\n\tget viaPath() {\n\t\treturn this._share.via_path\n\t}\n\n\t// TODO: SORT THOSE PROPERTIES\n\n\tget parent() {\n\t\treturn this._share.parent\n\t}\n\n\tget storageId() {\n\t\treturn this._share.storage_id\n\t}\n\n\tget storage() {\n\t\treturn this._share.storage\n\t}\n\n\tget itemSource() {\n\t\treturn this._share.item_source\n\t}\n\n\tget status() {\n\t\treturn this._share.status\n\t}\n\n}\n","/**\n * @copyright Copyright (c) 2019 John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n * @author Julius Härtl <jus@bitgrid.net>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport { Type as ShareTypes } from '@nextcloud/sharing'\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tSHARE_TYPES: ShareTypes,\n\t\t}\n\t},\n}\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingEntrySimple.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingEntrySimple.vue?vue&type=script&lang=js&\"","<!--\n  - @copyright Copyright (c) 2019 John Molakvoæ <skjnldsv@protonmail.com>\n  -\n  - @author John Molakvoæ <skjnldsv@protonmail.com>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<li class=\"sharing-entry\">\n\t\t<slot name=\"avatar\" />\n\t\t<div v-tooltip=\"tooltip\" class=\"sharing-entry__desc\">\n\t\t\t<h5>{{ title }}</h5>\n\t\t\t<p v-if=\"subtitle\">\n\t\t\t\t{{ subtitle }}\n\t\t\t</p>\n\t\t</div>\n\t\t<Actions v-if=\"$slots['default']\" menu-align=\"right\" class=\"sharing-entry__actions\">\n\t\t\t<slot />\n\t\t</Actions>\n\t</li>\n</template>\n\n<script>\nimport Actions from '@nextcloud/vue/dist/Components/Actions'\nimport Tooltip from '@nextcloud/vue/dist/Directives/Tooltip'\n\nexport default {\n\tname: 'SharingEntrySimple',\n\n\tcomponents: {\n\t\tActions,\n\t},\n\n\tdirectives: {\n\t\tTooltip,\n\t},\n\n\tprops: {\n\t\ttitle: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t\trequired: true,\n\t\t},\n\t\ttooltip: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\tsubtitle: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\tisUnique: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t},\n\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.sharing-entry {\n\tdisplay: flex;\n\talign-items: center;\n\tmin-height: 44px;\n\t&__desc {\n\t\tpadding: 8px;\n\t\tline-height: 1.2em;\n\t\tposition: relative;\n\t\tflex: 1 1;\n\t\tmin-width: 0;\n\t\th5 {\n\t\t\twhite-space: nowrap;\n\t\t\ttext-overflow: ellipsis;\n\t\t\toverflow: hidden;\n\t\t\tmax-width: inherit;\n\t\t}\n\t\tp {\n\t\t\tcolor: var(--color-text-maxcontrast);\n\t\t}\n\t}\n\t&__actions {\n\t\tmargin-left: auto !important;\n\t}\n}\n</style>\n","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingEntrySimple.vue?vue&type=style&index=0&id=1436bf4a&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingEntrySimple.vue?vue&type=style&index=0&id=1436bf4a&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./SharingEntrySimple.vue?vue&type=template&id=1436bf4a&scoped=true&\"\nimport script from \"./SharingEntrySimple.vue?vue&type=script&lang=js&\"\nexport * from \"./SharingEntrySimple.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SharingEntrySimple.vue?vue&type=style&index=0&id=1436bf4a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1436bf4a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"sharing-entry\"},[_vm._t(\"avatar\"),_vm._v(\" \"),_c('div',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.tooltip),expression:\"tooltip\"}],staticClass:\"sharing-entry__desc\"},[_c('h5',[_vm._v(_vm._s(_vm.title))]),_vm._v(\" \"),(_vm.subtitle)?_c('p',[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.subtitle)+\"\\n\\t\\t\")]):_vm._e()]),_vm._v(\" \"),(_vm.$slots['default'])?_c('Actions',{staticClass:\"sharing-entry__actions\",attrs:{\"menu-align\":\"right\"}},[_vm._t(\"default\")],2):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n<template>\n\t<SharingEntrySimple class=\"sharing-entry__internal\"\n\t\t:title=\"t('files_sharing', 'Internal link')\"\n\t\t:subtitle=\"internalLinkSubtitle\">\n\t\t<template #avatar>\n\t\t\t<div class=\"avatar-external icon-external-white\" />\n\t\t</template>\n\n\t\t<ActionLink ref=\"copyButton\"\n\t\t\t:href=\"internalLink\"\n\t\t\ttarget=\"_blank\"\n\t\t\t:icon=\"copied && copySuccess ? 'icon-checkmark-color' : 'icon-clippy'\"\n\t\t\t@click.prevent=\"copyLink\">\n\t\t\t{{ clipboardTooltip }}\n\t\t</ActionLink>\n\t</SharingEntrySimple>\n</template>\n\n<script>\nimport { generateUrl } from '@nextcloud/router'\nimport ActionLink from '@nextcloud/vue/dist/Components/ActionLink'\nimport SharingEntrySimple from './SharingEntrySimple'\n\nexport default {\n\tname: 'SharingEntryInternal',\n\n\tcomponents: {\n\t\tActionLink,\n\t\tSharingEntrySimple,\n\t},\n\n\tprops: {\n\t\tfileInfo: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => {},\n\t\t\trequired: true,\n\t\t},\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tcopied: false,\n\t\t\tcopySuccess: false,\n\t\t}\n\t},\n\n\tcomputed: {\n\t\t/**\n\t\t * Get the internal link to this file id\n\t\t *\n\t\t * @return {string}\n\t\t */\n\t\tinternalLink() {\n\t\t\treturn window.location.protocol + '//' + window.location.host + generateUrl('/f/') + this.fileInfo.id\n\t\t},\n\n\t\t/**\n\t\t * Clipboard v-tooltip message\n\t\t *\n\t\t * @return {string}\n\t\t */\n\t\tclipboardTooltip() {\n\t\t\tif (this.copied) {\n\t\t\t\treturn this.copySuccess\n\t\t\t\t\t? t('files_sharing', 'Link copied')\n\t\t\t\t\t: t('files_sharing', 'Cannot copy, please copy the link manually')\n\t\t\t}\n\t\t\treturn t('files_sharing', 'Copy to clipboard')\n\t\t},\n\n\t\tinternalLinkSubtitle() {\n\t\t\tif (this.fileInfo.type === 'dir') {\n\t\t\t\treturn t('files_sharing', 'Only works for users with access to this folder')\n\t\t\t}\n\t\t\treturn t('files_sharing', 'Only works for users with access to this file')\n\t\t},\n\t},\n\n\tmethods: {\n\t\tasync copyLink() {\n\t\t\ttry {\n\t\t\t\tawait this.$copyText(this.internalLink)\n\t\t\t\t// focus and show the tooltip\n\t\t\t\tthis.$refs.copyButton.$el.focus()\n\t\t\t\tthis.copySuccess = true\n\t\t\t\tthis.copied = true\n\t\t\t} catch (error) {\n\t\t\t\tthis.copySuccess = false\n\t\t\t\tthis.copied = true\n\t\t\t\tconsole.error(error)\n\t\t\t} finally {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.copySuccess = false\n\t\t\t\t\tthis.copied = false\n\t\t\t\t}, 4000)\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.sharing-entry__internal {\n\t.avatar-external {\n\t\twidth: 32px;\n\t\theight: 32px;\n\t\tline-height: 32px;\n\t\tfont-size: 18px;\n\t\tbackground-color: var(--color-text-maxcontrast);\n\t\tborder-radius: 50%;\n\t\tflex-shrink: 0;\n\t}\n\t.icon-checkmark-color {\n\t\topacity: 1;\n\t}\n}\n</style>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingEntryInternal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingEntryInternal.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingEntryInternal.vue?vue&type=style&index=0&id=854dc2c6&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingEntryInternal.vue?vue&type=style&index=0&id=854dc2c6&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./SharingEntryInternal.vue?vue&type=template&id=854dc2c6&scoped=true&\"\nimport script from \"./SharingEntryInternal.vue?vue&type=script&lang=js&\"\nexport * from \"./SharingEntryInternal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SharingEntryInternal.vue?vue&type=style&index=0&id=854dc2c6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"854dc2c6\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('SharingEntrySimple',{staticClass:\"sharing-entry__internal\",attrs:{\"title\":_vm.t('files_sharing', 'Internal link'),\"subtitle\":_vm.internalLinkSubtitle},scopedSlots:_vm._u([{key:\"avatar\",fn:function(){return [_c('div',{staticClass:\"avatar-external icon-external-white\"})]},proxy:true}])},[_vm._v(\" \"),_c('ActionLink',{ref:\"copyButton\",attrs:{\"href\":_vm.internalLink,\"target\":\"_blank\",\"icon\":_vm.copied && _vm.copySuccess ? 'icon-checkmark-color' : 'icon-clippy'},on:{\"click\":function($event){$event.preventDefault();return _vm.copyLink.apply(null, arguments)}}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.clipboardTooltip)+\"\\n\\t\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * @copyright Copyright (c) 2020 John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport axios from '@nextcloud/axios'\nimport Config from '../services/ConfigService'\n\nconst config = new Config()\nconst passwordSet = 'abcdefgijkmnopqrstwxyzABCDEFGHJKLMNPQRSTWXYZ23456789'\n\n/**\n * Generate a valid policy password or\n * request a valid password if password_policy\n * is enabled\n *\n * @return {string} a valid password\n */\nexport default async function() {\n\t// password policy is enabled, let's request a pass\n\tif (config.passwordPolicy.api && config.passwordPolicy.api.generate) {\n\t\ttry {\n\t\t\tconst request = await axios.get(config.passwordPolicy.api.generate)\n\t\t\tif (request.data.ocs.data.password) {\n\t\t\t\treturn request.data.ocs.data.password\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.info('Error generating password from password_policy', error)\n\t\t}\n\t}\n\n\t// generate password of 10 length based on passwordSet\n\treturn Array(10).fill(0)\n\t\t.reduce((prev, curr) => {\n\t\t\tprev += passwordSet.charAt(Math.floor(Math.random() * passwordSet.length))\n\t\t\treturn prev\n\t\t}, '')\n}\n","/**\n * @copyright Copyright (c) 2019 John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author Joas Schilling <coding@schilljs.com>\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n * @author Julius Härtl <jus@bitgrid.net>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\n// TODO: remove when ie not supported\nimport 'url-search-params-polyfill'\n\nimport { generateOcsUrl } from '@nextcloud/router'\nimport axios from '@nextcloud/axios'\nimport Share from '../models/Share'\n\nconst shareUrl = generateOcsUrl('apps/files_sharing/api/v1/shares')\n\nexport default {\n\tmethods: {\n\t\t/**\n\t\t * Create a new share\n\t\t *\n\t\t * @param {object} data destructuring object\n\t\t * @param {string} data.path  path to the file/folder which should be shared\n\t\t * @param {number} data.shareType  0 = user; 1 = group; 3 = public link; 6 = federated cloud share\n\t\t * @param {string} data.shareWith  user/group id with which the file should be shared (optional for shareType > 1)\n\t\t * @param {boolean} [data.publicUpload=false]  allow public upload to a public shared folder\n\t\t * @param {string} [data.password]  password to protect public link Share with\n\t\t * @param {number} [data.permissions=31]  1 = read; 2 = update; 4 = create; 8 = delete; 16 = share; 31 = all (default: 31, for public shares: 1)\n\t\t * @param {boolean} [data.sendPasswordByTalk=false] send the password via a talk conversation\n\t\t * @param {string} [data.expireDate=''] expire the shareautomatically after\n\t\t * @param {string} [data.label=''] custom label\n\t\t * @param {string} [data.hideDownload=''] custom hideDownload\n\t\t * @param {string} [data.attributes=null] Share attributes encoded as json\n\t\t * @return {Share} the new share,\n\t\t * @throws {Error}\n\t\t */\n\t\tasync createShare({ path, permissions, shareType, shareWith, publicUpload, password, sendPasswordByTalk, expireDate, label, hideDownload, note, attributes }) {\n\t\t\ttry {\n\t\t\t\tconst request = await axios.post(shareUrl, { path, permissions, shareType, shareWith, publicUpload, password, sendPasswordByTalk, expireDate, label, hideDownload, note, attributes })\n\t\t\t\tif (!request?.data?.ocs) {\n\t\t\t\t\tthrow request\n\t\t\t\t}\n\t\t\t\treturn new Share(request.data.ocs.data)\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('Error while creating share', error)\n\t\t\t\tconst errorMessage = error?.response?.data?.ocs?.meta?.message\n\t\t\t\tOC.Notification.showTemporary(\n\t\t\t\t\terrorMessage ? t('files_sharing', 'Error creating the share: {errorMessage}', { errorMessage }) : t('files_sharing', 'Error creating the share'),\n\t\t\t\t\t{ type: 'error' }\n\t\t\t\t)\n\t\t\t\tthrow error\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Delete a share\n\t\t *\n\t\t * @param {number} id share id\n\t\t * @throws {Error}\n\t\t */\n\t\tasync deleteShare(id) {\n\t\t\ttry {\n\t\t\t\tconst request = await axios.delete(shareUrl + `/${id}`)\n\t\t\t\tif (!request?.data?.ocs) {\n\t\t\t\t\tthrow request\n\t\t\t\t}\n\t\t\t\treturn true\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('Error while deleting share', error)\n\t\t\t\tconst errorMessage = error?.response?.data?.ocs?.meta?.message\n\t\t\t\tOC.Notification.showTemporary(\n\t\t\t\t\terrorMessage ? t('files_sharing', 'Error deleting the share: {errorMessage}', { errorMessage }) : t('files_sharing', 'Error deleting the share'),\n\t\t\t\t\t{ type: 'error' }\n\t\t\t\t)\n\t\t\t\tthrow error\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Update a share\n\t\t *\n\t\t * @param {number} id share id\n\t\t * @param {object} properties key-value object of the properties to update\n\t\t */\n\t\tasync updateShare(id, properties) {\n\t\t\ttry {\n\t\t\t\tconst request = await axios.put(shareUrl + `/${id}`, properties)\n\t\t\t\tif (!request?.data?.ocs) {\n\t\t\t\t\tthrow request\n\t\t\t\t} else {\n\t\t\t\t\treturn request.data.ocs.data\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('Error while updating share', error)\n\t\t\t\tif (error.response.status !== 400) {\n\t\t\t\t\tconst errorMessage = error?.response?.data?.ocs?.meta?.message\n\t\t\t\t\tOC.Notification.showTemporary(\n\t\t\t\t\t\terrorMessage ? t('files_sharing', 'Error updating the share: {errorMessage}', { errorMessage }) : t('files_sharing', 'Error updating the share'),\n\t\t\t\t\t\t{ type: 'error' }\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\tconst message = error.response.data.ocs.meta.message\n\t\t\t\tthrow new Error(message)\n\t\t\t}\n\t\t},\n\t},\n}\n","<!--\n  - @copyright Copyright (c) 2019 John Molakvoæ <skjnldsv@protonmail.com>\n  -\n  - @author John Molakvoæ <skjnldsv@protonmail.com>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<div>\n\t\t<Multiselect ref=\"multiselect\"\n\t\t\tclass=\"sharing-input\"\n\t\t\t:clear-on-select=\"true\"\n\t\t\t:disabled=\"!canReshare\"\n\t\t\t:hide-selected=\"true\"\n\t\t\t:internal-search=\"false\"\n\t\t\t:loading=\"loading\"\n\t\t\t:options=\"options\"\n\t\t\t:placeholder=\"inputPlaceholder\"\n\t\t\t:preselect-first=\"true\"\n\t\t\t:preserve-search=\"true\"\n\t\t\t:searchable=\"true\"\n\t\t\t:user-select=\"true\"\n\t\t\topen-direction=\"below\"\n\t\t\tlabel=\"displayName\"\n\t\t\ttrack-by=\"id\"\n\t\t\t@search-change=\"asyncFind\"\n\t\t\t@select=\"showPermissions\">\n\t\t\t<template #noOptions>\n\t\t\t\t{{ t('files_sharing', 'No recommendations. Start typing.') }}\n\t\t\t</template>\n\t\t\t<template #noResult>\n\t\t\t\t{{ noResultText }}\n\t\t\t</template>\n\t\t</Multiselect>\n\t\t<!-- Create new share -->\n\t\t<button v-if=\"canReshare\"\n\t\t\tclass=\"add-new-link-btn\"\n\t\t\t@click.prevent.stop=\"onNewLinkShare\">\n\t\t\t{{ t('files_sharing', 'Add link') }}\n\t\t</button>\n\t</div>\n</template>\n\n<script>\nimport { generateOcsUrl } from '@nextcloud/router'\nimport { getCurrentUser } from '@nextcloud/auth'\nimport axios from '@nextcloud/axios'\nimport debounce from 'debounce'\nimport Multiselect from '@nextcloud/vue/dist/Components/Multiselect'\n\nimport Config from '../services/ConfigService'\nimport GeneratePassword from '../utils/GeneratePassword'\nimport Share from '../models/Share'\nimport ShareRequests from '../mixins/ShareRequests'\nimport ShareTypes from '../mixins/ShareTypes'\n\nexport default {\n\tname: 'SharingInput',\n\n\tcomponents: {\n\t\tMultiselect,\n\t},\n\n\tmixins: [ShareTypes, ShareRequests],\n\n\tprops: {\n\t\tshares: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => [],\n\t\t\trequired: true,\n\t\t},\n\t\tlinkShares: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => [],\n\t\t\trequired: true,\n\t\t},\n\t\tfileInfo: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => {},\n\t\t\trequired: true,\n\t\t},\n\t\treshare: {\n\t\t\ttype: Share,\n\t\t\tdefault: null,\n\t\t},\n\t\tcanReshare: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true,\n\t\t},\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tconfig: new Config(),\n\t\t\tloading: false,\n\t\t\tquery: '',\n\t\t\trecommendations: [],\n\t\t\tShareSearch: OCA.Sharing.ShareSearch.state,\n\t\t\tsuggestions: [],\n\t\t}\n\t},\n\n\tcomputed: {\n\t\t/**\n\t\t * Implement ShareSearch\n\t\t * allows external appas to inject new\n\t\t * results into the autocomplete dropdown\n\t\t * Used for the guests app\n\t\t *\n\t\t * @return {Array}\n\t\t */\n\t\texternalResults() {\n\t\t\treturn this.ShareSearch.results\n\t\t},\n\t\tinputPlaceholder() {\n\t\t\tconst allowRemoteSharing = this.config.isRemoteShareAllowed\n\n\t\t\tif (!this.canReshare) {\n\t\t\t\treturn t('files_sharing', 'Resharing is not allowed')\n\t\t\t}\n\t\t\t// We can always search with email addresses for users too\n\t\t\tif (!allowRemoteSharing) {\n\t\t\t\treturn t('files_sharing', 'Name or email …')\n\t\t\t}\n\n\t\t\treturn t('files_sharing', 'Name, email, or Federated Cloud ID …')\n\t\t},\n\n\t\tisValidQuery() {\n\t\t\treturn this.query && this.query.trim() !== '' && this.query.length > this.config.minSearchStringLength\n\t\t},\n\n\t\toptions() {\n\t\t\tif (this.isValidQuery) {\n\t\t\t\treturn this.suggestions\n\t\t\t}\n\t\t\treturn this.recommendations\n\t\t},\n\n\t\tnoResultText() {\n\t\t\tif (this.loading) {\n\t\t\t\treturn t('files_sharing', 'Searching …')\n\t\t\t}\n\t\t\treturn t('files_sharing', 'No elements found.')\n\t\t},\n\t},\n\n\tmounted() {\n\t\tthis.getRecommendations()\n\n\t\tthis.$root.$on('getRecommendations', data => {\n\t\t\tthis.getRecommendations()\n\t\t})\n\t},\n\n\tmethods: {\n\t\t/**\n\t\t * Create a new share link and append it to the list\n\t\t */\n\t\tasync onNewLinkShare() {\n\t\t\t// do not run again if already loading\n\t\t\tif (this.loading) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tconst shareDefaults = {\n\t\t\t\tshare_type: OC.Share.SHARE_TYPE_LINK,\n\t\t\t}\n\t\t\tif (this.config.isDefaultExpireDateEnforced) {\n\t\t\t\t// default is empty string if not set\n\t\t\t\t// expiration is the share object key, not expireDate\n\t\t\t\tshareDefaults.expiration = this.config.defaultExpirationDateString\n\t\t\t}\n\t\t\tif (this.config.enableLinkPasswordByDefault) {\n\t\t\t\tshareDefaults.password = await GeneratePassword()\n\t\t\t}\n\n\t\t\t// do not push yet if we need a password or an expiration date: show pending menu\n\t\t\tif (this.config.enforcePasswordForPublicLink || this.config.isDefaultExpireDateEnforced) {\n\t\t\t\tthis.pending = true\n\n\t\t\t\t// if a share already exists, pushing it\n\t\t\t\tif (this.share && !this.share.id) {\n\t\t\t\t\t// if the share is valid, create it on the server\n\t\t\t\t\tif (this.checkShare(this.share)) {\n\t\t\t\t\t\tawait this.pushNewLinkShare(this.share, true)\n\t\t\t\t\t\treturn true\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.open = true\n\t\t\t\t\t\tOC.Notification.showTemporary(t('files_sharing', 'Error, please enter proper password and/or expiration date'))\n\t\t\t\t\t\treturn false\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// ELSE, show the pending popovermenu\n\t\t\t\t// if password enforced, pre-fill with random one\n\t\t\t\tif (this.config.enforcePasswordForPublicLink) {\n\t\t\t\t\tshareDefaults.password = await GeneratePassword()\n\t\t\t\t}\n\n\t\t\t\t// create share & close menu\n\t\t\t\tconst share = new Share(shareDefaults)\n\t\t\t\tconst component = await new Promise(resolve => {\n\t\t\t\t\tthis.$emit('add:share', share, resolve)\n\t\t\t\t})\n\n\t\t\t\t// open the menu on the\n\t\t\t\t// freshly created share component\n\t\t\t\tthis.open = false\n\t\t\t\tthis.pending = false\n\t\t\t\tcomponent.open = true\n\n\t\t\t// Nothing is enforced, creating share directly\n\t\t\t} else {\n\t\t\t\tconst share = new Share(shareDefaults)\n\t\t\t\tawait this.pushNewLinkShare(share)\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Push a new link share to the server\n\t\t * And update or append to the list\n\t\t * accordingly\n\t\t *\n\t\t * @param {Share} share the new share\n\t\t * @param {boolean} [update=false] do we update the current share ?\n\t\t */\n\t\tasync pushNewLinkShare(share, update) {\n\t\t\ttry {\n\t\t\t\t// do nothing if we're already pending creation\n\t\t\t\tif (this.loading) {\n\t\t\t\t\treturn true\n\t\t\t\t}\n\n\t\t\t\t// this.loading = true\n\t\t\t\tthis.errors = {}\n\n\t\t\t\tconst path = (this.fileInfo.path + '/' + this.fileInfo.name).replace('//', '/')\n\t\t\t\tconst newShare = await this.createShare({\n\t\t\t\t\tpath,\n\t\t\t\t\tshareType: OC.Share.SHARE_TYPE_LINK,\n\t\t\t\t\tpassword: share.password,\n\t\t\t\t\texpireDate: share.expireDate,\n\t\t\t\t\t// we do not allow setting the publicUpload\n\t\t\t\t\t// before the share creation.\n\t\t\t\t\t// Todo: We also need to fix the createShare method in\n\t\t\t\t\t// lib/Controller/ShareAPIController.php to allow file drop\n\t\t\t\t\t// (currently not supported on create, only update)\n\t\t\t\t})\n\n\t\t\t\tthis.open = false\n\n\t\t\t\tconsole.debug('Link share created', newShare)\n\n\t\t\t\t// if share already exists, copy link directly on next tick\n\t\t\t\tlet component\n\t\t\t\tif (update) {\n\t\t\t\t\tcomponent = await new Promise(resolve => {\n\t\t\t\t\t\tthis.$emit('update:share', newShare, resolve)\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\t// adding new share to the array and copying link to clipboard\n\t\t\t\t\t// using promise so that we can copy link in the same click function\n\t\t\t\t\t// and avoid firefox copy permissions issue\n\t\t\t\t\tcomponent = await new Promise(resolve => {\n\t\t\t\t\t\tthis.addShare(newShare, resolve)\n\t\t\t\t\t\t// this.$emit('add:share', newShare, resolve)\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\t// Execute the copy link method\n\t\t\t\t// freshly created share component\n\t\t\t\t// ! somehow does not works on firefox !\n\t\t\t\tif (!this.config.enforcePasswordForPublicLink) {\n\t\t\t\t\t// Only copy the link when the password was not forced,\n\t\t\t\t\t// otherwise the user needs to copy/paste the password before finishing the share.\n\t\t\t\t\tcomponent.copyLink()\n\t\t\t\t}\n\n\t\t\t} catch ({ response }) {\n\t\t\t\t// const message = response.data.ocs.meta.message\n\t\t\t\t// if (message.match(/password/i)) {\n\t\t\t\t// \tthis.onSyncError('password', message)\n\t\t\t\t// } else if (message.match(/date/i)) {\n\t\t\t\t// \tthis.onSyncError('expireDate', message)\n\t\t\t\t// } else {\n\t\t\t\t// \tthis.onSyncError('pending', message)\n\t\t\t\t// }\n\t\t\t} finally {\n\t\t\t\tthis.loading = false\n\t\t\t}\n\t\t},\n\n\t\tasync copyLink() {\n\t\t\ttry {\n\t\t\t\tawait this.$copyText(this.shareLink)\n\t\t\t\t// focus and show the tooltip\n\t\t\t\tthis.$refs.copyButton.$el.focus()\n\t\t\t\tthis.copySuccess = true\n\t\t\t\tthis.copied = true\n\t\t\t} catch (error) {\n\t\t\t\tthis.copySuccess = false\n\t\t\t\tthis.copied = true\n\t\t\t\tconsole.error(error)\n\t\t\t} finally {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.copySuccess = false\n\t\t\t\t\tthis.copied = false\n\t\t\t\t}, 4000)\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Add a new share into the link shares list\n\t\t * and return the newly created share component\n\t\t *\n\t\t * @param {Share} share the share to add to the array\n\t\t * @param {Function} resolve a function to run after the share is added and its component initialized\n\t\t */\n\t\taddShare(share, resolve) {\n\t\t\tthis.linkShares.unshift(share)\n\t\t\tthis.awaitForShare(share, resolve)\n\t\t},\n\n\t\t/**\n\t\t * Await for next tick and render after the list updated\n\t\t * Then resolve with the matched vue component of the\n\t\t * provided share object\n\t\t *\n\t\t * @param {Share} share newly created share\n\t\t * @param {Function} resolve a function to execute after\n\t\t */\n\t\tawaitForShare(share, resolve) {\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tconst newShare = this.$children.find(component => component.share === share)\n\t\t\t\tif (newShare) {\n\t\t\t\t\tresolve(newShare)\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\n\t\tasync asyncFind(query, id) {\n\t\t\t// save current query to check if we display\n\t\t\t// recommendations or search results\n\t\t\tthis.query = query.trim()\n\t\t\tif (this.isValidQuery) {\n\t\t\t\t// start loading now to have proper ux feedback\n\t\t\t\t// during the debounce\n\t\t\t\tthis.loading = true\n\t\t\t\tawait this.debounceGetSuggestions(query)\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Get suggestions\n\t\t *\n\t\t * @param {string} search the search query\n\t\t * @param {boolean} [lookup=false] search on lookup server\n\t\t */\n\t\tasync getSuggestions(search, lookup = false) {\n\t\t\tthis.loading = true\n\n\t\t\tif (OC.getCapabilities().files_sharing.sharee.query_lookup_default === true) {\n\t\t\t\tlookup = true\n\t\t\t}\n\n\t\t\tconst shareType = [\n\t\t\t\tthis.SHARE_TYPES.SHARE_TYPE_USER,\n\t\t\t\tthis.SHARE_TYPES.SHARE_TYPE_GROUP,\n\t\t\t\tthis.SHARE_TYPES.SHARE_TYPE_REMOTE,\n\t\t\t\tthis.SHARE_TYPES.SHARE_TYPE_REMOTE_GROUP,\n\t\t\t\tthis.SHARE_TYPES.SHARE_TYPE_CIRCLE,\n\t\t\t\tthis.SHARE_TYPES.SHARE_TYPE_ROOM,\n\t\t\t\tthis.SHARE_TYPES.SHARE_TYPE_GUEST,\n\t\t\t\tthis.SHARE_TYPES.SHARE_TYPE_DECK,\n\t\t\t]\n\n\t\t\tif (OC.getCapabilities().files_sharing.public.enabled === true) {\n\t\t\t\tshareType.push(this.SHARE_TYPES.SHARE_TYPE_EMAIL)\n\t\t\t}\n\n\t\t\tlet request = null\n\t\t\ttry {\n\t\t\t\trequest = await axios.get(generateOcsUrl('apps/files_sharing/api/v1/sharees'), {\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tformat: 'json',\n\t\t\t\t\t\titemType: this.fileInfo.type === 'dir' ? 'folder' : 'file',\n\t\t\t\t\t\tsearch,\n\t\t\t\t\t\tlookup,\n\t\t\t\t\t\tperPage: this.config.maxAutocompleteResults,\n\t\t\t\t\t\tshareType,\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('Error fetching suggestions', error)\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tconst data = request.data.ocs.data\n\t\t\tconst exact = request.data.ocs.data.exact\n\t\t\tdata.exact = [] // removing exact from general results\n\n\t\t\t// flatten array of arrays\n\t\t\tconst rawExactSuggestions = Object.values(exact).reduce((arr, elem) => arr.concat(elem), [])\n\t\t\tconst rawSuggestions = Object.values(data).reduce((arr, elem) => arr.concat(elem), [])\n\n\t\t\t// remove invalid data and format to user-select layout\n\t\t\tconst exactSuggestions = this.filterOutExistingShares(rawExactSuggestions)\n\t\t\t\t.map(share => this.formatForMultiselect(share))\n\t\t\t\t// sort by type so we can get user&groups first...\n\t\t\t\t.sort((a, b) => a.shareType - b.shareType)\n\t\t\tconst suggestions = this.filterOutExistingShares(rawSuggestions)\n\t\t\t\t.map(share => this.formatForMultiselect(share))\n\t\t\t\t// sort by type so we can get user&groups first...\n\t\t\t\t.sort((a, b) => a.shareType - b.shareType)\n\n\t\t\t// lookup clickable entry\n\t\t\t// show if enabled and not already requested\n\t\t\tconst lookupEntry = []\n\t\t\tif (data.lookupEnabled && !lookup) {\n\t\t\t\tlookupEntry.push({\n\t\t\t\t\tid: 'global-lookup',\n\t\t\t\t\tisNoUser: true,\n\t\t\t\t\tdisplayName: t('files_sharing', 'Search globally'),\n\t\t\t\t\tlookup: true,\n\t\t\t\t})\n\t\t\t}\n\n\t\t\t// if there is a condition specified, filter it\n\t\t\tconst externalResults = this.externalResults.filter(result => !result.condition || result.condition(this))\n\n\t\t\tconst allSuggestions = exactSuggestions.concat(suggestions).concat(externalResults).concat(lookupEntry)\n\n\t\t\t// Count occurances of display names in order to provide a distinguishable description if needed\n\t\t\tconst nameCounts = allSuggestions.reduce((nameCounts, result) => {\n\t\t\t\tif (!result.displayName) {\n\t\t\t\t\treturn nameCounts\n\t\t\t\t}\n\t\t\t\tif (!nameCounts[result.displayName]) {\n\t\t\t\t\tnameCounts[result.displayName] = 0\n\t\t\t\t}\n\t\t\t\tnameCounts[result.displayName]++\n\t\t\t\treturn nameCounts\n\t\t\t}, {})\n\n\t\t\tthis.suggestions = allSuggestions.map(item => {\n\t\t\t\t// Make sure that items with duplicate displayName get the shareWith applied as a description\n\t\t\t\tif (nameCounts[item.displayName] > 1 && !item.desc) {\n\t\t\t\t\treturn { ...item, desc: item.shareWithDisplayNameUnique }\n\t\t\t\t}\n\t\t\t\treturn item\n\t\t\t})\n\n\t\t\tthis.loading = false\n\t\t},\n\n\t\t/**\n\t\t * Debounce getSuggestions\n\t\t *\n\t\t * @param {...*} args the arguments\n\t\t */\n\t\tdebounceGetSuggestions: debounce(function(...args) {\n\t\t\tthis.getSuggestions(...args)\n\t\t}, 300),\n\n\t\t/**\n\t\t * Get the sharing recommendations\n\t\t */\n\t\tasync getRecommendations() {\n\t\t\tthis.loading = true\n\n\t\t\tlet request = null\n\t\t\ttry {\n\t\t\t\trequest = await axios.get(generateOcsUrl('apps/files_sharing/api/v1/sharees_recommended'), {\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tformat: 'json',\n\t\t\t\t\t\titemType: this.fileInfo.type,\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('Error fetching recommendations', error)\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\t// Add external results from the OCA.Sharing.ShareSearch api\n\t\t\tconst externalResults = this.externalResults.filter(result => !result.condition || result.condition(this))\n\n\t\t\t// flatten array of arrays\n\t\t\tconst rawRecommendations = Object.values(request.data.ocs.data.exact)\n\t\t\t\t.reduce((arr, elem) => arr.concat(elem), [])\n\n\t\t\t// remove invalid data and format to user-select layout\n\t\t\tthis.recommendations = this.filterOutExistingShares(rawRecommendations)\n\t\t\t\t.map(share => this.formatForMultiselect(share))\n\t\t\t\t.concat(externalResults)\n\n\t\t\tthis.loading = false\n\t\t},\n\n\t\t/**\n\t\t * Filter out existing shares from\n\t\t * the provided shares search results\n\t\t *\n\t\t * @param {object[]} shares the array of shares object\n\t\t * @return {object[]}\n\t\t */\n\t\tfilterOutExistingShares(shares) {\n\t\t\treturn shares.reduce((arr, share) => {\n\t\t\t\t// only check proper objects\n\t\t\t\tif (typeof share !== 'object') {\n\t\t\t\t\treturn arr\n\t\t\t\t}\n\t\t\t\ttry {\n\t\t\t\t\tif (share.value.shareType === this.SHARE_TYPES.SHARE_TYPE_USER) {\n\t\t\t\t\t\t// filter out current user\n\t\t\t\t\t\tif (share.value.shareWith === getCurrentUser().uid) {\n\t\t\t\t\t\t\treturn arr\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// filter out the owner of the share\n\t\t\t\t\t\tif (this.reshare && share.value.shareWith === this.reshare.owner) {\n\t\t\t\t\t\t\treturn arr\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// filter out existing mail shares\n\t\t\t\t\tif (share.value.shareType === this.SHARE_TYPES.SHARE_TYPE_EMAIL) {\n\t\t\t\t\t\tconst emails = this.linkShares.map(elem => elem.shareWith)\n\t\t\t\t\t\tif (emails.indexOf(share.value.shareWith.trim()) !== -1) {\n\t\t\t\t\t\t\treturn arr\n\t\t\t\t\t\t}\n\t\t\t\t\t} else { // filter out existing shares\n\t\t\t\t\t\t// creating an object of uid => type\n\t\t\t\t\t\tconst sharesObj = this.shares.reduce((obj, elem) => {\n\t\t\t\t\t\t\tobj[elem.shareWith] = elem.type\n\t\t\t\t\t\t\treturn obj\n\t\t\t\t\t\t}, {})\n\n\t\t\t\t\t\t// if shareWith is the same and the share type too, ignore it\n\t\t\t\t\t\tconst key = share.value.shareWith.trim()\n\t\t\t\t\t\tif (key in sharesObj\n\t\t\t\t\t\t\t&& sharesObj[key] === share.value.shareType) {\n\t\t\t\t\t\t\treturn arr\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// ALL GOOD\n\t\t\t\t\t// let's add the suggestion\n\t\t\t\t\tarr.push(share)\n\t\t\t\t} catch {\n\t\t\t\t\treturn arr\n\t\t\t\t}\n\t\t\t\treturn arr\n\t\t\t}, [])\n\t\t},\n\n\t\t/**\n\t\t * Get the icon based on the share type\n\t\t *\n\t\t * @param {number} type the share type\n\t\t * @return {string} the icon class\n\t\t */\n\t\tshareTypeToIcon(type) {\n\t\t\tswitch (type) {\n\t\t\tcase this.SHARE_TYPES.SHARE_TYPE_GUEST:\n\t\t\t\t// default is a user, other icons are here to differenciate\n\t\t\t\t// themselves from it, so let's not display the user icon\n\t\t\t\t// case this.SHARE_TYPES.SHARE_TYPE_REMOTE:\n\t\t\t\t// case this.SHARE_TYPES.SHARE_TYPE_USER:\n\t\t\t\treturn 'icon-user'\n\t\t\tcase this.SHARE_TYPES.SHARE_TYPE_REMOTE_GROUP:\n\t\t\tcase this.SHARE_TYPES.SHARE_TYPE_GROUP:\n\t\t\t\treturn 'icon-group'\n\t\t\tcase this.SHARE_TYPES.SHARE_TYPE_EMAIL:\n\t\t\t\treturn 'icon-mail'\n\t\t\tcase this.SHARE_TYPES.SHARE_TYPE_CIRCLE:\n\t\t\t\treturn 'icon-circle'\n\t\t\tcase this.SHARE_TYPES.SHARE_TYPE_ROOM:\n\t\t\t\treturn 'icon-room'\n\t\t\tcase this.SHARE_TYPES.SHARE_TYPE_DECK:\n\t\t\t\treturn 'icon-deck'\n\n\t\t\tdefault:\n\t\t\t\treturn ''\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Format shares for the multiselect options\n\t\t *\n\t\t * @param {object} result select entry item\n\t\t * @return {object}\n\t\t */\n\t\tformatForMultiselect(result) {\n\t\t\tlet subtitle\n\t\t\tif (result.value.shareType === this.SHARE_TYPES.SHARE_TYPE_USER && this.config.shouldAlwaysShowUnique) {\n\t\t\t\tsubtitle = result.shareWithDisplayNameUnique ?? ''\n\t\t\t} else if ((result.value.shareType === this.SHARE_TYPES.SHARE_TYPE_REMOTE\n\t\t\t\t\t|| result.value.shareType === this.SHARE_TYPES.SHARE_TYPE_REMOTE_GROUP\n\t\t\t) && result.value.server) {\n\t\t\t\tsubtitle = t('files_sharing', 'on {server}', { server: result.value.server })\n\t\t\t} else if (result.value.shareType === this.SHARE_TYPES.SHARE_TYPE_EMAIL) {\n\t\t\t\tsubtitle = result.value.shareWith\n\t\t\t} else {\n\t\t\t\tsubtitle = result.shareWithDescription ?? ''\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tid: `${result.value.shareType}-${result.value.shareWith}`,\n\t\t\t\tshareWith: result.value.shareWith,\n\t\t\t\tshareType: result.value.shareType,\n\t\t\t\tuser: result.uuid || result.value.shareWith,\n\t\t\t\tisNoUser: result.value.shareType !== this.SHARE_TYPES.SHARE_TYPE_USER,\n\t\t\t\tdisplayName: result.name || result.label,\n\t\t\t\tsubtitle,\n\t\t\t\tshareWithDisplayNameUnique: result.shareWithDisplayNameUnique || '',\n\t\t\t\ticon: this.shareTypeToIcon(result.value.shareType),\n\t\t\t}\n\t\t},\n\n\t\tasync showPermissions(value) {\n\t\t\t// this.$root.$emit('optionValues', value)\n\t\t\tthis.$store.commit('addOption', value)\n\t\t\tthis.$store.commit('addFromInput', true)\n\t\t\tconst newShare = new Share({})\n\t\t\tnewShare.permissions = OC.PERMISSION_READ\n\t\t\tnewShare.expireDate = ''\n\t\t\tnewShare.password = ''\n\t\t\tthis.$store.commit('addShare', newShare)\n\t\t\tthis.$store.commit('addCurrentTab', 'permissions')\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\">\n.sharing-input {\n\twidth: 100%;\n\tmargin: 10px 0;\n\n\t// properly style the lookup entry\n\t.multiselect__option {\n\t\tspan[lookup] {\n\t\t\t.avatardiv {\n\t\t\t\tbackground-image: var(--icon-search-fff);\n\t\t\t\tbackground-repeat: no-repeat;\n\t\t\t\tbackground-position: center;\n\t\t\t\tbackground-color: var(--color-text-maxcontrast) !important;\n\t\t\t\tdiv {\n\t\t\t\t\tdisplay: none;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n</style>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingInput.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingInput.vue?vue&type=style&index=0&lang=scss&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingInput.vue?vue&type=style&index=0&lang=scss&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./SharingInput.vue?vue&type=template&id=1c0a62fc&\"\nimport script from \"./SharingInput.vue?vue&type=script&lang=js&\"\nexport * from \"./SharingInput.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SharingInput.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Multiselect',{ref:\"multiselect\",staticClass:\"sharing-input\",attrs:{\"clear-on-select\":true,\"disabled\":!_vm.canReshare,\"hide-selected\":true,\"internal-search\":false,\"loading\":_vm.loading,\"options\":_vm.options,\"placeholder\":_vm.inputPlaceholder,\"preselect-first\":true,\"preserve-search\":true,\"searchable\":true,\"user-select\":true,\"open-direction\":\"below\",\"label\":\"displayName\",\"track-by\":\"id\"},on:{\"search-change\":_vm.asyncFind,\"select\":_vm.showPermissions},scopedSlots:_vm._u([{key:\"noOptions\",fn:function(){return [_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'No recommendations. Start typing.'))+\"\\n\\t\\t\")]},proxy:true},{key:\"noResult\",fn:function(){return [_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.noResultText)+\"\\n\\t\\t\")]},proxy:true}])}),_vm._v(\" \"),(_vm.canReshare)?_c('button',{staticClass:\"add-new-link-btn\",on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.onNewLinkShare.apply(null, arguments)}}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('files_sharing', 'Add link'))+\"\\n\\t\")]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * @copyright Copyright (c) 2019 John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @author Christoph Wurst <christoph@winzerhof-wurst.at>\n * @author Daniel Calviño Sánchez <danxuliu@gmail.com>\n * @author Gary Kim <gary@garykim.dev>\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n * @author Julius Härtl <jus@bitgrid.net>\n * @author Vincent Petry <vincent@nextcloud.com>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\n// eslint-disable-next-line import/no-unresolved, node/no-missing-import\nimport PQueue from 'p-queue'\nimport debounce from 'debounce'\n\nimport Share from '../models/Share'\nimport SharesRequests from './ShareRequests'\nimport ShareTypes from './ShareTypes'\nimport Config from '../services/ConfigService'\nimport { getCurrentUser } from '@nextcloud/auth'\n\nexport default {\n\tmixins: [SharesRequests, ShareTypes],\n\n\tprops: {\n\t\tfileInfo: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => {},\n\t\t\trequired: true,\n\t\t},\n\t\tshare: {\n\t\t\ttype: Share,\n\t\t\tdefault: null,\n\t\t},\n\t\tisUnique: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tconfig: new Config(),\n\n\t\t\t// errors helpers\n\t\t\terrors: {},\n\n\t\t\t// component status toggles\n\t\t\tloading: false,\n\t\t\tsaving: false,\n\t\t\topen: false,\n\n\t\t\t// concurrency management queue\n\t\t\t// we want one queue per share\n\t\t\tupdateQueue: new PQueue({ concurrency: 1 }),\n\n\t\t\t/**\n\t\t\t * ! This allow vue to make the Share class state reactive\n\t\t\t * ! do not remove it ot you'll lose all reactivity here\n\t\t\t */\n\t\t\treactiveState: this.share?.state,\n\n\t\t\tSHARE_TYPES: {\n\t\t\t\tSHARE_TYPE_USER: OC.Share.SHARE_TYPE_USER,\n\t\t\t\tSHARE_TYPE_GROUP: OC.Share.SHARE_TYPE_GROUP,\n\t\t\t\tSHARE_TYPE_LINK: OC.Share.SHARE_TYPE_LINK,\n\t\t\t\tSHARE_TYPE_EMAIL: OC.Share.SHARE_TYPE_EMAIL,\n\t\t\t\tSHARE_TYPE_REMOTE: OC.Share.SHARE_TYPE_REMOTE,\n\t\t\t\tSHARE_TYPE_CIRCLE: OC.Share.SHARE_TYPE_CIRCLE,\n\t\t\t\tSHARE_TYPE_GUEST: OC.Share.SHARE_TYPE_GUEST,\n\t\t\t\tSHARE_TYPE_REMOTE_GROUP: OC.Share.SHARE_TYPE_REMOTE_GROUP,\n\t\t\t\tSHARE_TYPE_ROOM: OC.Share.SHARE_TYPE_ROOM,\n\t\t\t},\n\t\t}\n\t},\n\n\tcomputed: {\n\n\t\t/**\n\t\t * Does the current share have a note\n\t\t *\n\t\t * @return {boolean}\n\t\t */\n\t\thasNote: {\n\t\t\tget() {\n\t\t\t\treturn this.share.note !== ''\n\t\t\t},\n\t\t\tset(enabled) {\n\t\t\t\tthis.share.note = enabled\n\t\t\t\t\t? null // enabled but user did not changed the content yet\n\t\t\t\t\t: '' // empty = no note = disabled\n\t\t\t},\n\t\t},\n\n\t\tdateTomorrow() {\n\t\t\treturn moment().add(1, 'days')\n\t\t},\n\n\t\t// Datepicker language\n\t\tlang() {\n\t\t\tconst weekdaysShort = window.dayNamesShort\n\t\t\t\t? window.dayNamesShort // provided by nextcloud\n\t\t\t\t: ['Sun.', 'Mon.', 'Tue.', 'Wed.', 'Thu.', 'Fri.', 'Sat.']\n\t\t\tconst monthsShort = window.monthNamesShort\n\t\t\t\t? window.monthNamesShort // provided by nextcloud\n\t\t\t\t: ['Jan.', 'Feb.', 'Mar.', 'Apr.', 'May.', 'Jun.', 'Jul.', 'Aug.', 'Sep.', 'Oct.', 'Nov.', 'Dec.']\n\t\t\tconst firstDayOfWeek = window.firstDay ? window.firstDay : 0\n\n\t\t\treturn {\n\t\t\t\tformatLocale: {\n\t\t\t\t\tfirstDayOfWeek,\n\t\t\t\t\tmonthsShort,\n\t\t\t\t\tweekdaysMin: weekdaysShort,\n\t\t\t\t\tweekdaysShort,\n\t\t\t\t},\n\t\t\t\tmonthFormat: 'MMM',\n\t\t\t}\n\t\t},\n\n\t\tisShareOwner() {\n\t\t\treturn this.share && this.share.owner === getCurrentUser().uid\n\t\t},\n\n\t},\n\n\tmethods: {\n\t\t/**\n\t\t * Check if a share is valid before\n\t\t * firing the request\n\t\t *\n\t\t * @param {Share} share the share to check\n\t\t * @return {boolean}\n\t\t */\n\t\tcheckShare(share) {\n\t\t\tif (share.password) {\n\t\t\t\tif (typeof share.password !== 'string' || share.password.trim() === '') {\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (share.expirationDate) {\n\t\t\t\tconst date = moment(share.expirationDate)\n\t\t\t\tif (!date.isValid()) {\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true\n\t\t},\n\n\t\t/**\n\t\t * ActionInput can be a little tricky to work with.\n\t\t * Since we expect a string and not a Date,\n\t\t * we need to process the value here\n\t\t *\n\t\t * @param {Date} date js date to be parsed by moment.js\n\t\t */\n\t\tonExpirationChange(date) {\n\t\t\t// format to YYYY-MM-DD\n\t\t\tconst value = moment(date).format('YYYY-MM-DD')\n\t\t\tthis.share.expireDate = value\n\t\t\tthis.queueUpdate('expireDate')\n\t\t},\n\n\t\t/**\n\t\t * Uncheck expire date\n\t\t * We need this method because @update:checked\n\t\t * is ran simultaneously as @uncheck, so\n\t\t * so we cannot ensure data is up-to-date\n\t\t */\n\t\tonExpirationDisable() {\n\t\t\tthis.share.expireDate = ''\n\t\t\tthis.queueUpdate('expireDate')\n\t\t},\n\n\t\t/**\n\t\t * Note changed, let's save it to a different key\n\t\t *\n\t\t * @param {string} note the share note\n\t\t */\n\t\tonNoteChange(note) {\n\t\t\tthis.$set(this.share, 'newNote', note.trim())\n\t\t},\n\n\t\t/**\n\t\t * When the note change, we trim, save and dispatch\n\t\t *\n\t\t */\n\t\tonNoteSubmit() {\n\t\t\tif (this.share.newNote) {\n\t\t\t\tthis.share.note = this.share.newNote\n\t\t\t\tthis.$delete(this.share, 'newNote')\n\t\t\t\tthis.queueUpdate('note')\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Delete share button handler\n\t\t */\n\t\tasync onDelete() {\n\t\t\ttry {\n\t\t\t\tthis.loading = true\n\t\t\t\tthis.open = false\n\t\t\t\tawait this.deleteShare(this.share.id)\n\t\t\t\tconsole.debug('Share deleted', this.share.id)\n\t\t\t\tthis.$emit('remove:share', this.share)\n\t\t\t} catch (error) {\n\t\t\t\t// re-open menu if error\n\t\t\t\tthis.open = true\n\t\t\t} finally {\n\t\t\t\tthis.loading = false\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Send an update of the share to the queue\n\t\t *\n\t\t * @param {Array<string>} propertyNames the properties to sync\n\t\t */\n\t\tqueueUpdate(...propertyNames) {\n\t\t\tif (propertyNames.length === 0) {\n\t\t\t\t// Nothing to update\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tif (this.share.id) {\n\t\t\t\tconst properties = {}\n\t\t\t\t// force value to string because that is what our\n\t\t\t\t// share api controller accepts\n\t\t\t\tpropertyNames.forEach(name => {\n\t\t\t\t\tif ((typeof this.share[name]) === 'object') {\n\t\t\t\t\t\tproperties[name] = JSON.stringify(this.share[name])\n\t\t\t\t\t} else {\n\t\t\t\t\t\tproperties[name] = this.share[name].toString()\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t\tthis.updateQueue.add(async () => {\n\t\t\t\t\tthis.saving = true\n\t\t\t\t\tthis.errors = {}\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst updatedShare = await this.updateShare(this.share.id, properties)\n\n\t\t\t\t\t\tif (propertyNames.indexOf('password') >= 0) {\n\t\t\t\t\t\t\t// reset password state after sync\n\t\t\t\t\t\t\tthis.$delete(this.share, 'newPassword')\n\n\t\t\t\t\t\t\t// updates password expiration time after sync\n\t\t\t\t\t\t\tthis.share.passwordExpirationTime = updatedShare.password_expiration_time\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// clear any previous errors\n\t\t\t\t\t\tthis.$delete(this.errors, propertyNames[0])\n\n\t\t\t\t\t} catch ({ message }) {\n\t\t\t\t\t\tif (message && message !== '') {\n\t\t\t\t\t\t\tthis.onSyncError(propertyNames[0], message)\n\t\t\t\t\t\t}\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tthis.saving = false\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tconsole.error('Cannot update share.', this.share, 'No valid id')\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Manage sync errors\n\t\t *\n\t\t * @param {string} property the errored property, e.g. 'password'\n\t\t * @param {string} message the error message\n\t\t */\n\t\tonSyncError(property, message) {\n\t\t\t// re-open menu if closed\n\t\t\tthis.open = true\n\t\t\tswitch (property) {\n\t\t\tcase 'password':\n\t\t\tcase 'pending':\n\t\t\tcase 'expireDate':\n\t\t\tcase 'label':\n\t\t\tcase 'note': {\n\t\t\t\t// show error\n\t\t\t\tthis.$set(this.errors, property, message)\n\n\t\t\t\tlet propertyEl = this.$refs[property]\n\t\t\t\tif (propertyEl) {\n\t\t\t\t\tif (propertyEl.$el) {\n\t\t\t\t\t\tpropertyEl = propertyEl.$el\n\t\t\t\t\t}\n\t\t\t\t\t// focus if there is a focusable action element\n\t\t\t\t\tconst focusable = propertyEl.querySelector('.focusable')\n\t\t\t\t\tif (focusable) {\n\t\t\t\t\t\tfocusable.focus()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\t}\n\t\t\tcase 'sendPasswordByTalk': {\n\t\t\t\t// show error\n\t\t\t\tthis.$set(this.errors, property, message)\n\n\t\t\t\t// Restore previous state\n\t\t\t\tthis.share.sendPasswordByTalk = !this.share.sendPasswordByTalk\n\t\t\t\tbreak\n\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Debounce queueUpdate to avoid requests spamming\n\t\t * more importantly for text data\n\t\t *\n\t\t * @param {string} property the property to sync\n\t\t */\n\t\tdebounceQueueUpdate: debounce(function(property) {\n\t\t\tthis.queueUpdate(property)\n\t\t}, 500),\n\n\t\t/**\n\t\t * Returns which dates are disabled for the datepicker\n\t\t *\n\t\t * @param {Date} date date to check\n\t\t * @return {boolean}\n\t\t */\n\t\tdisabledDate(date) {\n\t\t\tconst dateMoment = moment(date)\n\t\t\treturn (this.dateTomorrow && dateMoment.isBefore(this.dateTomorrow, 'day'))\n\t\t\t\t|| (this.dateMaxEnforced && dateMoment.isSameOrAfter(this.dateMaxEnforced, 'day'))\n\t\t},\n\t},\n}\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExternalShareAction.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ExternalShareAction.vue?vue&type=script&lang=js&\"","<!--\n  - @copyright Copyright (c) 2021 John Molakvoæ <skjnldsv@protonmail.com>\n  -\n  - @author John Molakvoæ <skjnldsv@protonmail.com>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<Component :is=\"data.is\"\n\t\tv-bind=\"data\"\n\t\tv-on=\"action.handlers\">\n\t\t{{ data.text }}\n\t</Component>\n</template>\n\n<script>\nimport Share from '../models/Share'\n\nexport default {\n\tname: 'ExternalShareAction',\n\n\tprops: {\n\t\tid: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\taction: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => ({}),\n\t\t},\n\t\tfileInfo: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => {},\n\t\t\trequired: true,\n\t\t},\n\t\tshare: {\n\t\t\ttype: Share,\n\t\t\tdefault: null,\n\t\t},\n\t},\n\n\tcomputed: {\n\t\tdata() {\n\t\t\treturn this.action.data(this)\n\t\t},\n\t},\n}\n</script>\n","import { render, staticRenderFns } from \"./ExternalShareAction.vue?vue&type=template&id=29f555e7&\"\nimport script from \"./ExternalShareAction.vue?vue&type=script&lang=js&\"\nexport * from \"./ExternalShareAction.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(_vm.data.is,_vm._g(_vm._b({tag:\"Component\"},'Component',_vm.data,false),_vm.action.handlers),[_vm._v(\"\\n\\t\"+_vm._s(_vm.data.text)+\"\\n\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - @copyright Copyright (c) 2021 Yogesh Shejwadkar <yogesh.shejwadkar@t-systems.com>\n  -\n  - @author Yogesh Shejwadkar <yogesh.shejwadkar@t-systems.com>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<ul class=\"sharing-permissions\">\n\t\t<!-- for email and link share -->\n\t\t<template v-if=\"isExteranlShare\">\n\t\t\t<label class=\"permissions\">\n\t\t\t\t{{ t('files_sharing', 'Permissions') }}\n\t\t\t</label>\n\t\t\t<!-- folder -->\n\t\t\t<template v-if=\"isFolder && fileHasCreatePermission && config.isPublicUploadEnabled\">\n\t\t\t\t<ActionRadio :checked=\"sharePermissions === publicUploadRValue\"\n\t\t\t\t\t:value=\"publicUploadRValue\"\n\t\t\t\t\t:name=\"randomId\"\n\t\t\t\t\t:disabled=\"saving\"\n\t\t\t\t\t@change=\"addPermissions\">\n\t\t\t\t\t{{ t('files_sharing', 'Read only') }}\n\t\t\t\t</ActionRadio>\n\t\t\t\t<ActionRadio :checked=\"sharePermissions === publicUploadRWValue\"\n\t\t\t\t\t:value=\"publicUploadRWValue\"\n\t\t\t\t\t:disabled=\"saving\"\n\t\t\t\t\t:name=\"randomId\"\n\t\t\t\t\t@change=\"addPermissions\">\n\t\t\t\t\t{{ t('files_sharing', 'Read, write and upload') }}\n\t\t\t\t</ActionRadio>\n\t\t\t\t<ActionRadio :checked=\"sharePermissions === publicUploadWValue\"\n\t\t\t\t\t:value=\"publicUploadWValue\"\n\t\t\t\t\t:disabled=\"saving\"\n\t\t\t\t\t:name=\"randomId\"\n\t\t\t\t\tclass=\"sharing-entry__action--public-upload\"\n\t\t\t\t\t@change=\"addPermissions\">\n\t\t\t\t\t{{ t('files_sharing', 'File drop (upload only)') }}\n\t\t\t\t</ActionRadio>\n\t\t\t\t<div class=\"filedrop-message\">\n\t\t\t\t\t{{ t('files_sharing', 'With File drop, only uploading is allowed. Only you can see files and folders that have been uploaded.') }}\n\t\t\t\t</div>\n\t\t\t</template>\n\n\t\t\t<!-- file -->\n\t\t\t<template v-else>\n\t\t\t\t<ActionRadio :checked=\"sharePermissions === publicUploadRValue\"\n\t\t\t\t\t:value=\"publicUploadRValue\"\n\t\t\t\t\t:name=\"randomId\"\n\t\t\t\t\t:disabled=\"isAllowed\"\n\t\t\t\t\t@change=\"addPermissions\">\n\t\t\t\t\t{{ t('files_sharing', 'Read only') }}\n\t\t\t\t</ActionRadio>\n\t\t\t\t<div\n\t\t\t\t\tclass=\"readonly-message\">\n\t\t\t\t\t{{ t('files_sharing', 'There are no editing functions for files shared with non-MagentaCLOUD users.') }}\n\t\t\t\t</div>\n\n\t\t\t\t<ActionRadio :checked=\"sharePermissions === publicUploadEValue\"\n\t\t\t\t\t:value=\"publicUploadEValue\"\n\t\t\t\t\t:disabled=\"isAllowed\"\n\t\t\t\t\t:name=\"randomId\"\n\t\t\t\t\t@change=\"addPermissions\">\n\t\t\t\t\t{{ t('files_sharing', 'Read and write') }}\n\t\t\t\t</ActionRadio>\n\t\t\t</template>\n\n\t\t\t<div class=\"advanced-settings\">\n\t\t\t\t<label @click=\"showAdLink = !showAdLink\">\n\t\t\t\t\t{{ t('files_sharing', 'Advanced') }}<span v-bind:class=\"['sort-indicator',{ 'icon-triangle-s':showAdLink},{'icon-triangle-n':!showAdLink}]\"></span>\n\t\t\t\t</label>\n\t\t\t\t<div v-show=\"showAdLink\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tv-if=\"isLinkShare\"\n\t\t\t\t\t\tref='label'\n\t\t\t\t\t\t:placeholder=\"shareLabelPlaceholder\"\n\t\t\t\t\t\t:class=\"{ error: errors.label }\"\n\t\t\t\t\t\t:disabled=\"saving\"\n\t\t\t\t\t\tv-model=\"shareLabel\" />\n\n\t\t\t\t\t<ActionCheckbox :checked.sync=\"share.hideDownload\"\n\t\t\t\t\t\t:disabled=\"saving || sharePermissions === publicUploadWValue\"\n\t\t\t\t\t\t@change=\"addHideDownload\">\n\t\t\t\t\t\t{{ t('files_sharing', 'Hide download') }}\n\t\t\t\t\t</ActionCheckbox>\n\n\t\t\t\t\t<!-- password -->\n\t\t\t\t\t<ActionCheckbox :checked.sync=\"isPasswordProtected\"\n\t\t\t\t\t\t:disabled=\"config.enforcePasswordForPublicLink || saving\"\n\t\t\t\t\t\tclass=\"share-link-password-checkbox\"\n\t\t\t\t\t\t@uncheck=\"onPasswordDisable\">\n\t\t\t\t\t\t{{ config.enforcePasswordForPublicLink\n\t\t\t\t\t\t\t? t('files_sharing', 'Password protection (enforced)')\n\t\t\t\t\t\t\t: t('files_sharing', 'Password protect') }}\n\t\t\t\t\t</ActionCheckbox>\n\t\t\t\t\t<ActionInput v-if=\"isPasswordProtected\"\n\t\t\t\t\t\tref=\"password\"\n\t\t\t\t\t\ticon=\"\"\n\t\t\t\t\t\t:disabled=\"saving\"\n\t\t\t\t\t\t:required=\"config.enforcePasswordForPublicLink\"\n\t\t\t\t\t\t:value=\"hasUnsavedPassword ? share.newPassword : '***************'\"\n\t\t\t\t\t\tautocomplete=\"new-password\"\n\t\t\t\t\t\t@update:value=\"onPasswordChange\"\n\t\t\t\t\t\t:type=\"hasUnsavedPassword ? 'text': 'password'\">\n\t\t\t\t\t\t{{ t('files_sharing', 'Enter a password') }}\n\t\t\t\t\t</ActionInput>\n\t\t\t\t\t<div v-if=\"isPasswordProtected\"\n\t\t\t\t\t\tclass=\"password-message\">\n\t\t\t\t\t\t{{ t('files_sharing', 'The password is not sent with the email to maintain confidentiality.') }}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<!-- password protected by Talk -->\n\t\t\t\t\t<ActionCheckbox v-if=\"isPasswordProtectedByTalkAvailable\"\n\t\t\t\t\t\t:checked.sync=\"share.sendPasswordByTalk\"\n\t\t\t\t\t\t:disabled=\"!canTogglePasswordProtectedByTalkAvailable || saving\"\n\t\t\t\t\t\tclass=\"share-link-password-talk-checkbox\"\n\t\t\t\t\t\t@change=\"addPasswordProtectedByTalkChange\">\n\t\t\t\t\t\t{{ t('files_sharing', 'Video verification') }}\n\t\t\t\t\t</ActionCheckbox>\n\n\t\t\t\t\t<!-- expiration date -->\n\t\t\t\t\t<ActionCheckbox\n\t\t\t\t\t\tv-if=\"canHaveExpirationDate\"\n\t\t\t\t\t\t:checked.sync=\"hasExpirationDate\">\n\t\t\t\t\t\t{{ config.isDefaultInternalExpireDateEnforced\n\t\t\t\t\t\t\t? t('files_sharing', 'Expiration date enforced')\n\t\t\t\t\t\t\t: t('files_sharing', 'Set expiration date') }}\n\t\t\t\t\t</ActionCheckbox>\n\t\t\t\t\t<ActionInput v-if=\"hasExpirationDate\"\n\t\t\t\t\t\tref=\"expireDate\"\n\t\t\t\t\t\t:disabled=\"saving\"\n\t\t\t\t\t\t:lang=\"lang\"\n\t\t\t\t\t\t:value=\"share.expireDate || this.config.defaultInternalExpirationDateString\"\n\t\t\t\t\t\tvalue-type=\"format\"\n\t\t\t\t\t\ticon=\"icon-calendar-dark\"\n\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t@update:value=\"addExpirationDate\">\n\t\t\t\t\t\t{{ t('files_sharing', 'Enter a date') }}\n\t\t\t\t\t</ActionInput>\n\t\t\t\t\t<div v-if=\"isLinkShare && !isFolder\">\n\t\t\t\t\t\t<ExternalShareAction v-for=\"action in externalLinkActions\"\n\t\t\t\t\t\t\t:id=\"action.id\"\n\t\t\t\t\t\t\t:key=\"action.id\"\n\t\t\t\t\t\t\t:action=\"action\"\n\t\t\t\t\t\t\t:file-info=\"fileInfo\"\n\t\t\t\t\t\t\t:share=\"share\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t\t<template v-else>\n\t\t\t<label class=\"permissions\">\n\t\t\t\t{{ t('files_sharing', 'Permissions') }}\n\t\t\t</label>\n\t\t\t<!-- folder -->\n\t\t\t<template v-if=\"isFolder && config.isPublicUploadEnabled\">\n\t\t\t\t<ActionRadio :checked=\"sharePermissions === publicUploadRValue\"\n\t\t\t\t\t:value=\"publicUploadRValue\"\n\t\t\t\t\t:name=\"randomId\"\n\t\t\t\t\t@change=\"addPermissions\"\n\t\t\t\t\t:disabled=\"saving\">\n\t\t\t\t\t{{ t('files_sharing', 'Read only') }}\n\t\t\t\t</ActionRadio>\n\n\t\t\t\t<ActionRadio :checked=\"sharePermissions === publicUploadRWValue\"\n\t\t\t\t\t:value=\"publicUploadRWValue\"\n\t\t\t\t\t:disabled=\"saving\"\n\t\t\t\t\t@change=\"addPermissions\"\n\t\t\t\t\t:name=\"randomId\">\n\t\t\t\t\t{{ t('files_sharing', 'Read, write and upload') }}\n\t\t\t\t</ActionRadio>\n\t\t\t</template>\n\t\t\t<!-- file -->\n\t\t\t<template v-else>\n\t\t\t\t<ActionRadio :checked=\"sharePermissions === publicUploadRValue\"\n\t\t\t\t\t:value=\"publicUploadRValue\"\n\t\t\t\t\t:name=\"randomId\"\n\t\t\t\t\t@change=\"addPermissions\"\n\t\t\t\t\t:disabled=\"saving\">\n\t\t\t\t\t{{ t('files_sharing', 'Read only') }}\n\t\t\t\t</ActionRadio>\n\n\t\t\t\t<ActionRadio :checked=\"sharePermissions === publicUploadEValue\"\n\t\t\t\t\t:value=\"publicUploadEValue\"\n\t\t\t\t\t:disabled=\"saving\"\n\t\t\t\t\t@change=\"addPermissions\"\n\t\t\t\t\t:name=\"randomId\">\n\t\t\t\t\t{{ t('files_sharing', 'Read and write') }}\n\t\t\t\t</ActionRadio>\n\t\t\t</template>\n\n\t\t\t<div class=\"advanced-settings\">\n\t\t\t\t<label @click=\"show = !show\">\n\t\t\t\t\t{{ t('files_sharing', 'Advanced') }}<span v-bind:class=\"['sort-indicator',{ 'icon-triangle-s':showAdLink},{'icon-triangle-n':!showAdLink}]\"></span>\n\t\t\t\t</label>\n\t\t\t\t<div v-show=\"show\">\n\t\t\t\t\t<!-- reshare permission -->\n\t\t\t\t\t<ActionCheckbox\n\t\t\t\t\t\tv-if=\"config.isResharingAllowed\"\n\t\t\t\t\t\tref=\"canReshare\"\n\t\t\t\t\t\t:checked.sync=\"canReshare\"\n\t\t\t\t\t\t:value=\"permissionsShare\"\n\t\t\t\t\t\t:disabled=\"saving || !canSetReshare\">\n\t\t\t\t\t\t{{ t('files_sharing', 'Allow resharing') }}\n\t\t\t\t\t</ActionCheckbox>\n\n\t\t\t\t\t<!-- expiration date -->\n\t\t\t\t\t<ActionCheckbox\n\t\t\t\t\t\tv-if=\"canHaveExpirationDate\"\n\t\t\t\t\t\t:checked.sync=\"hasExpirationDate\">\n\t\t\t\t\t\t{{ config.isDefaultInternalExpireDateEnforced\n\t\t\t\t\t\t\t? t('files_sharing', 'Expiration date enforced')\n\t\t\t\t\t\t\t: t('files_sharing', 'Set expiration date') }}\n\t\t\t\t\t</ActionCheckbox>\n\t\t\t\t\t<ActionInput v-if=\"hasExpirationDate\"\n\t\t\t\t\t\tref=\"expireDate\"\n\t\t\t\t\t\t:disabled=\"saving\"\n\t\t\t\t\t\t:first-day-of-week=\"firstDay\"\n\t\t\t\t\t\t:lang=\"lang\"\n\t\t\t\t\t\t:value=\"share.expireDate || this.config.defaultInternalExpirationDateString\"\n\t\t\t\t\t\tvalue-type=\"format\"\n\t\t\t\t\t\ticon=\"icon-calendar-dark\"\n\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t@update:value=\"addExpirationDate\">\n\t\t\t\t\t\t{{ t('files_sharing', 'Enter a date') }}\n\t\t\t\t\t</ActionInput>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\n\t\t<button class=\"status-buttons__select\"\n\t\t\t:name=\"randomId\"\n\t\t\t:disabled=\"saving\"\n\t\t\t@click=\"cancelSharing\">\n\t\t\t{{ t('files_sharing', 'Cancel') }}\n\t\t</button>\n\t\t<template v-if=\"share.id > 0\">\n\t\t\t<button class=\"status-buttons__primary primary\"\n\t\t\t\t:name=\"randomId\"\n\t\t\t\t:disabled=\"saving\"\n\t\t\t\t@click=\"confirmSharing\">\n\t\t\t\t{{ t('files_sharing', 'Confirm') }}\n\t\t\t</button>\n\t\t</template>\n\t\t<template v-else>\n\t\t\t<button class=\"status-buttons__primary primary\"\n\t\t\t\t:name=\"randomId\"\n\t\t\t\t:disabled=\"saving\"\n\t\t\t\t@click=\"nextSharing\">\n\t\t\t\t{{ t('files_sharing', 'Next') }}\n\t\t\t</button>\n\t\t</template>\n\t</ul>\n</template>\n\n<script>\nimport ActionRadio from '@nextcloud/vue/dist/Components/ActionRadio'\nimport ActionCheckbox from '@nextcloud/vue/dist/Components/ActionCheckbox'\nimport ActionInput from '@nextcloud/vue/dist/Components/ActionInput'\nimport Tooltip from '@nextcloud/vue/dist/Directives/Tooltip'\n\nimport SharesMixin from '../mixins/SharesMixin'\nimport ShareTypes from '../mixins/ShareTypes'\nimport GeneratePassword from '../utils/GeneratePassword'\nimport Vue from 'vue'\nimport { mapGetters } from 'vuex'\nimport ShareRequests from '../mixins/ShareRequests'\nimport ExternalShareAction from './ExternalShareAction'\n\nexport default {\n\tname: 'SharingPermissions',\n\n\tcomponents: {\n\t\tActionRadio,\n\t\tActionCheckbox,\n\t\tActionInput,\n\t\tExternalShareAction,\n\t},\n\n\tdirectives: {\n\t\tTooltip,\n\t},\n\n\tmixins: [SharesMixin, ShareTypes, ShareRequests],\n\n\tdata() {\n\t\treturn {\n\t\t\tpermissionsEdit: OC.PERMISSION_UPDATE,\n\t\t\tpermissionsCreate: OC.PERMISSION_CREATE,\n\t\t\tpermissionsDelete: OC.PERMISSION_DELETE,\n\t\t\tpermissionsRead: OC.PERMISSION_READ,\n\t\t\tpermissionsShare: OC.PERMISSION_SHARE,\n\n\t\t\tpublicUploadRWValue: OC.PERMISSION_UPDATE | OC.PERMISSION_CREATE | OC.PERMISSION_READ | OC.PERMISSION_DELETE,\n\t\t\tpublicUploadRValue: OC.PERMISSION_READ,\n\t\t\tpublicUploadWValue: OC.PERMISSION_CREATE,\n\t\t\tpublicUploadEValue: OC.PERMISSION_UPDATE | OC.PERMISSION_READ,\n\t\t\tshow: true,\n\t\t\tshowAdLink: true,\n\t\t\tsendPasswordByTalk: null,\n\t\t\thideDownload: null,\n\t\t\tisAllowed:true,\n\t\t\tallowExtensions:[\"application/vnd.oasis.opendocument.graphics\",\"application/vnd.oasis.opendocument.text\",\"text/markdown\",\"text/plain\",\"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",\"application/vnd.openxmlformats-officedocument.presentationml.presentation\"],\n\t\t\tshareLabel: this.share.newLabel || this.share.label || '',\n\t\t\tExternalShareActions: OCA.Sharing.ExternalShareActions.state,\n\t\t}\n\t},\n\tbeforeMount() {\n\t\t\n\t\tconsole.log(\"file extension : \"+this.fileInfo.mimetype)\n\t\tif(this.allowExtensions.includes( this.fileInfo.mimetype)){\n\t\t\tthis.isAllowed=false\n\t\t}\n\t\tconsole.log(\"file type : \" + this.isAllowed)\n\t},\n\n\tcomputed: {\n\t\t...mapGetters({\n\t\t\tfromInput: 'getFromInput',\n\t\t\toptionValues: 'getOption'\n\t\t}),\n\t\t/**\n\t\t * Return the current share permissions\n\t\t * We always ignore the SHARE permission as this is used for the\n\t\t * federated sharing.\n\t\t * @returns {number}\n\t\t */\n\t\tsharePermissions() {\n\t\t\treturn this.share.permissions & ~OC.PERMISSION_SHARE\n\t\t},\n\t\t/**\n\t\t * Generate a unique random id for this SharingPermissions only\n\t\t * This allows ActionRadios to have the same name prop\n\t\t * but not to impact others SharingPermissions\n\t\t * @returns {string}\n\t\t */\n\t\trandomId() {\n\t\t\treturn Math.random().toString(27).substr(2)\n\t\t},\n\n\t\tcanHaveExpirationDate() {\n\t\t\treturn !this.isRemoteShare\n\t\t},\n\n\t\t/**\n\t\t * Can the sharer set whether the sharee can reshare the file ?\n\t\t *\n\t\t * @returns {boolean}\n\t\t */\n\t\tcanSetReshare() {\n\t\t\t// If the owner revoked the permission after the resharer granted it\n\t\t\t// the share still has the permission, and the resharer is still\n\t\t\t// allowed to revoke it too (but not to grant it again).\n\t\t\treturn (this.fileInfo.sharePermissions & OC.PERMISSION_SHARE) || this.canReshare\n\t\t},\n\n\t\t/**\n\t\t * Can the sharee reshare the file ?\n\t\t */\n\t\tcanReshare: {\n\t\t\tget() {\n\t\t\t\treturn this.share.hasSharePermission\n\t\t\t},\n\t\t\tset(checked) {\n\t\t\t\tthis.updatePermissions({ isReshareChecked: checked, otherPermissions: this.sharePermissions })\n\t\t\t},\n\t\t},\n\n\t\t// if newPassword exists, but is empty, it means\n\t\t// the user deleted the original password\n\t\thasUnsavedPassword() {\n\t\t\treturn this.share.newPassword !== undefined\n\t\t},\n\n\t\t/**\n\t\t * Is the current share a folder ?\n\t\t * @returns {boolean}\n\t\t */\n\t\tisFolder() {\n\t\t\treturn this.fileInfo.type === 'dir'\n\t\t},\n\n\t\t/**\n\t\t * Does the current share have an expiration date\n\t\t * @returns {boolean}\n\t\t */\n\t\thasExpirationDate: {\n\t\t\tget() {\n\t\t\t\treturn this.config.isDefaultInternalExpireDateEnforced || !!this.share.expireDate\n\t\t\t},\n\t\t\tset(enabled) {\n\t\t\t\tthis.share.expireDate = enabled\n\t\t\t\t\t? (this.config.defaultInternalExpirationDateString !== ''\n\t\t\t\t\t\t? this.config.defaultInternalExpirationDateString\n\t\t\t\t\t\t: ' ')\n\t\t\t\t\t: ''\n\t\t\t},\n\t\t},\n\n\t\t/**\n\t\t * Is the current share password protected ?\n\t\t * @returns {boolean}\n\t\t */\n\t\tisPasswordProtected: {\n\t\t\tget() {\n\t\t\t\treturn this.config.enforcePasswordForPublicLink || !!this.share.password\n\t\t\t},\n\t\t\tasync set(enabled) {\n\t\t\t\t// TODO: directly save after generation to make sure the share is always protected\n\t\t\t\tVue.set(this.share, 'password', enabled ? await GeneratePassword() : '')\n\t\t\t\tVue.set(this.share, 'newPassword', this.share.password)\n\t\t\t},\n\t\t},\n\n\t\t/**\n\t\t * Does the current file/folder have create permissions\n\t\t * TODO: move to a proper FileInfo model?\n\t\t * @returns {boolean}\n\t\t */\n\t\tfileHasCreatePermission() {\n\t\t\treturn !!(this.fileInfo.permissions & OC.PERMISSION_CREATE)\n\t\t},\n\n\t\tisExteranlShare() {\n\t\t\tif (this.fromInput) {\n\t\t\t\treturn Boolean(this.SHARE_TYPES.SHARE_TYPE_EMAIL === this.optionValues.shareType\n\t\t\t\t|| this.SHARE_TYPES.SHARE_TYPE_LINK === this.optionValues.shareType)\n\t\t\t} else {\n\t\t\t\treturn Boolean(this.SHARE_TYPES.SHARE_TYPE_EMAIL === this.share.type\n\t\t\t\t|| this.SHARE_TYPES.SHARE_TYPE_LINK === this.share.type)\n\t\t\t}\n\t\t},\n\n\t\texternalLinkActions() {\n\t\t\t// filter only the registered actions for said link\n\t\t\treturn this.ExternalShareActions.actions\n\t\t\t\t.filter(action => action.shareType.includes(OC.Share.SHARE_TYPE_LINK))\n\t\t\t// || action.shareType.includes(OC.Share.SHARE_TYPE_EMAIL))\n\t\t},\n\n\t\tisLinkShare() {\n\t\t\treturn this.SHARE_TYPES.SHARE_TYPE_LINK === this.share.type\n\t\t},\n\n\t\tshareLabelPlaceholder() {\n\t\t\treturn t('files_sharing', 'Share label')\n\t\t},\n\t},\n\n\tmethods: {\n\t\t/**\n\t\t * Update newPassword values\n\t\t * of share. If password is set but not newPassword\n\t\t * then the user did not changed the password\n\t\t * If both co-exists, the password have changed and\n\t\t * we show it in plain text.\n\t\t * Then on submit (or menu close), we sync it.\n\t\t * @param {string} password the changed password\n\t\t */\n\t\tonPasswordChange(password) {\n\t\t\tconsole.debug('new password', password)\n\t\t\tthis.$set(this.share, 'newPassword', password)\n\t\t},\n\n\t\tonPasswordDisable() {\n\t\t\tthis.share.password = ''\n\t\t\t// reset password state after sync\n\t\t\tthis.$delete(this.share, 'newPassword')\n\t\t},\n\t\taddPasswordProtectedByTalkChange(event) {\n\t\t\tthis.share.sendPasswordByTalk = event.target.checked\n\t\t},\n\n\t\taddHideDownload(event) {\n\t\t\tthis.share.hideDownload = event.target.checked\n\t\t},\n\n\t\taddExpirationDate(date) {\n\t\t\t// format to YYYY-MM-DD\n\t\t\tconst value = moment(date).format('YYYY-MM-DD')\n\t\t\tthis.share.expireDate = value\n\t\t},\n\n\t\t/**\n\t\t * On permissions change\n\t\t * @param {Event} event js event\n\t\t */\n\t\tupdatePermissions({ isReshareChecked = this.canReshare, otherPermissions = 0 } = {}) {\n\t\t\t// calc permissions if checked\n\t\t\tconst permissions = 0\n\t\t\t\t| otherPermissions\n\t\t\t\t// | (isWrite ? isWrite : 0)\n\t\t\t\t// | (isReadOnly ? isReadOnly : 0)\n\t\t\t\t// | (isUpdateOnly ? isUpdateOnly : 0)\n\t\t\t\t| (isReshareChecked ? this.permissionsShare : 0)\n\n\t\t\tthis.share.permissions = permissions\n\t\t},\n\n\t\taddPermissions(event) {\n\t\t\tlet permissions = 0\n\t\t\tif (this.isExteranlShare) {\n\t\t\t\tpermissions = parseInt(event.target.value, 10)\n\t\t\t\tif (permissions === OC.PERMISSION_CREATE) {\n\t\t\t\t\tthis.share.hideDownload = false\n\t\t\t\t}\n\t\t\t\tthis.share.permissions = permissions\n\t\t\t} else {\n\t\t\t\tpermissions = parseInt(event.target.value, 10)\n\t\t\t\t| (this.canReshare ? this.permissionsShare : 0)\n\t\t\t\tthis.share.permissions = permissions\n\t\t\t}\n\t\t},\n\n\t\tcancelSharing() {\n\t\t\tthis.$store.commit('addCurrentTab', 'default')\n\t\t},\n\n\t\tnextSharing() {\n\t\t\tconsole.debug('next sharing', this.share)\n\t\t\tthis.$store.commit('addShare', this.share)\n\t\t\tthis.$store.commit('addCurrentTab', 'notes')\n\t\t},\n\n\t\tconfirmSharing() {\n\t\t\tthis.loading = true\n\n\t\t\tthis.share.label = this.shareLabel.trim()\n\n\t\t\tif (this.share.sendPasswordByTalk) {\n\t\t\t\tthis.sendPasswordByTalk = this.share.sendPasswordByTalk.toString()\n\t\t\t}\n\n\t\t\tif (this.share.hideDownload) {\n\t\t\t\tthis.hideDownload = this.share.hideDownload.toString()\n\t\t\t} else {\n\t\t\t\tthis.hideDownload = 'false'\n\t\t\t}\n\n\t\t\tif (this.share.newPassword !== undefined) {\n\t\t\t\tthis.share.password = this.share.newPassword.trim()\n\t\t\t}\n\n\t\t\tthis.updateShare(this.share.id, {\n\t\t\t\tpermissions: this.share.permissions,\n\t\t\t\thideDownload: this.hideDownload,\n\t\t\t\tpassword: this.share.password,\n\t\t\t\texpireDate: this.share.expireDate,\n\t\t\t\tlabel: this.share.label,\n\t\t\t\tsendPasswordByTalk: this.sendPasswordByTalk,\n\t\t\t})\n\t\t\t// this.$emit('add:share', this.share)\n\t\t\tthis.loading = true\n\t\t\tthis.$store.commit('addCurrentTab', 'default')\n\t\t},\n\n\t\t/**\n\t\t * Is it possible to protect the password by Talk?\n\t\t * @returns {boolean}\n\t\t */\n\t\tisPasswordProtectedByTalkAvailable() {\n\t\t\treturn this.isPasswordProtected && this.isTalkEnabled\n\t\t},\n\n\t\tcanTogglePasswordProtectedByTalkAvailable() {\n\t\t\tif (!this.isPasswordProtected) {\n\t\t\t\t// Makes no sense\n\t\t\t\treturn false\n\t\t\t} else if (this.isEmailShareType && !this.hasUnsavedPassword) {\n\t\t\t\t// For email shares we need a new password in order to enable or\n\t\t\t\t// disable\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\t// Anything else should be fine\n\t\t\treturn true\n\t\t},\n\t},\n}\n</script>\n<style lang=\"scss\">\n.action-input__label {\n\tdisplay: none !important;\n}\n.password-message {\n\tmargin-left: 43px;\n}\n.readonly-message {\n\tmargin-left: 43px;\n}\n.filedrop-message {\n\tmargin-left: 43px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingPermissions.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingPermissions.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingPermissions.vue?vue&type=style&index=0&lang=scss&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingPermissions.vue?vue&type=style&index=0&lang=scss&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./SharingPermissions.vue?vue&type=template&id=cad607e6&\"\nimport script from \"./SharingPermissions.vue?vue&type=script&lang=js&\"\nexport * from \"./SharingPermissions.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SharingPermissions.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"sharing-permissions\"},[(_vm.isExteranlShare)?[_c('label',{staticClass:\"permissions\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'Permissions'))+\"\\n\\t\\t\")]),_vm._v(\" \"),(_vm.isFolder && _vm.fileHasCreatePermission && _vm.config.isPublicUploadEnabled)?[_c('ActionRadio',{attrs:{\"checked\":_vm.sharePermissions === _vm.publicUploadRValue,\"value\":_vm.publicUploadRValue,\"name\":_vm.randomId,\"disabled\":_vm.saving},on:{\"change\":_vm.addPermissions}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'Read only'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('ActionRadio',{attrs:{\"checked\":_vm.sharePermissions === _vm.publicUploadRWValue,\"value\":_vm.publicUploadRWValue,\"disabled\":_vm.saving,\"name\":_vm.randomId},on:{\"change\":_vm.addPermissions}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'Read, write and upload'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('ActionRadio',{staticClass:\"sharing-entry__action--public-upload\",attrs:{\"checked\":_vm.sharePermissions === _vm.publicUploadWValue,\"value\":_vm.publicUploadWValue,\"disabled\":_vm.saving,\"name\":_vm.randomId},on:{\"change\":_vm.addPermissions}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'File drop (upload only)'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"filedrop-message\"},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'With File drop, only uploading is allowed. Only you can see files and folders that have been uploaded.'))+\"\\n\\t\\t\\t\")])]:[_c('ActionRadio',{attrs:{\"checked\":_vm.sharePermissions === _vm.publicUploadRValue,\"value\":_vm.publicUploadRValue,\"name\":_vm.randomId,\"disabled\":_vm.isAllowed},on:{\"change\":_vm.addPermissions}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'Read only'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"readonly-message\"},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'There are no editing functions for files shared with non-MagentaCLOUD users.'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('ActionRadio',{attrs:{\"checked\":_vm.sharePermissions === _vm.publicUploadEValue,\"value\":_vm.publicUploadEValue,\"disabled\":_vm.isAllowed,\"name\":_vm.randomId},on:{\"change\":_vm.addPermissions}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'Read and write'))+\"\\n\\t\\t\\t\")])],_vm._v(\" \"),_c('div',{staticClass:\"advanced-settings\"},[_c('label',{on:{\"click\":function($event){_vm.showAdLink = !_vm.showAdLink}}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'Advanced'))),_c('span',{class:['sort-indicator',{ 'icon-triangle-s':_vm.showAdLink},{'icon-triangle-n':!_vm.showAdLink}]})]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showAdLink),expression:\"showAdLink\"}]},[(_vm.isLinkShare)?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.shareLabel),expression:\"shareLabel\"}],ref:\"label\",class:{ error: _vm.errors.label },attrs:{\"placeholder\":_vm.shareLabelPlaceholder,\"disabled\":_vm.saving},domProps:{\"value\":(_vm.shareLabel)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.shareLabel=$event.target.value}}}):_vm._e(),_vm._v(\" \"),_c('ActionCheckbox',{attrs:{\"checked\":_vm.share.hideDownload,\"disabled\":_vm.saving || _vm.sharePermissions === _vm.publicUploadWValue},on:{\"update:checked\":function($event){return _vm.$set(_vm.share, \"hideDownload\", $event)},\"change\":_vm.addHideDownload}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'Hide download'))+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('ActionCheckbox',{staticClass:\"share-link-password-checkbox\",attrs:{\"checked\":_vm.isPasswordProtected,\"disabled\":_vm.config.enforcePasswordForPublicLink || _vm.saving},on:{\"update:checked\":function($event){_vm.isPasswordProtected=$event},\"uncheck\":_vm.onPasswordDisable}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.config.enforcePasswordForPublicLink\n\t\t\t\t\t\t? _vm.t('files_sharing', 'Password protection (enforced)')\n\t\t\t\t\t\t: _vm.t('files_sharing', 'Password protect'))+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),(_vm.isPasswordProtected)?_c('ActionInput',{ref:\"password\",attrs:{\"icon\":\"\",\"disabled\":_vm.saving,\"required\":_vm.config.enforcePasswordForPublicLink,\"value\":_vm.hasUnsavedPassword ? _vm.share.newPassword : '***************',\"autocomplete\":\"new-password\",\"type\":_vm.hasUnsavedPassword ? 'text': 'password'},on:{\"update:value\":_vm.onPasswordChange}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'Enter a password'))+\"\\n\\t\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.isPasswordProtected)?_c('div',{staticClass:\"password-message\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'The password is not sent with the email to maintain confidentiality.'))+\"\\n\\t\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.isPasswordProtectedByTalkAvailable)?_c('ActionCheckbox',{staticClass:\"share-link-password-talk-checkbox\",attrs:{\"checked\":_vm.share.sendPasswordByTalk,\"disabled\":!_vm.canTogglePasswordProtectedByTalkAvailable || _vm.saving},on:{\"update:checked\":function($event){return _vm.$set(_vm.share, \"sendPasswordByTalk\", $event)},\"change\":_vm.addPasswordProtectedByTalkChange}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'Video verification'))+\"\\n\\t\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.canHaveExpirationDate)?_c('ActionCheckbox',{attrs:{\"checked\":_vm.hasExpirationDate},on:{\"update:checked\":function($event){_vm.hasExpirationDate=$event}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.config.isDefaultInternalExpireDateEnforced\n\t\t\t\t\t\t? _vm.t('files_sharing', 'Expiration date enforced')\n\t\t\t\t\t\t: _vm.t('files_sharing', 'Set expiration date'))+\"\\n\\t\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.hasExpirationDate)?_c('ActionInput',{ref:\"expireDate\",attrs:{\"disabled\":_vm.saving,\"lang\":_vm.lang,\"value\":_vm.share.expireDate || this.config.defaultInternalExpirationDateString,\"value-type\":\"format\",\"icon\":\"icon-calendar-dark\",\"type\":\"date\"},on:{\"update:value\":_vm.addExpirationDate}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'Enter a date'))+\"\\n\\t\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.isLinkShare && !_vm.isFolder)?_c('div',_vm._l((_vm.externalLinkActions),function(action){return _c('ExternalShareAction',{key:action.id,attrs:{\"id\":action.id,\"action\":action,\"file-info\":_vm.fileInfo,\"share\":_vm.share}})}),1):_vm._e()],1)])]:[_c('label',{staticClass:\"permissions\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'Permissions'))+\"\\n\\t\\t\")]),_vm._v(\" \"),(_vm.isFolder && _vm.config.isPublicUploadEnabled)?[_c('ActionRadio',{attrs:{\"checked\":_vm.sharePermissions === _vm.publicUploadRValue,\"value\":_vm.publicUploadRValue,\"name\":_vm.randomId,\"disabled\":_vm.saving},on:{\"change\":_vm.addPermissions}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'Read only'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('ActionRadio',{attrs:{\"checked\":_vm.sharePermissions === _vm.publicUploadRWValue,\"value\":_vm.publicUploadRWValue,\"disabled\":_vm.saving,\"name\":_vm.randomId},on:{\"change\":_vm.addPermissions}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'Read, write and upload'))+\"\\n\\t\\t\\t\")])]:[_c('ActionRadio',{attrs:{\"checked\":_vm.sharePermissions === _vm.publicUploadRValue,\"value\":_vm.publicUploadRValue,\"name\":_vm.randomId,\"disabled\":_vm.saving},on:{\"change\":_vm.addPermissions}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'Read only'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('ActionRadio',{attrs:{\"checked\":_vm.sharePermissions === _vm.publicUploadEValue,\"value\":_vm.publicUploadEValue,\"disabled\":_vm.saving,\"name\":_vm.randomId},on:{\"change\":_vm.addPermissions}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'Read and write'))+\"\\n\\t\\t\\t\")])],_vm._v(\" \"),_c('div',{staticClass:\"advanced-settings\"},[_c('label',{on:{\"click\":function($event){_vm.show = !_vm.show}}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'Advanced'))),_c('span',{class:['sort-indicator',{ 'icon-triangle-s':_vm.showAdLink},{'icon-triangle-n':!_vm.showAdLink}]})]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}]},[(_vm.config.isResharingAllowed)?_c('ActionCheckbox',{ref:\"canReshare\",attrs:{\"checked\":_vm.canReshare,\"value\":_vm.permissionsShare,\"disabled\":_vm.saving || !_vm.canSetReshare},on:{\"update:checked\":function($event){_vm.canReshare=$event}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'Allow resharing'))+\"\\n\\t\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.canHaveExpirationDate)?_c('ActionCheckbox',{attrs:{\"checked\":_vm.hasExpirationDate},on:{\"update:checked\":function($event){_vm.hasExpirationDate=$event}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.config.isDefaultInternalExpireDateEnforced\n\t\t\t\t\t\t? _vm.t('files_sharing', 'Expiration date enforced')\n\t\t\t\t\t\t: _vm.t('files_sharing', 'Set expiration date'))+\"\\n\\t\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.hasExpirationDate)?_c('ActionInput',{ref:\"expireDate\",attrs:{\"disabled\":_vm.saving,\"first-day-of-week\":_vm.firstDay,\"lang\":_vm.lang,\"value\":_vm.share.expireDate || this.config.defaultInternalExpirationDateString,\"value-type\":\"format\",\"icon\":\"icon-calendar-dark\",\"type\":\"date\"},on:{\"update:value\":_vm.addExpirationDate}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'Enter a date'))+\"\\n\\t\\t\\t\\t\")]):_vm._e()],1)])],_vm._v(\" \"),_c('button',{staticClass:\"status-buttons__select\",attrs:{\"name\":_vm.randomId,\"disabled\":_vm.saving},on:{\"click\":_vm.cancelSharing}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('files_sharing', 'Cancel'))+\"\\n\\t\")]),_vm._v(\" \"),(_vm.share.id > 0)?[_c('button',{staticClass:\"status-buttons__primary primary\",attrs:{\"name\":_vm.randomId,\"disabled\":_vm.saving},on:{\"click\":_vm.confirmSharing}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'Confirm'))+\"\\n\\t\\t\")])]:[_c('button',{staticClass:\"status-buttons__primary primary\",attrs:{\"name\":_vm.randomId,\"disabled\":_vm.saving},on:{\"click\":_vm.nextSharing}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'Next'))+\"\\n\\t\\t\")])]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - @copyright Copyright (c) 2021 Yogesh Shejwadkar <yogesh.shejwadkar@t-systems.com>\n  -\n  - @author Yogesh Shejwadkar <yogesh.shejwadkar@t-systems.com>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<div :class=\"{ 'icon-loading': loading }\">\n\t\t<div class=\"sharing-notes\">\n\t\t\t<!-- note -->\n\t\t\t<template>\n\t\t\t\t<label class=\"note-title\">\n\t\t\t\t\t{{ t('files_sharing', 'Your Message') }}\n\t\t\t\t</label>\n\t\t\t\t<p class=\"note-subtitle\">\n\t\t\t\t\t{{ t('files_sharing', 'You can attach a message to the share.') }}\n\t\t\t\t</p>\n\t\t\t\t<div>\n\t\t\t\t\t<textarea\n\t\t\t\t\t\tref=\"note\"\n\t\t\t\t\t\t:placeholder=\"notePlaceholder\"\n\t\t\t\t\t\tv-model=\"shareNote\"\n\t\t\t\t\t\tclass=\"sharing-note\"\n\t\t\t\t\t\t:disabled=\"saving\" />\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<button class=\"status-buttons__select\"\n\t\t\t\t\t\t:name=\"randomId\"\n\t\t\t\t\t\t:disabled=\"saving\"\n\t\t\t\t\t\t@click=\"cancelSharing\">\n\t\t\t\t\t\t{{ t('files_sharing', 'Cancel') }}\n\t\t\t\t\t</button>\n\t\t\t\t\t<template v-if=\"share.id > 0\">\n\t\t\t\t\t\t<button class=\"status-buttons__primary primary\"\n\t\t\t\t\t\t\t:name=\"randomId\"\n\t\t\t\t\t\t\t:disabled=\"saving\"\n\t\t\t\t\t\t\t@click=\"sendEmail\">\n\t\t\t\t\t\t\t{{ t('files_sharing', 'Send email') }}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</template>\n\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t<button class=\"status-buttons__primary primary\"\n\t\t\t\t\t\t\t:name=\"randomId\"\n\t\t\t\t\t\t\t:disabled=\"saving\"\n\t\t\t\t\t\t\t@click=\"addShare\">\n\t\t\t\t\t\t\t{{ t('files_sharing', 'Send share') }}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport Config from '../services/ConfigService'\nimport SharesMixin from '../mixins/SharesMixin'\nimport Share from '../models/Share'\nimport ShareRequests from '../mixins/ShareRequests'\nimport ShareTypes from '../mixins/ShareTypes'\nimport { mapGetters } from 'vuex'\n\nexport default {\n\tname: 'SharingNotes',\n\n\tcomponents: {\n\t},\n\n\tdirectives: {\n\t},\n\n\tmixins: [SharesMixin, ShareRequests, ShareTypes],\n\n\tdata() {\n\t\treturn {\n\t\t\tconfig: new Config(),\n\t\t\tloading: false,\n\t\t\tquery: '',\n\t\t\trecommendations: [],\n\t\t\tShareSearch: OCA.Sharing.ShareSearch.state,\n\t\t\tsuggestions: [],\n\t\t\tshareNote: this.share.newNote || this.share.note || '',\n\t\t\tsendPasswordByTalk: null,\n\t\t\thideDownload: null,\n\t\t}\n\t},\n\n\tcomputed: {\n\t\t...mapGetters({\n\t\t\toptionValues: 'getOption',\n\t\t\t// share: 'getShare',\n\t\t}),\n\n\t\t/**\n\t\t * Generate a unique random id for this SharingPermissions only\n\t\t * This allows ActionRadios to have the same name prop\n\t\t * but not to impact others SharingPermissions\n\t\t * @returns {string}\n\t\t */\n\t\trandomId() {\n\t\t\treturn Math.random().toString(27).substr(2)\n\t\t},\n\n\t\tnotePlaceholder() {\n\t\t\treturn t('files_sharing', 'Your message')\n\t\t}\n\t},\n\n\tmethods: {\n\t\tcancelSharing() {\n\t\t\tthis.$store.commit('addCurrentTab', 'default')\n\t\t},\n\n\t\tsendEmail() {\n\t\t\tthis.loading = true\n\t\t\tthis.share.newNote = this.shareNote\n\t\t\tthis.onNoteSubmit()\n\t\t\tthis.loading = false\n\t\t\tthis.$store.commit('addCurrentTab', 'default')\n\t\t},\n\n\t\t/**\n\t\t * Process the new share request\n\t\t * @param {Object} optionValues the multiselect option\n\t\t */\n\t\tasync addShare() {\n\t\t\t// handle externalResults from OCA.Sharing.ShareSearch\n\t\t\tif (this.share.handler) {\n\t\t\t\tconsole.debug('addShare this.share handler ', this.share)\n\t\t\t\tconst share = await this.share.handler(this)\n\t\t\t\tthis.$emit('add:share', new Share(share))\n\t\t\t\treturn true\n\t\t\t}\n\n\t\t\tthis.loading = true\n\t\t\tconsole.debug('Adding a new share from the input for', this.share)\n\t\t\ttry {\n\t\t\t\tconst path = (this.fileInfo.path + '/' + this.fileInfo.name).replace('//', '/')\n\n\t\t\t\tif (this.share.sendPasswordByTalk) {\n\t\t\t\t\tthis.sendPasswordByTalk = this.share.sendPasswordByTalk.toString()\n\t\t\t\t}\n\n\t\t\t\tif (this.share.hideDownload) {\n\t\t\t\t\tthis.hideDownload = this.share.hideDownload.toString()\n\t\t\t\t}\n\n\t\t\t\tif (this.share.newPassword !== undefined) {\n\t\t\t\t\tthis.share.password = this.share.newPassword.trim()\n\t\t\t\t}\n\n\t\t\t\tawait this.createShare({\n\t\t\t\t\tpath,\n\t\t\t\t\tshareType: this.optionValues.shareType,\n\t\t\t\t\tshareWith: this.optionValues.shareWith,\n\t\t\t\t\tpassword: this.share.password,\n\t\t\t\t\tsendPasswordByTalk: this.sendPasswordByTalk,\n\t\t\t\t\texpireDate: this.share.expireDate,\n\t\t\t\t\thideDownload: this.hideDownload,\n\t\t\t\t\tnote: this.shareNote,\n\t\t\t\t\tpermissions: this.fileInfo.sharePermissions & OC.getCapabilities().files_sharing.default_permissions & this.share.permissions,\n\t\t\t\t})\n\n\t\t\t\t// add notes to share if any\n\t\t\t\t// this.share = share\n\t\t\t\t// this.share.note = this.shareNote\n\t\t\t\t// this.queueUpdate('note')\n\n\t\t\t\t// reset the search string when done\n\t\t\t\t// FIXME: https://github.com/shentao/vue-multiselect/issues/633\n\t\t\t\tif (this.$refs.multiselect?.$refs?.VueMultiselect?.search) {\n\t\t\t\t\tthis.$refs.multiselect.$refs.VueMultiselect.search = ''\n\t\t\t\t}\n\n\t\t\t\tthis.$root.$emit('update', this.fileInfo)\n\t\t\t\tawait this.$root.$emit('getRecommendations')\n\t\t\t\tthis.cancelSharing()\n\t\t\t} catch (error) {\n\t\t\t\tthis.query = this.share.shareWith\n\t\t\t\tconsole.error('Error while adding new share', error)\n\t\t\t} finally {\n\t\t\t\tthis.loading = false\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.sharing-note {\n\twidth: 100%;\n\theight: 200px;\n}\n.note-title {\n\tfont-weight: bold;\n}\n</style>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingNotes.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingNotes.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingNotes.vue?vue&type=style&index=0&id=ac0277b2&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingNotes.vue?vue&type=style&index=0&id=ac0277b2&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./SharingNotes.vue?vue&type=template&id=ac0277b2&scoped=true&\"\nimport script from \"./SharingNotes.vue?vue&type=script&lang=js&\"\nexport * from \"./SharingNotes.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SharingNotes.vue?vue&type=style&index=0&id=ac0277b2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ac0277b2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{ 'icon-loading': _vm.loading }},[_c('div',{staticClass:\"sharing-notes\"},[[_c('label',{staticClass:\"note-title\"},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'Your Message'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('p',{staticClass:\"note-subtitle\"},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'You can attach a message to the share.'))+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),_c('div',[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.shareNote),expression:\"shareNote\"}],ref:\"note\",staticClass:\"sharing-note\",attrs:{\"placeholder\":_vm.notePlaceholder,\"disabled\":_vm.saving},domProps:{\"value\":(_vm.shareNote)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.shareNote=$event.target.value}}})]),_vm._v(\" \"),_c('div',[_c('button',{staticClass:\"status-buttons__select\",attrs:{\"name\":_vm.randomId,\"disabled\":_vm.saving},on:{\"click\":_vm.cancelSharing}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'Cancel'))+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),(_vm.share.id > 0)?[_c('button',{staticClass:\"status-buttons__primary primary\",attrs:{\"name\":_vm.randomId,\"disabled\":_vm.saving},on:{\"click\":_vm.sendEmail}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'Send email'))+\"\\n\\t\\t\\t\\t\\t\")])]:[_c('button',{staticClass:\"status-buttons__primary primary\",attrs:{\"name\":_vm.randomId,\"disabled\":_vm.saving},on:{\"click\":_vm.addShare}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'Send share'))+\"\\n\\t\\t\\t\\t\\t\")])]],2)]],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingEntryInherited.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingEntryInherited.vue?vue&type=script&lang=js&\"","<!--\n  - @copyright Copyright (c) 2019 John Molakvoæ <skjnldsv@protonmail.com>\n  -\n  - @author John Molakvoæ <skjnldsv@protonmail.com>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<SharingEntrySimple :key=\"share.id\"\n\t\tclass=\"sharing-entry__inherited\"\n\t\t:title=\"share.shareWithDisplayName\">\n\t\t<template #avatar>\n\t\t\t<Avatar :user=\"share.shareWith\"\n\t\t\t\t:display-name=\"share.shareWithDisplayName\"\n\t\t\t\tclass=\"sharing-entry__avatar\"\n\t\t\t\ttooltip-message=\"\" />\n\t\t</template>\n\t\t<ActionText icon=\"icon-user\">\n\t\t\t{{ t('files_sharing', 'Added by {initiator}', { initiator: share.ownerDisplayName }) }}\n\t\t</ActionText>\n\t\t<ActionLink v-if=\"share.viaPath && share.viaFileid\"\n\t\t\ticon=\"icon-folder\"\n\t\t\t:href=\"viaFileTargetUrl\">\n\t\t\t{{ t('files_sharing', 'Via “{folder}”', {folder: viaFolderName} ) }}\n\t\t</ActionLink>\n\t\t<ActionButton v-if=\"share.canDelete\"\n\t\t\ticon=\"icon-close\"\n\t\t\t@click.prevent=\"onDelete\">\n\t\t\t{{ t('files_sharing', 'Unshare') }}\n\t\t</actionbutton>\n\t</SharingEntrySimple>\n</template>\n\n<script>\nimport { generateUrl } from '@nextcloud/router'\nimport { basename } from '@nextcloud/paths'\nimport Avatar from '@nextcloud/vue/dist/Components/Avatar'\nimport ActionButton from '@nextcloud/vue/dist/Components/ActionButton'\nimport ActionLink from '@nextcloud/vue/dist/Components/ActionLink'\nimport ActionText from '@nextcloud/vue/dist/Components/ActionText'\n\n// eslint-disable-next-line no-unused-vars\nimport Share from '../models/Share'\nimport SharesMixin from '../mixins/SharesMixin'\nimport SharingEntrySimple from '../components/SharingEntrySimple'\n\nexport default {\n\tname: 'SharingEntryInherited',\n\n\tcomponents: {\n\t\tActionButton,\n\t\tActionLink,\n\t\tActionText,\n\t\tAvatar,\n\t\tSharingEntrySimple,\n\t},\n\n\tmixins: [SharesMixin],\n\n\tprops: {\n\t\tshare: {\n\t\t\ttype: Share,\n\t\t\trequired: true,\n\t\t},\n\t},\n\n\tcomputed: {\n\t\tviaFileTargetUrl() {\n\t\t\treturn generateUrl('/f/{fileid}', {\n\t\t\t\tfileid: this.share.viaFileid,\n\t\t\t})\n\t\t},\n\n\t\tviaFolderName() {\n\t\t\treturn basename(this.share.viaPath)\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.sharing-entry {\n\tdisplay: flex;\n\talign-items: center;\n\theight: 44px;\n\t&__desc {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: space-between;\n\t\tpadding: 8px;\n\t\tline-height: 1.2em;\n\t\tp {\n\t\t\tcolor: var(--color-text-maxcontrast);\n\t\t}\n\t}\n\t&__actions {\n\t\tmargin-left: auto;\n\t}\n}\n</style>\n","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingEntryInherited.vue?vue&type=style&index=0&id=29845767&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingEntryInherited.vue?vue&type=style&index=0&id=29845767&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./SharingEntryInherited.vue?vue&type=template&id=29845767&scoped=true&\"\nimport script from \"./SharingEntryInherited.vue?vue&type=script&lang=js&\"\nexport * from \"./SharingEntryInherited.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SharingEntryInherited.vue?vue&type=style&index=0&id=29845767&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"29845767\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('SharingEntrySimple',{key:_vm.share.id,staticClass:\"sharing-entry__inherited\",attrs:{\"title\":_vm.share.shareWithDisplayName},scopedSlots:_vm._u([{key:\"avatar\",fn:function(){return [_c('Avatar',{staticClass:\"sharing-entry__avatar\",attrs:{\"user\":_vm.share.shareWith,\"display-name\":_vm.share.shareWithDisplayName,\"tooltip-message\":\"\"}})]},proxy:true}])},[_vm._v(\" \"),_c('ActionText',{attrs:{\"icon\":\"icon-user\"}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('files_sharing', 'Added by {initiator}', { initiator: _vm.share.ownerDisplayName }))+\"\\n\\t\")]),_vm._v(\" \"),(_vm.share.viaPath && _vm.share.viaFileid)?_c('ActionLink',{attrs:{\"icon\":\"icon-folder\",\"href\":_vm.viaFileTargetUrl}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('files_sharing', 'Via “{folder}”', {folder: _vm.viaFolderName} ))+\"\\n\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.share.canDelete)?_c('ActionButton',{attrs:{\"icon\":\"icon-close\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onDelete.apply(null, arguments)}}},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('files_sharing', 'Unshare'))+\"\\n\\t\")]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - @copyright Copyright (c) 2019 John Molakvoæ <skjnldsv@protonmail.com>\n  -\n  - @author John Molakvoæ <skjnldsv@protonmail.com>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<ul id=\"sharing-inherited-shares\">\n\t\t<!-- Main collapsible entry -->\n\t\t<SharingEntrySimple class=\"sharing-entry__inherited\"\n\t\t\t:title=\"mainTitle\"\n\t\t\t:subtitle=\"subTitle\">\n\t\t\t<template #avatar>\n\t\t\t\t<div class=\"avatar-shared icon-more-white\" />\n\t\t\t</template>\n\t\t\t<ActionButton :icon=\"showInheritedSharesIcon\" @click.prevent.stop=\"toggleInheritedShares\">\n\t\t\t\t{{ toggleTooltip }}\n\t\t\t</ActionButton>\n\t\t</SharingEntrySimple>\n\n\t\t<!-- Inherited shares list -->\n\t\t<SharingEntryInherited v-for=\"share in shares\"\n\t\t\t:key=\"share.id\"\n\t\t\t:file-info=\"fileInfo\"\n\t\t\t:share=\"share\" />\n\t</ul>\n</template>\n\n<script>\nimport { generateOcsUrl } from '@nextcloud/router'\nimport ActionButton from '@nextcloud/vue/dist/Components/ActionButton'\nimport axios from '@nextcloud/axios'\n\nimport Share from '../models/Share'\nimport SharingEntryInherited from '../components/SharingEntryInherited'\nimport SharingEntrySimple from '../components/SharingEntrySimple'\n\nexport default {\n\tname: 'SharingInherited',\n\n\tcomponents: {\n\t\tActionButton,\n\t\tSharingEntryInherited,\n\t\tSharingEntrySimple,\n\t},\n\n\tprops: {\n\t\tfileInfo: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => {},\n\t\t\trequired: true,\n\t\t},\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tloaded: false,\n\t\t\tloading: false,\n\t\t\tshowInheritedShares: false,\n\t\t\tshares: [],\n\t\t}\n\t},\n\tcomputed: {\n\t\tshowInheritedSharesIcon() {\n\t\t\tif (this.loading) {\n\t\t\t\treturn 'icon-loading-small'\n\t\t\t}\n\t\t\tif (this.showInheritedShares) {\n\t\t\t\treturn 'icon-triangle-n'\n\t\t\t}\n\t\t\treturn 'icon-triangle-s'\n\t\t},\n\t\tmainTitle() {\n\t\t\treturn t('files_sharing', 'Others with access')\n\t\t},\n\t\tsubTitle() {\n\t\t\treturn (this.showInheritedShares && this.shares.length === 0)\n\t\t\t\t? t('files_sharing', 'No other users with access found')\n\t\t\t\t: ''\n\t\t},\n\t\ttoggleTooltip() {\n\t\t\treturn this.fileInfo.type === 'dir'\n\t\t\t\t? t('files_sharing', 'Toggle list of others with access to this directory')\n\t\t\t\t: t('files_sharing', 'Toggle list of others with access to this file')\n\t\t},\n\t\tfullPath() {\n\t\t\tconst path = `${this.fileInfo.path}/${this.fileInfo.name}`\n\t\t\treturn path.replace('//', '/')\n\t\t},\n\t},\n\twatch: {\n\t\tfileInfo() {\n\t\t\tthis.resetState()\n\t\t},\n\t},\n\tmethods: {\n\t\t/**\n\t\t * Toggle the list view and fetch/reset the state\n\t\t */\n\t\ttoggleInheritedShares() {\n\t\t\tthis.showInheritedShares = !this.showInheritedShares\n\t\t\tif (this.showInheritedShares) {\n\t\t\t\tthis.fetchInheritedShares()\n\t\t\t} else {\n\t\t\t\tthis.resetState()\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Fetch the Inherited Shares array\n\t\t */\n\t\tasync fetchInheritedShares() {\n\t\t\tthis.loading = true\n\t\t\ttry {\n\t\t\t\tconst url = generateOcsUrl('apps/files_sharing/api/v1/shares/inherited?format=json&path={path}', { path: this.fullPath })\n\t\t\t\tconst shares = await axios.get(url)\n\t\t\t\tthis.shares = shares.data.ocs.data\n\t\t\t\t\t.map(share => new Share(share))\n\t\t\t\t\t.sort((a, b) => b.createdTime - a.createdTime)\n\t\t\t\tconsole.info(this.shares)\n\t\t\t\tthis.loaded = true\n\t\t\t} catch (error) {\n\t\t\t\tOC.Notification.showTemporary(t('files_sharing', 'Unable to fetch inherited shares'), { type: 'error' })\n\t\t\t} finally {\n\t\t\t\tthis.loading = false\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Reset current component state\n\t\t */\n\t\tresetState() {\n\t\t\tthis.loaded = false\n\t\t\tthis.loading = false\n\t\t\tthis.showInheritedShares = false\n\t\t\tthis.shares = []\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.sharing-entry__inherited {\n\t.avatar-shared {\n\t\twidth: 32px;\n\t\theight: 32px;\n\t\tline-height: 32px;\n\t\tfont-size: 18px;\n\t\tbackground-color: var(--color-text-maxcontrast);\n\t\tborder-radius: 50%;\n\t\tflex-shrink: 0;\n\t}\n}\n</style>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingInherited.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingInherited.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingInherited.vue?vue&type=style&index=0&id=49ffd834&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingInherited.vue?vue&type=style&index=0&id=49ffd834&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./SharingInherited.vue?vue&type=template&id=49ffd834&scoped=true&\"\nimport script from \"./SharingInherited.vue?vue&type=script&lang=js&\"\nexport * from \"./SharingInherited.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SharingInherited.vue?vue&type=style&index=0&id=49ffd834&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"49ffd834\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{attrs:{\"id\":\"sharing-inherited-shares\"}},[_c('SharingEntrySimple',{staticClass:\"sharing-entry__inherited\",attrs:{\"title\":_vm.mainTitle,\"subtitle\":_vm.subTitle},scopedSlots:_vm._u([{key:\"avatar\",fn:function(){return [_c('div',{staticClass:\"avatar-shared icon-more-white\"})]},proxy:true}])},[_vm._v(\" \"),_c('ActionButton',{attrs:{\"icon\":_vm.showInheritedSharesIcon},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.toggleInheritedShares.apply(null, arguments)}}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.toggleTooltip)+\"\\n\\t\\t\")])],1),_vm._v(\" \"),_vm._l((_vm.shares),function(share){return _c('SharingEntryInherited',{key:share.id,attrs:{\"file-info\":_vm.fileInfo,\"share\":share}})})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomSelect.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomSelect.vue?vue&type=script&lang=js&\"","<!--\n  - @copyright Copyright (c) 2021 Yogesh Shejwadkar <yogesh.shejwadkar@t-systems.com>\n  -\n  - @author Yogesh Shejwadkar <yogesh.shejwadkar@t-systems.com>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<div class=\"custom-select\"\n\t\t:tabindex=\"tabindex\"\n\t\t@blur=\"open = false\">\n\t\t<div @click=\"open = isDisable ? open : !open\" :class=\"isDisable ? 'disabledRow' : null\">\n\t\t\t<h5>{{ title }}</h5>\n\t\t\t<div class=\"selected\" :class=\"{ open: open }\">\n\t\t\t\t{{ selected.value }}\n\t\t\t\t<span class=\"sort-indicator icon-triangle-s\"></span>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"items\" :class=\"{ selectHide: !open }\">\n\t\t\t<div\n\t\t\t\t:class=\"option.key == selected.key ? 'selectedItem' : null\"\n\t\t\t\tv-for=\"(option, i) of options\"\n\t\t\t\t:key=\"i\"\n\t\t\t\t@click=\"\n\t\t\t\t\tselected = option;\n\t\t\t\t\topen = false;\n\t\t\t\t\t$emit('input', option.key);\n\t\t\t\t\tsetCurrentSelectedOption(option.key);\n\t\t\t\t\">\n\t\t\t\t<span class=\"icon-select-check\"></span>\n\t\t\t\t{{ option.value }}\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tprops: {\n\t\toptions: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tdefault: {\n\t\t\ttype: Number,\n\t\t\trequired: false,\n\t\t\tdefault: 0,\n\t\t},\n\t\ttabindex: {\n\t\t\ttype: Number,\n\t\t\trequired: false,\n\t\t\tdefault: 0,\n\t\t},\n\t\ttitle: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: null,\n\t\t},\n\t\tisDisable: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tselected: this.getDefault(this.default),\n\t\t\topen: false,\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.$emit('input', this.selected)\n\t},\n\tmethods: {\n\t\tsetCurrentSelectedOption(option) {\n\t\t\tconsole.info('in setCurrentSelectedOption-', option)\n\t\t\tthis.$emit('setSelectedOption', option)\n\t\t},\n\n\t\tgetDefault(defaultOption) {\n\t\t\tlet defaultOpt = null\n\t\t\tif (defaultOption) {\n\t\t\t\tfor (let i = 0; i < Object.keys(this.options).length; i++) {\n\t\t\t\t// this.options.each(function() {\n\t\t\t\t\tif (this.options[i].key === defaultOption) {\n\t\t\t\t\t\tdefaultOpt = this.options[i]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (Object.keys(this.options).length > 0) {\n\t\t\t\tdefaultOpt = this.options[0]\n\t\t\t}\n\t\t\treturn defaultOpt\n\t\t},\n\t}\n}\n</script>\n\n<style scoped>\n.custom-select {\n\tposition: relative;\n\twidth: 100%;\n\ttext-align: left;\n\toutline: none;\n\theight: 47px;\n\tline-height: 47px;\n}\n\n.custom-select .selected {\n\tbackground-color: #fff;\n\tborder-radius: 6px;\n\tborder: 1px solid #666666;\n\tpadding-left: 1em;\n\tcursor: pointer;\n\tuser-select: none;\n}\n\n.custom-select .selected.open {\n\tborder: 1px solid #ad8225;\n\tborder-radius: 6px 6px 0px 0px;\n}\n\n/* .custom-select .selected:after {\n\tposition: absolute;\n\tcontent: \"\";\n\ttop: 22px;\n\tright: 1em;\n\twidth: 0;\n\theight: 0;\n\tborder: 5px solid transparent;\n\tborder-color: #0a0a0a transparent transparent transparent;\n} */\n\n.custom-select .items {\n\tborder-radius: 0px 0px 6px 6px;\n\toverflow: hidden;\n\tborder-right: 1px solid #ad8225;\n\tborder-left: 1px solid #ad8225;\n\tborder-bottom: 1px solid #ad8225;\n\tposition: absolute;\n\tbackground-color: #fff;\n\tleft: 0;\n\tright: 0;\n\tz-index: 1;\n}\n\n.custom-select .items div {\n\tpadding-left: 1em;\n\tcursor: pointer;\n\tuser-select: none;\n}\n\n.custom-select .items div:hover {\n\tbackground-color: #ad8225;\n}\n\n.selectHide {\n\tdisplay: none;\n}\n</style>\n","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomSelect.vue?vue&type=style&index=0&id=6673cd0e&scoped=true&lang=css&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomSelect.vue?vue&type=style&index=0&id=6673cd0e&scoped=true&lang=css&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./CustomSelect.vue?vue&type=template&id=6673cd0e&scoped=true&\"\nimport script from \"./CustomSelect.vue?vue&type=script&lang=js&\"\nexport * from \"./CustomSelect.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CustomSelect.vue?vue&type=style&index=0&id=6673cd0e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6673cd0e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"custom-select\",attrs:{\"tabindex\":_vm.tabindex},on:{\"blur\":function($event){_vm.open = false}}},[_c('div',{class:_vm.isDisable ? 'disabledRow' : null,on:{\"click\":function($event){_vm.open = _vm.isDisable ? _vm.open : !_vm.open}}},[_c('h5',[_vm._v(_vm._s(_vm.title))]),_vm._v(\" \"),_c('div',{staticClass:\"selected\",class:{ open: _vm.open }},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.selected.value)+\"\\n\\t\\t\\t\"),_c('span',{staticClass:\"sort-indicator icon-triangle-s\"})])]),_vm._v(\" \"),_c('div',{staticClass:\"items\",class:{ selectHide: !_vm.open }},_vm._l((_vm.options),function(option,i){return _c('div',{key:i,class:option.key == _vm.selected.key ? 'selectedItem' : null,on:{\"click\":function($event){_vm.selected = option;\n\t\t\t\t_vm.open = false;\n\t\t\t\t_vm.$emit('input', option.key);\n\t\t\t\t_vm.setCurrentSelectedOption(option.key);}}},[_c('span',{staticClass:\"icon-select-check\"}),_vm._v(\"\\n\\t\\t\\t\"+_vm._s(option.value)+\"\\n\\t\\t\")])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - @copyright Copyright (c) 2019 John Molakvoæ <skjnldsv@protonmail.com>\n  -\n  - @author John Molakvoæ <skjnldsv@protonmail.com>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<li :class=\"isEmailShareType ? 'email-share-link sharing-entry sharing-entry__link' : 'link-share-link sharing-entry sharing-entry__link'\">\n\t\t<Avatar :is-no-user=\"true\"\n\t\t\t:icon-class=\"isEmailShareType ? 'avatar-link-share icon-mail-white' : 'avatar-link-share icon-public-white'\"\n\t\t\tclass=\"sharing-entry__avatar\" />\n\t\t<div class=\"sharing-entry__desc\">\n\t\t\t<div v-if=\"!share.canEdit\">\n\t\t\t\t<h5 :title=\"title\">\n\t\t\t\t\t{{ title }}\n\t\t\t\t</h5>\n\t\t\t\t<p v-if=\"subtitle\">\n\t\t\t\t\t{{ subtitle }}\n\t\t\t\t</p>\n\t\t\t</div>\n\n\t\t\t<div id=\"app\">\n\t\t\t\t<template v-if=\"share\">\n\t\t\t\t\t<template v-if=\"share.canEdit\">\n\t\t\t\t\t\t<!-- folder -->\n\t\t\t\t\t\t<template v-if=\"isFolder && fileHasCreatePermission && config.isPublicUploadEnabled\">\n\t\t\t\t\t\t\t<CustomSelect\n\t\t\t\t\t\t\t\t:title=\"title\"\n\t\t\t\t\t\t\t\t:options=\"getFolderOptions\"\n\t\t\t\t\t\t\t\t:default=\"sharePermissions\"\n\t\t\t\t\t\t\t\t@setSelectedOption=\"togglePermissions($event);\"\n\t\t\t\t\t\t\t\tclass=\"select\" />\n\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t<!-- file -->\n\t\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t\t<CustomSelect\n\t\t\t\t\t\t\t\t:title=\"title\"\n\t\t\t\t\t\t\t\t:isDisable=\"isAllowed\"\n\t\t\t\t\t\t\t\t:options=\"getFileOptions\"\n\t\t\t\t\t\t\t\t:default=\"sharePermissions\"\n\t\t\t\t\t\t\t\t@setSelectedOption=\"togglePermissions($event);\"\n\t\t\t\t\t\t\t\tclass=\"select\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</template>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- clipboard -->\n\t\t<Actions v-if=\"share && !isEmailShareType && share.token\"\n\t\t\tref=\"copyButton\"\n\t\t\tclass=\"sharing-entry__copy\">\n\t\t\t<ActionLink :href=\"shareLink\"\n\t\t\t\ttarget=\"_blank\"\n\t\t\t\t:icon=\"copied && copySuccess ? 'icon-checkmark-color' : 'icon-clippy'\"\n\t\t\t\t@click.stop.prevent=\"copyLink\">\n\t\t\t\t{{ clipboardTooltip }}\n\t\t\t</ActionLink>\n\t\t</Actions>\n\n\t\t<!-- pending actions -->\n\t\t<Actions v-if=\"!pending && (pendingPassword || pendingExpirationDate)\"\n\t\t\tclass=\"sharing-entry__actions\"\n\t\t\tmenu-align=\"right\"\n\t\t\t:open.sync=\"open\"\n\t\t\t@close=\"onNewLinkShare\">\n\t\t\t<!-- pending data menu -->\n\t\t\t<ActionText v-if=\"errors.pending\"\n\t\t\t\ticon=\"icon-error\"\n\t\t\t\t:class=\"{ error: errors.pending}\">\n\t\t\t\t{{ errors.pending }}\n\t\t\t</ActionText>\n\t\t\t<ActionText v-else icon=\"icon-info\">\n\t\t\t\t{{ t('files_sharing', 'Please enter the following required information before creating the share') }}\n\t\t\t</ActionText>\n\n\t\t\t<!-- password -->\n\t\t\t<ActionText v-if=\"pendingPassword\" icon=\"icon-password\">\n\t\t\t\t{{ t('files_sharing', 'Password protection (enforced)') }}\n\t\t\t</ActionText>\n\t\t\t<ActionCheckbox v-else-if=\"config.enableLinkPasswordByDefault\"\n\t\t\t\t:checked.sync=\"isPasswordProtected\"\n\t\t\t\t:disabled=\"config.enforcePasswordForPublicLink || saving\"\n\t\t\t\tclass=\"share-link-password-checkbox\"\n\t\t\t\t@uncheck=\"onPasswordDisable\">\n\t\t\t\t{{ t('files_sharing', 'Password protection') }}\n\t\t\t</ActionCheckbox>\n\t\t\t<ActionInput v-if=\"pendingPassword || share.password\"\n\t\t\t\tv-tooltip.auto=\"{\n\t\t\t\t\tcontent: errors.password,\n\t\t\t\t\tshow: errors.password,\n\t\t\t\t\ttrigger: 'manual',\n\t\t\t\t\tdefaultContainer: '#app-sidebar'\n\t\t\t\t}\"\n\t\t\t\tclass=\"share-link-password\"\n\t\t\t\t:value.sync=\"share.password\"\n\t\t\t\t:disabled=\"saving\"\n\t\t\t\t:required=\"config.enableLinkPasswordByDefault || config.enforcePasswordForPublicLink\"\n\t\t\t\t:minlength=\"isPasswordPolicyEnabled && config.passwordPolicy.minLength\"\n\t\t\t\ticon=\"\"\n\t\t\t\tautocomplete=\"new-password\"\n\t\t\t\t@submit=\"onNewLinkShare\">\n\t\t\t\t{{ t('files_sharing', 'Enter a password') }}\n\t\t\t</ActionInput>\n\n\t\t\t<!-- expiration date -->\n\t\t\t<ActionText v-if=\"pendingExpirationDate\" icon=\"icon-calendar-dark\">\n\t\t\t\t{{ t('files_sharing', 'Expiration date (enforced)') }}\n\t\t\t</ActionText>\n\t\t\t<ActionInput v-if=\"pendingExpirationDate\"\n\t\t\t\tv-model=\"share.expireDate\"\n\t\t\t\tv-tooltip.auto=\"{\n\t\t\t\t\tcontent: errors.expireDate,\n\t\t\t\t\tshow: errors.expireDate,\n\t\t\t\t\ttrigger: 'manual',\n\t\t\t\t\tdefaultContainer: '#app-sidebar'\n\t\t\t\t}\"\n\t\t\t\tclass=\"share-link-expire-date\"\n\t\t\t\t:disabled=\"saving\"\n\t\t\t\t:first-day-of-week=\"firstDay\"\n\t\t\t\t:lang=\"lang\"\n\t\t\t\ticon=\"\"\n\t\t\t\ttype=\"date\"\n\t\t\t\tvalue-type=\"format\"\n\t\t\t\t:disabled-date=\"disabledDate\">\n\t\t\t\t<!-- let's not submit when picked, the user\n\t\t\t\t\tmight want to still edit or copy the password -->\n\t\t\t\t{{ t('files_sharing', 'Enter a date') }}\n\t\t\t</ActionInput>\n\n\t\t\t<ActionButton icon=\"icon-checkmark\" @click.prevent.stop=\"onNewLinkShare\">\n\t\t\t\t{{ t('files_sharing', 'Create share') }}\n\t\t\t</ActionButton>\n\t\t\t<ActionButton icon=\"icon-close\" @click.prevent.stop=\"onCancel\">\n\t\t\t\t{{ t('files_sharing', 'Cancel') }}\n\t\t\t</ActionButton>\n\t\t</Actions>\n\n\t\t<!-- actions -->\n\t\t<Actions v-else-if=\"!loading\"\n\t\t\tclass=\"sharing-entry__actions\"\n\t\t\tmenu-align=\"right\"\n\t\t\t:open.sync=\"open\"\n\t\t\t@close=\"onMenuClose\">\n\t\t\t<template v-if=\"share\">\n\t\t\t\t<!-- external sharing via url (social...) -->\n\t\t\t\t<ActionLink v-for=\"({icon, url, name}, index) in externalActions\"\n\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t:href=\"url(shareLink)\"\n\t\t\t\t\t:icon=\"icon\"\n\t\t\t\t\ttarget=\"_blank\">\n\t\t\t\t\t{{ name }}\n\t\t\t\t</ActionLink>\n\t\t\t\t<ActionButton v-if=\"share.canEdit\"\n\t\t\t\t\ticon=\"icon-settings\"\n\t\t\t\t\t:disabled=\"saving\"\n\t\t\t\t\t@click.prevent=\"editPermissions\">\n\t\t\t\t\t{{ t('files_sharing', 'Advanced permission') }}\n\t\t\t\t</ActionButton>\n\t\t\t\t<ActionButton v-if=\"share.canEdit && isEmailShareType\"\n\t\t\t\t\ticon=\"icon-mail\"\n\t\t\t\t\t:disabled=\"saving\"\n\t\t\t\t\t@click.prevent=\"editNotes\">\n\t\t\t\t\t{{ t('files_sharing', 'Send new mail') }}\n\t\t\t\t</ActionButton>\n\n\t\t\t\t<ActionButton v-if=\"share.canDelete\"\n\t\t\t\t\ticon=\"icon-close\"\n\t\t\t\t\t:disabled=\"saving\"\n\t\t\t\t\t@click.prevent=\"onDelete\">\n\t\t\t\t\t{{ t('files_sharing', 'Unshare') }}\n\t\t\t\t</ActionButton>\n\t\t\t</template>\n\n\t\t\t<!-- Create new share -->\n\t\t\t<ActionButton v-else-if=\"canReshare\"\n\t\t\t\tclass=\"new-share-link\"\n\t\t\t\t:icon=\"loading ? 'icon-loading-small' : 'icon-add'\"\n\t\t\t\t@click.prevent.stop=\"onNewLinkShare\">\n\t\t\t\t{{ t('files_sharing', 'Create a new share link') }}\n\t\t\t</ActionButton>\n\t\t</Actions>\n\n\t\t<!-- loading indicator to replace the menu -->\n\t\t<div v-else class=\"icon-loading-small sharing-entry__loading\" />\n\t</li>\n</template>\n\n<script>\nimport { generateUrl } from '@nextcloud/router'\nimport { Type as ShareTypes } from '@nextcloud/sharing'\nimport Vue from 'vue'\n\nimport ActionButton from '@nextcloud/vue/dist/Components/ActionButton'\nimport ActionCheckbox from '@nextcloud/vue/dist/Components/ActionCheckbox'\nimport ActionInput from '@nextcloud/vue/dist/Components/ActionInput'\nimport ActionText from '@nextcloud/vue/dist/Components/ActionText'\nimport ActionLink from '@nextcloud/vue/dist/Components/ActionLink'\nimport Actions from '@nextcloud/vue/dist/Components/Actions'\nimport Avatar from '@nextcloud/vue/dist/Components/Avatar'\nimport Tooltip from '@nextcloud/vue/dist/Directives/Tooltip'\n\nimport GeneratePassword from '../utils/GeneratePassword'\nimport Share from '../models/Share'\nimport SharesMixin from '../mixins/SharesMixin'\nimport CustomSelect from './CustomSelect'\n\nexport default {\n\tname: 'SharingEntryLink',\n\n\tcomponents: {\n\t\tActions,\n\t\tActionButton,\n\t\tActionCheckbox,\n\t\tActionInput,\n\t\tActionLink,\n\t\tActionText,\n\t\tAvatar,\n\t\tCustomSelect,\n\t},\n\n\tdirectives: {\n\t\tTooltip,\n\t},\n\n\tmixins: [SharesMixin],\n\n\tprops: {\n\t\tcanReshare: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tcopySuccess: true,\n\t\t\tcopied: false,\n\n\t\t\t// Are we waiting for password/expiration date\n\t\t\tpending: false,\n\n\t\t\tpublicUploadRWValue: OC.PERMISSION_UPDATE | OC.PERMISSION_CREATE | OC.PERMISSION_READ | OC.PERMISSION_DELETE,\n\t\t\tpublicUploadRValue: OC.PERMISSION_READ,\n\t\t\tpublicUploadWValue: OC.PERMISSION_CREATE,\n\t\t\tpublicUploadEValue: OC.PERMISSION_UPDATE | OC.PERMISSION_READ,\n\t\t\tisAllowed:true,\n\t\t\tallowExtensions:[\"application/vnd.oasis.opendocument.graphics\",\"application/vnd.oasis.opendocument.text\",\"text/markdown\",\"text/plain\",\"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",\"application/vnd.openxmlformats-officedocument.presentationml.presentation\"],\n\t\t\tExternalLinkActions: OCA.Sharing.ExternalLinkActions.state,\n\t\t}\n\t},\n\n\tbeforeMount() {\n\t\t\n\t\tconsole.log(\"file extension : \"+this.fileInfo.mimetype)\n\n\t\tif(this.allowExtensions.includes( this.fileInfo.mimetype)){\n\t\t\tthis.isAllowed=false\n\t\t}\n\t\t\n\t\tconsole.log(\"is disabled : \" + this.isAllowed)\n\t},\n\tcomputed: {\n\t\t/**\n\t\t * Return the current share permissions\n\t\t * We always ignore the SHARE permission as this is used for the\n\t\t * federated sharing.\n\t\t * @returns {number}\n\t\t */\n\t\tsharePermissions() {\n\t\t\treturn this.share.permissions & ~OC.PERMISSION_SHARE\n\t\t},\n\t\t/**\n\t\t * Generate a unique random id for this SharingEntryLink only\n\t\t * @returns {string}\n\t\t */\n\t\trandomId() {\n\t\t\treturn Math.random().toString(27).substr(2)\n\t\t},\n\n\t\t/**\n\t\t * Link share label\n\t\t * @returns {string}\n\t\t */\n\t\ttitle() {\n\t\t\t// if we have a valid existing share (not pending)\n\t\t\tif (this.share && this.share.id) {\n\t\t\t\tif (!this.isShareOwner && this.share.ownerDisplayName) {\n\t\t\t\t\tif (this.isEmailShareType) {\n\t\t\t\t\t\treturn t('files_sharing', '{shareWith} by {initiator}', {\n\t\t\t\t\t\t\tshareWith: this.share.shareWith,\n\t\t\t\t\t\t\tinitiator: this.share.ownerDisplayName,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\treturn t('files_sharing', 'Shared via link by {initiator}', {\n\t\t\t\t\t\tinitiator: this.share.ownerDisplayName,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tif (this.share.label && this.share.label.trim() !== '') {\n\t\t\t\t\tif (this.isEmailShareType) {\n\t\t\t\t\t\treturn t('files_sharing', 'Mail share ({label})', {\n\t\t\t\t\t\t\tlabel: this.share.label.trim(),\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\treturn t('files_sharing', 'Link \"{label}\"', {\n\t\t\t\t\t\tlabel: this.share.label.trim(),\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tif (this.isEmailShareType) {\n\t\t\t\t\treturn this.share.shareWith\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.fileInfo.type === 'dir') {\n\t\t\t\treturn t('files_sharing', 'Link to folder')\n\t\t\t} else {\n\t\t\t\treturn t('files_sharing', 'Link to file')\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Show the email on a second line if a label is set for mail shares\n\t\t * @returns {string}\n\t\t */\n\t\tsubtitle() {\n\t\t\tif (this.isEmailShareType\n\t\t\t\t&& this.title !== this.share.shareWith) {\n\t\t\t\treturn this.share.shareWith\n\t\t\t}\n\t\t\treturn null\n\t\t},\n\n\t\t/**\n\t\t * Is the current share password protected ?\n\t\t * @returns {boolean}\n\t\t */\n\t\tisPasswordProtected: {\n\t\t\tget() {\n\t\t\t\treturn this.config.enforcePasswordForPublicLink\n\t\t\t\t\t|| !!this.share.password\n\t\t\t},\n\t\t\tasync set(enabled) {\n\t\t\t\t// TODO: directly save after generation to make sure the share is always protected\n\t\t\t\tVue.set(this.share, 'password', enabled ? await GeneratePassword() : '')\n\t\t\t\tVue.set(this.share, 'newPassword', this.share.password)\n\t\t\t},\n\t\t},\n\n\t\t/**\n\t\t * Is the current share an email share ?\n\t\t *\n\t\t * @return {boolean}\n\t\t */\n\t\tisEmailShareType() {\n\t\t\treturn this.share\n\t\t\t\t? this.share.type === this.SHARE_TYPES.SHARE_TYPE_EMAIL\n\t\t\t\t: false\n\t\t},\n\n\t\t/**\n\t\t * Pending data.\n\t\t * If the share still doesn't have an id, it is not synced\n\t\t * Therefore this is still not valid and requires user input\n\t\t *\n\t\t * @return {boolean}\n\t\t */\n\t\tpendingPassword() {\n\t\t\treturn this.config.enforcePasswordForPublicLink && this.share && !this.share.id\n\t\t},\n\t\tpendingExpirationDate() {\n\t\t\treturn this.config.isDefaultExpireDateEnforced && this.share && !this.share.id\n\t\t},\n\n\t\t// if newPassword exists, but is empty, it means\n\t\t// the user deleted the original password\n\t\thasUnsavedPassword() {\n\t\t\treturn this.share.newPassword !== undefined\n\t\t},\n\n\t\t/**\n\t\t * Is the current share a folder ?\n\t\t * TODO: move to a proper FileInfo model?\n\t\t * @returns {boolean}\n\t\t */\n\t\tisFolder() {\n\t\t\treturn this.fileInfo.type === 'dir'\n\t\t},\n\n\t\t/**\n\t\t * Does the current file/folder have create permissions\n\t\t * TODO: move to a proper FileInfo model?\n\t\t * @returns {boolean}\n\t\t */\n\t\tfileHasCreatePermission() {\n\t\t\treturn !!(this.fileInfo.permissions & OC.PERMISSION_CREATE)\n\t\t},\n\n\t\t/**\n\t\t * Return the public share link\n\t\t *\n\t\t * @return {string}\n\t\t */\n\t\tshareLink() {\n\t\t\treturn window.location.protocol + '//' + window.location.host + generateUrl('/s/') + this.share.token\n\t\t},\n\n\t\t/**\n\t\t * Clipboard v-tooltip message\n\t\t *\n\t\t * @return {string}\n\t\t */\n\t\tclipboardTooltip() {\n\t\t\tif (this.copied) {\n\t\t\t\treturn this.copySuccess\n\t\t\t\t\t? t('files_sharing', 'Link copied')\n\t\t\t\t\t: t('files_sharing', 'Cannot copy, please copy the link manually')\n\t\t\t}\n\t\t\treturn t('files_sharing', 'Copy to clipboard')\n\t\t},\n\n\t\t/**\n\t\t * External aditionnal actions for the menu\n\t\t * @returns {Array}\n\t\t */\n\t\texternalActions() {\n\t\t\treturn this.ExternalLinkActions.actions\n\t\t},\n\n\t\tisPasswordPolicyEnabled() {\n\t\t\treturn typeof this.config.passwordPolicy === 'object'\n\t\t},\n\n\t\tgetFolderOptions() {\n\t\t\tconst options = {}\n\t\t\toptions[0] = { key: this.publicUploadRValue, value: t('files_sharing', 'Read only') }\n\t\t\toptions[1] = { key: this.publicUploadRWValue, value: t('files_sharing', 'Read, write and upload') }\n\t\t\toptions[2] = { key: this.publicUploadWValue, value: t('files_sharing', 'File drop (upload only)') }\n\n\t\t\treturn options\n\t\t},\n\n\t\tgetFileOptions() {\n\t\t\tconst options = {}\n\t\t\toptions[0] = { key: this.publicUploadRValue, value: t('files_sharing', 'Read only') }\n\t\t\toptions[1] = { key: this.publicUploadEValue, value: t('files_sharing', 'Read and write') }\n\n\t\t\treturn options\n\t\t},\n\t},\n\n\tmethods: {\n\t\t/**\n\t\t * Create a new share link and append it to the list\n\t\t */\n\t\tasync onNewLinkShare() {\n\t\t\t// do not run again if already loading\n\t\t\tif (this.loading) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tconst shareDefaults = {\n\t\t\t\tshare_type: ShareTypes.SHARE_TYPE_LINK,\n\t\t\t}\n\t\t\tif (this.config.isDefaultExpireDateEnforced) {\n\t\t\t\t// default is empty string if not set\n\t\t\t\t// expiration is the share object key, not expireDate\n\t\t\t\tshareDefaults.expiration = this.config.defaultExpirationDateString\n\t\t\t}\n\t\t\tif (this.config.enableLinkPasswordByDefault) {\n\t\t\t\tshareDefaults.password = await GeneratePassword()\n\t\t\t}\n\n\t\t\t// do not push yet if we need a password or an expiration date: show pending menu\n\t\t\tif (this.config.enforcePasswordForPublicLink || this.config.isDefaultExpireDateEnforced) {\n\t\t\t\tthis.pending = true\n\n\t\t\t\t// if a share already exists, pushing it\n\t\t\t\tif (this.share && !this.share.id) {\n\t\t\t\t\t// if the share is valid, create it on the server\n\t\t\t\t\tif (this.checkShare(this.share)) {\n\t\t\t\t\t\tawait this.pushNewLinkShare(this.share, true)\n\t\t\t\t\t\treturn true\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.open = true\n\t\t\t\t\t\tOC.Notification.showTemporary(t('files_sharing', 'Error, please enter proper password and/or expiration date'))\n\t\t\t\t\t\treturn false\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// ELSE, show the pending popovermenu\n\t\t\t\t// if password enforced, pre-fill with random one\n\t\t\t\tif (this.config.enforcePasswordForPublicLink) {\n\t\t\t\t\tshareDefaults.password = await GeneratePassword()\n\t\t\t\t}\n\n\t\t\t\t// create share & close menu\n\t\t\t\tconst share = new Share(shareDefaults)\n\t\t\t\tconst component = await new Promise(resolve => {\n\t\t\t\t\tthis.$emit('add:share', share, resolve)\n\t\t\t\t})\n\n\t\t\t\t// open the menu on the\n\t\t\t\t// freshly created share component\n\t\t\t\tthis.open = false\n\t\t\t\tthis.pending = false\n\t\t\t\tcomponent.open = true\n\n\t\t\t// Nothing is enforced, creating share directly\n\t\t\t} else {\n\t\t\t\tconst share = new Share(shareDefaults)\n\t\t\t\tawait this.pushNewLinkShare(share)\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Push a new link share to the server\n\t\t * And update or append to the list\n\t\t * accordingly\n\t\t *\n\t\t * @param {Share} share the new share\n\t\t * @param {boolean} [update=false] do we update the current share ?\n\t\t */\n\t\tasync pushNewLinkShare(share, update) {\n\t\t\ttry {\n\t\t\t\t// do nothing if we're already pending creation\n\t\t\t\tif (this.loading) {\n\t\t\t\t\treturn true\n\t\t\t\t}\n\n\t\t\t\tthis.loading = true\n\t\t\t\tthis.errors = {}\n\n\t\t\t\tconst path = (this.fileInfo.path + '/' + this.fileInfo.name).replace('//', '/')\n\t\t\t\tconst newShare = await this.createShare({\n\t\t\t\t\tpath,\n\t\t\t\t\tshareType: ShareTypes.SHARE_TYPE_LINK,\n\t\t\t\t\tpassword: share.password,\n\t\t\t\t\texpireDate: share.expireDate,\n\t\t\t\t\tattributes: JSON.stringify(this.fileInfo.shareAttributes),\n\t\t\t\t\t// we do not allow setting the publicUpload\n\t\t\t\t\t// before the share creation.\n\t\t\t\t\t// Todo: We also need to fix the createShare method in\n\t\t\t\t\t// lib/Controller/ShareAPIController.php to allow file drop\n\t\t\t\t\t// (currently not supported on create, only update)\n\t\t\t\t})\n\n\t\t\t\tthis.open = false\n\n\t\t\t\tconsole.debug('Link share created', newShare)\n\n\t\t\t\t// if share already exists, copy link directly on next tick\n\t\t\t\tlet component\n\t\t\t\tif (update) {\n\t\t\t\t\tcomponent = await new Promise(resolve => {\n\t\t\t\t\t\tthis.$emit('update:share', newShare, resolve)\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\t// adding new share to the array and copying link to clipboard\n\t\t\t\t\t// using promise so that we can copy link in the same click function\n\t\t\t\t\t// and avoid firefox copy permissions issue\n\t\t\t\t\tcomponent = await new Promise(resolve => {\n\t\t\t\t\t\tthis.$emit('add:share', newShare, resolve)\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\t// Execute the copy link method\n\t\t\t\t// freshly created share component\n\t\t\t\t// ! somehow does not works on firefox !\n\t\t\t\tif (!this.config.enforcePasswordForPublicLink) {\n\t\t\t\t\t// Only copy the link when the password was not forced,\n\t\t\t\t\t// otherwise the user needs to copy/paste the password before finishing the share.\n\t\t\t\t\tcomponent.copyLink()\n\t\t\t\t}\n\n\t\t\t} catch ({ response }) {\n\t\t\t\tconst message = response.data.ocs.meta.message\n\t\t\t\tif (message.match(/password/i)) {\n\t\t\t\t\tthis.onSyncError('password', message)\n\t\t\t\t} else if (message.match(/date/i)) {\n\t\t\t\t\tthis.onSyncError('expireDate', message)\n\t\t\t\t} else {\n\t\t\t\t\tthis.onSyncError('pending', message)\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tthis.loading = false\n\t\t\t}\n\t\t},\n\t\t\n\t\ttogglePermissions(option) {\n\t\t\tconst permissions = parseInt(option, 10)\n\t\t\tthis.share.permissions = permissions\n\t\t\tthis.queueUpdate('permissions')\n\n\t\t\tif (permissions === OC.PERMISSION_CREATE) {\n\t\t\t\tthis.share.hideDownload = false\n\t\t\t\tthis.queueUpdate('hideDownload')\n\t\t\t}\n\t\t},\n\n\t\tasync copyLink() {\n\t\t\ttry {\n\t\t\t\tawait this.$copyText(this.shareLink)\n\t\t\t\t// focus and show the tooltip\n\t\t\t\tthis.$refs.copyButton.$el.focus()\n\t\t\t\tthis.copySuccess = true\n\t\t\t\tthis.copied = true\n\t\t\t} catch (error) {\n\t\t\t\tthis.copySuccess = false\n\t\t\t\tthis.copied = true\n\t\t\t\tconsole.error(error)\n\t\t\t} finally {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.copySuccess = false\n\t\t\t\t\tthis.copied = false\n\t\t\t\t}, 4000)\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Uncheck password protection\n\t\t * We need this method because @update:checked\n\t\t * is ran simultaneously as @uncheck, so we\n\t\t * cannot ensure data is up-to-date\n\t\t */\n\t\tonPasswordDisable() {\n\t\t\tthis.share.password = ''\n\n\t\t\t// reset password state after sync\n\t\t\tthis.$delete(this.share, 'newPassword')\n\n\t\t\t// only update if valid share.\n\t\t\tif (this.share.id) {\n\t\t\t\tthis.queueUpdate('password')\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Menu have been closed or password has been submited.\n\t\t * The only property that does not get\n\t\t * synced automatically is the password\n\t\t * So let's check if we have an unsaved\n\t\t * password.\n\t\t * expireDate is saved on datepicker pick\n\t\t * or close.\n\t\t */\n\t\tonPasswordSubmit() {\n\t\t\tif (this.hasUnsavedPassword) {\n\t\t\t\tthis.share.password = this.share.newPassword.trim()\n\t\t\t\tthis.queueUpdate('password')\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Save potential changed data on menu close\n\t\t */\n\t\tonMenuClose() {\n\t\t\tthis.onPasswordSubmit()\n\t\t\tthis.onNoteSubmit()\n\t\t},\n\n\t\t/**\n\t\t * Cancel the share creation\n\t\t * Used in the pending popover\n\t\t */\n\t\tonCancel() {\n\t\t\t// this.share already exists at this point,\n\t\t\t// but is incomplete as not pushed to server\n\t\t\t// YET. We can safely delete the share :)\n\t\t\tthis.$emit('remove:share', this.share)\n\t\t},\n\n\t\teditPermissions() {\n\t\t\tthis.$store.commit('addFromInput', false)\n\t\t\tthis.$store.commit('addShare', this.share)\n\t\t\tthis.$store.commit('addCurrentTab', 'permissions')\n\t\t},\n\n\t\teditNotes() {\n\t\t\tthis.$store.commit('addFromInput', false)\n\t\t\tthis.$store.commit('addShare', this.share)\n\t\t\tthis.$store.commit('addCurrentTab', 'notes')\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.sharing-entry {\n\tdisplay: flex;\n\talign-items: center;\n\tmin-height: 44px;\n\t&__desc {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: space-between;\n\t\tpadding: 8px;\n\t\tline-height: 1.2em;\n\t\toverflow: hidden;\n\n\t\th5 {\n\t\t\ttext-overflow: ellipsis;\n\t\t\toverflow: hidden;\n\t\t\twhite-space: nowrap;\n\t\t}\n\t\tp {\n\t\t\tcolor: var(--color-text-maxcontrast);\n\t\t}\n\t}\n\n\t&:not(.sharing-entry--share) &__actions {\n\t\t.new-share-link {\n\t\t\tborder-top: 1px solid var(--color-border);\n\t\t}\n\t}\n\n\t::v-deep .avatar-link-share {\n\t\tbackground-color: var(--color-primary);\n\t}\n\n\t.sharing-entry__action--public-upload {\n\t\tborder-bottom: 1px solid var(--color-border);\n\t}\n\n\t&__loading {\n\t\twidth: 44px;\n\t\theight: 44px;\n\t\tmargin: 0;\n\t\tpadding: 14px;\n\t\tmargin-left: auto;\n\t}\n\n\t// put menus to the left\n\t// but only the first one\n\t.action-item {\n\t\tmargin-left: auto;\n\t\t~ .action-item,\n\t\t~ .sharing-entry__loading {\n\t\t\tmargin-left: 0;\n\t\t}\n\t}\n\n\t.icon-checkmark-color {\n\t\topacity: 1;\n\t}\n}\n\n.sharing-entry__desc {\n\toverflow: inherit !important;\n}\n\n#app {\n\tmin-width: 250px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingEntryLink.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingEntryLink.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingEntryLink.vue?vue&type=style&index=0&id=656b538e&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingEntryLink.vue?vue&type=style&index=0&id=656b538e&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./SharingEntryLink.vue?vue&type=template&id=656b538e&scoped=true&\"\nimport script from \"./SharingEntryLink.vue?vue&type=script&lang=js&\"\nexport * from \"./SharingEntryLink.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SharingEntryLink.vue?vue&type=style&index=0&id=656b538e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"656b538e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{class:_vm.isEmailShareType ? 'email-share-link sharing-entry sharing-entry__link' : 'link-share-link sharing-entry sharing-entry__link'},[_c('Avatar',{staticClass:\"sharing-entry__avatar\",attrs:{\"is-no-user\":true,\"icon-class\":_vm.isEmailShareType ? 'avatar-link-share icon-mail-white' : 'avatar-link-share icon-public-white'}}),_vm._v(\" \"),_c('div',{staticClass:\"sharing-entry__desc\"},[(!_vm.share.canEdit)?_c('div',[_c('h5',{attrs:{\"title\":_vm.title}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.title)+\"\\n\\t\\t\\t\")]),_vm._v(\" \"),(_vm.subtitle)?_c('p',[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.subtitle)+\"\\n\\t\\t\\t\")]):_vm._e()]):_vm._e(),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"app\"}},[(_vm.share)?[(_vm.share.canEdit)?[(_vm.isFolder && _vm.fileHasCreatePermission && _vm.config.isPublicUploadEnabled)?[_c('CustomSelect',{staticClass:\"select\",attrs:{\"title\":_vm.title,\"options\":_vm.getFolderOptions,\"default\":_vm.sharePermissions},on:{\"setSelectedOption\":function($event){return _vm.togglePermissions($event);}}})]:[_c('CustomSelect',{staticClass:\"select\",attrs:{\"title\":_vm.title,\"isDisable\":_vm.isAllowed,\"options\":_vm.getFileOptions,\"default\":_vm.sharePermissions},on:{\"setSelectedOption\":function($event){return _vm.togglePermissions($event);}}})]]:_vm._e()]:_vm._e()],2)]),_vm._v(\" \"),(_vm.share && !_vm.isEmailShareType && _vm.share.token)?_c('Actions',{ref:\"copyButton\",staticClass:\"sharing-entry__copy\"},[_c('ActionLink',{attrs:{\"href\":_vm.shareLink,\"target\":\"_blank\",\"icon\":_vm.copied && _vm.copySuccess ? 'icon-checkmark-color' : 'icon-clippy'},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.copyLink.apply(null, arguments)}}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.clipboardTooltip)+\"\\n\\t\\t\")])],1):_vm._e(),_vm._v(\" \"),(!_vm.pending && (_vm.pendingPassword || _vm.pendingExpirationDate))?_c('Actions',{staticClass:\"sharing-entry__actions\",attrs:{\"menu-align\":\"right\",\"open\":_vm.open},on:{\"update:open\":function($event){_vm.open=$event},\"close\":_vm.onNewLinkShare}},[(_vm.errors.pending)?_c('ActionText',{class:{ error: _vm.errors.pending},attrs:{\"icon\":\"icon-error\"}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.errors.pending)+\"\\n\\t\\t\")]):_c('ActionText',{attrs:{\"icon\":\"icon-info\"}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'Please enter the following required information before creating the share'))+\"\\n\\t\\t\")]),_vm._v(\" \"),(_vm.pendingPassword)?_c('ActionText',{attrs:{\"icon\":\"icon-password\"}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'Password protection (enforced)'))+\"\\n\\t\\t\")]):(_vm.config.enableLinkPasswordByDefault)?_c('ActionCheckbox',{staticClass:\"share-link-password-checkbox\",attrs:{\"checked\":_vm.isPasswordProtected,\"disabled\":_vm.config.enforcePasswordForPublicLink || _vm.saving},on:{\"update:checked\":function($event){_vm.isPasswordProtected=$event},\"uncheck\":_vm.onPasswordDisable}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'Password protection'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.pendingPassword || _vm.share.password)?_c('ActionInput',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.auto\",value:({\n\t\t\t\tcontent: _vm.errors.password,\n\t\t\t\tshow: _vm.errors.password,\n\t\t\t\ttrigger: 'manual',\n\t\t\t\tdefaultContainer: '#app-sidebar'\n\t\t\t}),expression:\"{\\n\\t\\t\\t\\tcontent: errors.password,\\n\\t\\t\\t\\tshow: errors.password,\\n\\t\\t\\t\\ttrigger: 'manual',\\n\\t\\t\\t\\tdefaultContainer: '#app-sidebar'\\n\\t\\t\\t}\",modifiers:{\"auto\":true}}],staticClass:\"share-link-password\",attrs:{\"value\":_vm.share.password,\"disabled\":_vm.saving,\"required\":_vm.config.enableLinkPasswordByDefault || _vm.config.enforcePasswordForPublicLink,\"minlength\":_vm.isPasswordPolicyEnabled && _vm.config.passwordPolicy.minLength,\"icon\":\"\",\"autocomplete\":\"new-password\"},on:{\"update:value\":function($event){return _vm.$set(_vm.share, \"password\", $event)},\"submit\":_vm.onNewLinkShare}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'Enter a password'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.pendingExpirationDate)?_c('ActionText',{attrs:{\"icon\":\"icon-calendar-dark\"}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'Expiration date (enforced)'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.pendingExpirationDate)?_c('ActionInput',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.auto\",value:({\n\t\t\t\tcontent: _vm.errors.expireDate,\n\t\t\t\tshow: _vm.errors.expireDate,\n\t\t\t\ttrigger: 'manual',\n\t\t\t\tdefaultContainer: '#app-sidebar'\n\t\t\t}),expression:\"{\\n\\t\\t\\t\\tcontent: errors.expireDate,\\n\\t\\t\\t\\tshow: errors.expireDate,\\n\\t\\t\\t\\ttrigger: 'manual',\\n\\t\\t\\t\\tdefaultContainer: '#app-sidebar'\\n\\t\\t\\t}\",modifiers:{\"auto\":true}}],staticClass:\"share-link-expire-date\",attrs:{\"disabled\":_vm.saving,\"first-day-of-week\":_vm.firstDay,\"lang\":_vm.lang,\"icon\":\"\",\"type\":\"date\",\"value-type\":\"format\",\"disabled-date\":_vm.disabledDate},model:{value:(_vm.share.expireDate),callback:function ($$v) {_vm.$set(_vm.share, \"expireDate\", $$v)},expression:\"share.expireDate\"}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'Enter a date'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),_c('ActionButton',{attrs:{\"icon\":\"icon-checkmark\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.onNewLinkShare.apply(null, arguments)}}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'Create share'))+\"\\n\\t\\t\")]),_vm._v(\" \"),_c('ActionButton',{attrs:{\"icon\":\"icon-close\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.onCancel.apply(null, arguments)}}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'Cancel'))+\"\\n\\t\\t\")])],1):(!_vm.loading)?_c('Actions',{staticClass:\"sharing-entry__actions\",attrs:{\"menu-align\":\"right\",\"open\":_vm.open},on:{\"update:open\":function($event){_vm.open=$event},\"close\":_vm.onMenuClose}},[(_vm.share)?[_vm._l((_vm.externalActions),function(ref,index){\n\t\t\tvar icon = ref.icon;\n\t\t\tvar url = ref.url;\n\t\t\tvar name = ref.name;\nreturn _c('ActionLink',{key:index,attrs:{\"href\":url(_vm.shareLink),\"icon\":icon,\"target\":\"_blank\"}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(name)+\"\\n\\t\\t\\t\")])}),_vm._v(\" \"),(_vm.share.canEdit)?_c('ActionButton',{attrs:{\"icon\":\"icon-settings\",\"disabled\":_vm.saving},on:{\"click\":function($event){$event.preventDefault();return _vm.editPermissions.apply(null, arguments)}}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'Advanced permission'))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.share.canEdit && _vm.isEmailShareType)?_c('ActionButton',{attrs:{\"icon\":\"icon-mail\",\"disabled\":_vm.saving},on:{\"click\":function($event){$event.preventDefault();return _vm.editNotes.apply(null, arguments)}}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'Send new mail'))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.share.canDelete)?_c('ActionButton',{attrs:{\"icon\":\"icon-close\",\"disabled\":_vm.saving},on:{\"click\":function($event){$event.preventDefault();return _vm.onDelete.apply(null, arguments)}}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'Unshare'))+\"\\n\\t\\t\\t\")]):_vm._e()]:(_vm.canReshare)?_c('ActionButton',{staticClass:\"new-share-link\",attrs:{\"icon\":_vm.loading ? 'icon-loading-small' : 'icon-add'},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.onNewLinkShare.apply(null, arguments)}}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'Create a new share link'))+\"\\n\\t\\t\")]):_vm._e()],2):_c('div',{staticClass:\"icon-loading-small sharing-entry__loading\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingLinkList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingLinkList.vue?vue&type=script&lang=js&\"","<!--\n  - @copyright Copyright (c) 2019 John Molakvoæ <skjnldsv@protonmail.com>\n  -\n  - @author John Molakvoæ <skjnldsv@protonmail.com>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<ul v-if=\"canLinkShare\" class=\"sharing-link-list\">\n\t\t<!-- If no link shares, show the add link default entry -->\n\t\t<!-- <SharingEntryLink v-if=\"!hasLinkShares && canReshare\"\n\t\t\t:can-reshare=\"canReshare\"\n\t\t\t:file-info=\"fileInfo\"\n\t\t\t@add:share=\"addShare\" /> -->\n\n\t\t<!-- Else we display the list -->\n\t\t<template v-if=\"hasShares\">\n\t\t\t<!-- using shares[index] to work with .sync -->\n\t\t\t<SharingEntryLink v-for=\"(share, index) in shares\"\n\t\t\t\t:key=\"share.id\"\n\t\t\t\t:can-reshare=\"canReshare\"\n\t\t\t\t:share.sync=\"shares[index]\"\n\t\t\t\t:file-info=\"fileInfo\"\n\t\t\t\t@add:share=\"addShare(...arguments)\"\n\t\t\t\t@update:share=\"awaitForShare(...arguments)\"\n\t\t\t\t@remove:share=\"removeShare\" />\n\t\t</template>\n\t</ul>\n</template>\n\n<script>\n// eslint-disable-next-line no-unused-vars\nimport Share from '../models/Share'\nimport ShareTypes from '../mixins/ShareTypes'\nimport SharingEntryLink from '../components/SharingEntryLink'\n\nexport default {\n\tname: 'SharingLinkList',\n\n\tcomponents: {\n\t\tSharingEntryLink,\n\t},\n\n\tmixins: [ShareTypes],\n\n\tprops: {\n\t\tfileInfo: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => {},\n\t\t\trequired: true,\n\t\t},\n\t\tshares: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => [],\n\t\t\trequired: true,\n\t\t},\n\t\tcanReshare: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true,\n\t\t},\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tcanLinkShare: OC.getCapabilities().files_sharing.public.enabled,\n\t\t}\n\t},\n\n\tcomputed: {\n\t\t/**\n\t\t * Do we have link shares?\n\t\t * Using this to still show the `new link share`\n\t\t * button regardless of mail shares\n\t\t *\n\t\t * @return {Array}\n\t\t */\n\t\thasLinkShares() {\n\t\t\treturn this.shares.filter(share => share.type === this.SHARE_TYPES.SHARE_TYPE_LINK).length > 0\n\t\t},\n\n\t\t/**\n\t\t * Do we have any link or email shares?\n\t\t *\n\t\t * @return {boolean}\n\t\t */\n\t\thasShares() {\n\t\t\treturn this.shares.length > 0\n\t\t},\n\t},\n\n\tmethods: {\n\t\t/**\n\t\t * Add a new share into the link shares list\n\t\t * and return the newly created share component\n\t\t *\n\t\t * @param {Share} share the share to add to the array\n\t\t * @param {Function} resolve a function to run after the share is added and its component initialized\n\t\t */\n\t\taddShare(share, resolve) {\n\t\t\t// eslint-disable-next-line vue/no-mutating-props\n\t\t\tthis.shares.unshift(share)\n\t\t\tthis.awaitForShare(share, resolve)\n\t\t},\n\n\t\t/**\n\t\t * Await for next tick and render after the list updated\n\t\t * Then resolve with the matched vue component of the\n\t\t * provided share object\n\t\t *\n\t\t * @param {Share} share newly created share\n\t\t * @param {Function} resolve a function to execute after\n\t\t */\n\t\tawaitForShare(share, resolve) {\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tconst newShare = this.$children.find(component => component.share === share)\n\t\t\t\tif (newShare) {\n\t\t\t\t\tresolve(newShare)\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\n\t\t/**\n\t\t * Remove a share from the shares list\n\t\t *\n\t\t * @param {Share} share the share to remove\n\t\t */\n\t\tremoveShare(share) {\n\t\t\tconst index = this.shares.findIndex(item => item === share)\n\t\t\t// eslint-disable-next-line vue/no-mutating-props\n\t\t\tthis.shares.splice(index, 1)\n\t\t},\n\t},\n}\n</script>\n","import { render, staticRenderFns } from \"./SharingLinkList.vue?vue&type=template&id=0241cf40&\"\nimport script from \"./SharingLinkList.vue?vue&type=script&lang=js&\"\nexport * from \"./SharingLinkList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.canLinkShare)?_c('ul',{staticClass:\"sharing-link-list\"},[(_vm.hasShares)?_vm._l((_vm.shares),function(share,index){return _c('SharingEntryLink',{key:share.id,attrs:{\"can-reshare\":_vm.canReshare,\"share\":_vm.shares[index],\"file-info\":_vm.fileInfo},on:{\"update:share\":[function($event){return _vm.$set(_vm.shares, index, $event)},function($event){return _vm.awaitForShare.apply(void 0, arguments)}],\"add:share\":function($event){return _vm.addShare.apply(void 0, arguments)},\"remove:share\":_vm.removeShare}})}):_vm._e()],2):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - @copyright Copyright (c) 2019 John Molakvoæ <skjnldsv@protonmail.com>\n  -\n  - @author John Molakvoæ <skjnldsv@protonmail.com>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<li class=\"sharing-entry\">\n\t\t<Avatar class=\"sharing-entry__avatar\"\n\t\t\t:is-no-user=\"share.type !== SHARE_TYPES.SHARE_TYPE_USER\"\n\t\t\t:user=\"share.shareWith\"\n\t\t\t:display-name=\"share.shareWithDisplayName\"\n\t\t\t:tooltip-message=\"share.type === SHARE_TYPES.SHARE_TYPE_USER ? share.shareWith : ''\"\n\t\t\t:menu-position=\"'left'\"\n\t\t\t:url=\"share.shareWithAvatar\" />\n\t\t<component :is=\"share.shareWithLink ? 'a' : 'div'\"\n\t\t\tv-tooltip.auto=\"tooltip\"\n\t\t\t:href=\"share.shareWithLink\"\n\t\t\tclass=\"sharing-entry__desc\">\n\t\t\t<div v-if=\"!share.canEdit\">\n\t\t\t<h5>{{ title }}<span v-if=\"!isUnique\" class=\"sharing-entry__desc-unique\"> ({{ share.shareWithDisplayNameUnique }})</span></h5>\n\t\t\t\t<p v-if=\"hasStatus\">\n\t\t\t\t\t<span>{{ share.status.icon || '' }}</span>\n\t\t\t\t\t<span>{{ share.status.message || '' }}</span>\n\t\t\t\t</p>\n\t\t\t</div>\n\n\t\t\t<div id=\"app\">\n\t\t\t\t<template v-if=\"share.canEdit\">\n\t\t\t\t\t<!-- folder -->\n\t\t\t\t\t<template v-if=\"isFolder && fileHasCreatePermission && config.isPublicUploadEnabled\">\n\t\t\t\t\t\t<CustomSelect\n\t\t\t\t\t\t\t:title=\"title\"\n\t\t\t\t\t\t\t:options=\"getFolderOptions\"\n\t\t\t\t\t\t\t:default=\"sharePermissions\"\n\t\t\t\t\t\t\t@setSelectedOption=\"togglePermissions($event);\"\n\t\t\t\t\t\t\tclass=\"select\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t<!-- files -->\n\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t<CustomSelect\n\t\t\t\t\t\t\t:title=\"title\"\n\t\t\t\t\t\t\t:options=\"getFileOptions\"\n\t\t\t\t\t\t\t:default=\"sharePermissions\"\n\t\t\t\t\t\t\t@setSelectedOption=\"togglePermissions($event);\"\n\t\t\t\t\t\t\tclass=\"select\" />\n\t\t\t\t\t</template>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t</component>\n\t\t<Actions v-if=\"open === false\"\n\t\t\tmenu-align=\"right\"\n\t\t\tclass=\"sharing-entry__actions\"\n\t\t\t@close=\"onMenuClose\">\n\t\t\t<ActionButton v-if=\"share.canEdit\"\n\t\t\t\ticon=\"icon-settings\"\n\t\t\t\t:disabled=\"saving || !canSetEdit\"\n\t\t\t\t:share=\"share\"\n\t\t\t\t@click.prevent=\"editPermissions\">\n\t\t\t\t{{ t('files_sharing', 'Advanced permission') }}\n\t\t\t</ActionButton>\n\t\t\t<ActionButton v-if=\"share.canEdit\"\n\t\t\t\ticon=\"icon-mail\"\n\t\t\t\t:disabled=\"saving || !canSetEdit\"\n\t\t\t\t:share=\"share\"\n\t\t\t\t@click.prevent=\"editNotes\">\n\t\t\t\t{{ t('files_sharing', 'Send new mail') }}\n\t\t\t</ActionButton>\n\t\t\t<ActionButton v-if=\"share.canDelete\"\n\t\t\t\ticon=\"icon-close\"\n\t\t\t\t:disabled=\"saving || !canSetEdit\"\n\t\t\t\t@click.prevent=\"onDelete\">\n\t\t\t\t{{ t('files_sharing', 'Unshare') }}\n\t\t\t</ActionButton>\n\t\t</Actions>\n\t</li>\n</template>\n\n<script>\nimport Avatar from '@nextcloud/vue/dist/Components/Avatar'\nimport Actions from '@nextcloud/vue/dist/Components/Actions'\nimport ActionButton from '@nextcloud/vue/dist/Components/ActionButton'\nimport ActionCheckbox from '@nextcloud/vue/dist/Components/ActionCheckbox'\nimport ActionInput from '@nextcloud/vue/dist/Components/ActionInput'\nimport ActionTextEditable from '@nextcloud/vue/dist/Components/ActionTextEditable'\nimport Tooltip from '@nextcloud/vue/dist/Directives/Tooltip'\n\nimport SharesMixin from '../mixins/SharesMixin'\nimport CustomSelect from './CustomSelect'\n\nexport default {\n\tname: 'SharingEntry',\n\n\tcomponents: {\n\t\tActions,\n\t\tActionButton,\n\t\tActionCheckbox,\n\t\tActionInput,\n\t\tActionTextEditable,\n\t\tAvatar,\n\t\tCustomSelect,\n\t},\n\n\tdirectives: {\n\t\tTooltip,\n\t},\n\n\tmixins: [SharesMixin],\n\n\tdata() {\n\t\treturn {\n\t\t\tpermissionsEdit: OC.PERMISSION_UPDATE,\n\t\t\tpermissionsCreate: OC.PERMISSION_CREATE,\n\t\t\tpermissionsDelete: OC.PERMISSION_DELETE,\n\t\t\tpermissionsRead: OC.PERMISSION_READ,\n\t\t\tpermissionsShare: OC.PERMISSION_SHARE,\n\n\t\t\tpublicUploadRWValue: OC.PERMISSION_UPDATE | OC.PERMISSION_CREATE | OC.PERMISSION_READ | OC.PERMISSION_DELETE,\n\t\t\tpublicUploadRValue: OC.PERMISSION_READ,\n\t\t\tpublicUploadWValue: OC.PERMISSION_CREATE,\n\t\t\tpublicUploadEValue: OC.PERMISSION_UPDATE | OC.PERMISSION_READ,\n\t\t}\n\t},\n\n\tcomputed: {\n\t\t/**\n\t\t * Return the current share permissions\n\t\t * We always ignore the SHARE permission as this is used for the\n\t\t * federated sharing.\n\t\t * @returns {number}\n\t\t */\n\t\tsharePermissions() {\n\t\t\treturn this.share.permissions & ~OC.PERMISSION_SHARE\n\t\t},\n\n\t\t/**\n\t\t * Generate a unique random id for this SharingEntry only\n\t\t * @returns {string}\n\t\t */\n\t\trandomId() {\n\t\t\treturn Math.random().toString(27).substr(2)\n\t\t},\n\n\t\ttitle() {\n\t\t\tlet title = this.share.shareWithDisplayName\n\t\t\tif (this.share.type === this.SHARE_TYPES.SHARE_TYPE_GROUP) {\n\t\t\t\ttitle += ` (${t('files_sharing', 'group')})`\n\t\t\t} else if (this.share.type === this.SHARE_TYPES.SHARE_TYPE_ROOM) {\n\t\t\t\ttitle += ` (${t('files_sharing', 'conversation')})`\n\t\t\t} else if (this.share.type === this.SHARE_TYPES.SHARE_TYPE_REMOTE) {\n\t\t\t\ttitle += ` (${t('files_sharing', 'remote')})`\n\t\t\t} else if (this.share.type === this.SHARE_TYPES.SHARE_TYPE_REMOTE_GROUP) {\n\t\t\t\ttitle += ` (${t('files_sharing', 'remote group')})`\n\t\t\t} else if (this.share.type === this.SHARE_TYPES.SHARE_TYPE_GUEST) {\n\t\t\t\ttitle += ` (${t('files_sharing', 'guest')})`\n\t\t\t}\n\t\t\treturn title\n\t\t},\n\n\t\ttooltip() {\n\t\t\tif (this.share.owner !== this.share.uidFileOwner) {\n\t\t\t\tconst data = {\n\t\t\t\t\t// todo: strong or italic?\n\t\t\t\t\t// but the t function escape any html from the data :/\n\t\t\t\t\tuser: this.share.shareWithDisplayName,\n\t\t\t\t\towner: this.share.ownerDisplayName,\n\t\t\t\t}\n\n\t\t\t\tif (this.share.type === this.SHARE_TYPES.SHARE_TYPE_GROUP) {\n\t\t\t\t\treturn t('files_sharing', 'Shared with the group {user} by {owner}', data)\n\t\t\t\t} else if (this.share.type === this.SHARE_TYPES.SHARE_TYPE_ROOM) {\n\t\t\t\t\treturn t('files_sharing', 'Shared with the conversation {user} by {owner}', data)\n\t\t\t\t}\n\n\t\t\t\treturn t('files_sharing', 'Shared with {user} by {owner}', data)\n\t\t\t}\n\t\t\treturn null\n\t\t},\n\n\t\tisRemote() {\n\t\t\treturn this.share.type === this.SHARE_TYPES.SHARE_TYPE_REMOTE\n\t\t\t\t|| this.share.type === this.SHARE_TYPES.SHARE_TYPE_REMOTE_GROUP\n\t\t},\n\n\t\t/**\n\t\t * Can the sharer set whether the sharee can edit the file ?\n\t\t *\n\t\t * @return {boolean}\n\t\t */\n\t\tcanSetEdit() {\n\t\t\t// If the owner revoked the permission after the resharer granted it\n\t\t\t// the share still has the permission, and the resharer is still\n\t\t\t// allowed to revoke it too (but not to grant it again).\n\t\t\treturn (this.fileInfo.sharePermissions & OC.PERMISSION_UPDATE) || this.canEdit\n\t\t},\n\n\t\t/**\n\t\t * Can the sharee edit the shared file ?\n\t\t */\n\t\tcanEdit: {\n\t\t\tget() {\n\t\t\t\treturn this.share.hasUpdatePermission\n\t\t\t},\n\t\t\tset(checked) {\n\t\t\t\tthis.updatePermissions({ isEditChecked: checked })\n\t\t\t},\n\t\t},\n\n\t\t/**\n\t\t * Can the sharee create the shared file ?\n\t\t */\n\t\tcanCreate: {\n\t\t\tget() {\n\t\t\t\treturn this.share.hasCreatePermission\n\t\t\t},\n\t\t\tset(checked) {\n\t\t\t\tthis.updatePermissions({ isCreateChecked: checked })\n\t\t\t},\n\t\t},\n\n\t\t/**\n\t\t * Can the sharee delete the shared file ?\n\t\t */\n\t\tcanDelete: {\n\t\t\tget() {\n\t\t\t\treturn this.share.hasDeletePermission\n\t\t\t},\n\t\t\tset(checked) {\n\t\t\t\tthis.updatePermissions({ isDeleteChecked: checked })\n\t\t\t},\n\t\t},\n\n\t\t/**\n\t\t * Can the sharee reshare the file ?\n\t\t */\n\t\tcanReshare: {\n\t\t\tget() {\n\t\t\t\treturn this.share.hasSharePermission\n\t\t\t},\n\t\t\tset(checked) {\n\t\t\t\tthis.updatePermissions({ isReshareChecked: checked })\n\t\t\t},\n\t\t},\n\n\t\t/**\n\t\t * Is this share readable\n\t\t * Needed for some federated shares that might have been added from file drop links\n\t\t */\n\t\thasRead: {\n\t\t\tget() {\n\t\t\t\treturn this.share.hasReadPermission\n\t\t\t},\n\t\t},\n\n\t\t/**\n\t\t * Does the current file/folder have create permissions\n\t\t * TODO: move to a proper FileInfo model?\n\t\t * @returns {boolean}\n\t\t */\n\t\tfileHasCreatePermission() {\n\t\t\treturn !!(this.fileInfo.permissions & OC.PERMISSION_CREATE)\n\t\t},\n\n\t\t/**\n\t\t * Is the current share a folder ?\n\t\t * @returns {boolean}\n\t\t */\n\t\tisFolder() {\n\t\t\treturn this.fileInfo.type === 'dir'\n\t\t},\n\n\t\t/**\n\t\t * @returns {boolean}\n\t\t */\n\t\thasStatus() {\n\t\t\tif (this.share.type !== this.SHARE_TYPES.SHARE_TYPE_USER) {\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\treturn (typeof this.share.status === 'object' && !Array.isArray(this.share.status))\n\t\t},\n\n\t\tgetFolderOptions() {\n\t\t\tconst options = {}\n\t\t\toptions[0] = { key: this.publicUploadRValue, value: t('files_sharing', 'Read only') }\n\t\t\toptions[1] = { key: this.publicUploadRWValue, value: t('files_sharing', 'Read, write and upload') }\n\n\t\t\treturn options\n\t\t},\n\n\t\tgetFileOptions() {\n\t\t\tconst options = {}\n\t\t\toptions[0] = { key: this.publicUploadRValue, value: t('files_sharing', 'Read only') }\n\t\t\toptions[1] = { key: this.publicUploadEValue, value: t('files_sharing', 'Read and write') }\n\n\t\t\treturn options\n\t\t},\n\t},\n\n\tmethods: {\n\t\tupdatePermissions({\n\t\t\tisEditChecked = this.canEdit,\n\t\t\tisCreateChecked = this.canCreate,\n\t\t\tisDeleteChecked = this.canDelete,\n\t\t\tisReshareChecked = this.canReshare,\n\t\t\tisDownloadChecked = this.canDownload,\n\t\t} = {}) {\n\t\t\t// calc permissions if checked\n\t\t\tconst permissions = 0\n\t\t\t\t| (this.hasRead ? this.permissionsRead : 0)\n\t\t\t\t| (isCreateChecked ? this.permissionsCreate : 0)\n\t\t\t\t| (isDeleteChecked ? this.permissionsDelete : 0)\n\t\t\t\t| (isEditChecked ? this.permissionsEdit : 0)\n\t\t\t\t| (isReshareChecked ? this.permissionsShare : 0)\n\n\t\t\tthis.share.permissions = permissions\n\t\t\tif (this.share.hasDownloadPermission !== isDownloadChecked) {\n\t\t\t\tthis.share.hasDownloadPermission = isDownloadChecked\n\t\t\t}\n\t\t\tthis.queueUpdate('permissions', 'attributes')\n\t\t},\n\n\t\ttogglePermissions(option) {\n\t\t\tconst permissions = parseInt(option, 10)\n\t\t\t| (this.canReshare ? this.permissionsShare : 0)\n\t\t\tthis.share.permissions = permissions\n\t\t\tthis.queueUpdate('permissions')\n\t\t},\n\n\t\t/**\n\t\t * Save potential changed data on menu close\n\t\t */\n\t\tonMenuClose() {\n\t\t\tthis.onNoteSubmit()\n\t\t},\n\n\t\teditPermissions() {\n\t\t\tthis.$store.commit('addFromInput', false)\n\t\t\tthis.$store.commit('addShare', this.share)\n\t\t\tthis.$store.commit('addCurrentTab', 'permissions')\n\t\t},\n\n\t\teditNotes() {\n\t\t\tthis.$store.commit('addFromInput', false)\n\t\t\tthis.$store.commit('addShare', this.share)\n\t\t\tthis.$store.commit('addCurrentTab', 'notes')\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.sharing-entry {\n\tdisplay: flex;\n\talign-items: center;\n\tmin-height: 44px;\n\t&__desc {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: space-between;\n\t\tpadding: 8px;\n\t\tline-height: 1.2em;\n\t\tp {\n\t\t\tcolor: var(--color-text-maxcontrast);\n\t\t}\n\t\t&-unique {\n\t\t\tcolor: var(--color-text-maxcontrast);\n\t\t}\n\t}\n\t&__actions {\n\t\tmargin-left: auto;\n\t}\n}\n\n.sharing-entry__desc {\n\toverflow: inherit !important;\n}\n\n#app {\n\tmin-width: 250px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingEntry.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingEntry.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingEntry.vue?vue&type=style&index=0&id=782ccb43&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingEntry.vue?vue&type=style&index=0&id=782ccb43&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./SharingEntry.vue?vue&type=template&id=782ccb43&scoped=true&\"\nimport script from \"./SharingEntry.vue?vue&type=script&lang=js&\"\nexport * from \"./SharingEntry.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SharingEntry.vue?vue&type=style&index=0&id=782ccb43&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"782ccb43\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"sharing-entry\"},[_c('Avatar',{staticClass:\"sharing-entry__avatar\",attrs:{\"is-no-user\":_vm.share.type !== _vm.SHARE_TYPES.SHARE_TYPE_USER,\"user\":_vm.share.shareWith,\"display-name\":_vm.share.shareWithDisplayName,\"tooltip-message\":_vm.share.type === _vm.SHARE_TYPES.SHARE_TYPE_USER ? _vm.share.shareWith : '',\"menu-position\":'left',\"url\":_vm.share.shareWithAvatar}}),_vm._v(\" \"),_c(_vm.share.shareWithLink ? 'a' : 'div',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.auto\",value:(_vm.tooltip),expression:\"tooltip\",modifiers:{\"auto\":true}}],tag:\"component\",staticClass:\"sharing-entry__desc\",attrs:{\"href\":_vm.share.shareWithLink}},[(!_vm.share.canEdit)?_c('div',[_c('h5',[_vm._v(_vm._s(_vm.title)),(!_vm.isUnique)?_c('span',{staticClass:\"sharing-entry__desc-unique\"},[_vm._v(\" (\"+_vm._s(_vm.share.shareWithDisplayNameUnique)+\")\")]):_vm._e()]),_vm._v(\" \"),(_vm.hasStatus)?_c('p',[_c('span',[_vm._v(_vm._s(_vm.share.status.icon || ''))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.share.status.message || ''))])]):_vm._e()]):_vm._e(),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"app\"}},[(_vm.share.canEdit)?[(_vm.isFolder && _vm.fileHasCreatePermission && _vm.config.isPublicUploadEnabled)?[_c('CustomSelect',{staticClass:\"select\",attrs:{\"title\":_vm.title,\"options\":_vm.getFolderOptions,\"default\":_vm.sharePermissions},on:{\"setSelectedOption\":function($event){return _vm.togglePermissions($event);}}})]:[_c('CustomSelect',{staticClass:\"select\",attrs:{\"title\":_vm.title,\"options\":_vm.getFileOptions,\"default\":_vm.sharePermissions},on:{\"setSelectedOption\":function($event){return _vm.togglePermissions($event);}}})]]:_vm._e()],2)]),_vm._v(\" \"),(_vm.open === false)?_c('Actions',{staticClass:\"sharing-entry__actions\",attrs:{\"menu-align\":\"right\"},on:{\"close\":_vm.onMenuClose}},[(_vm.share.canEdit)?_c('ActionButton',{attrs:{\"icon\":\"icon-settings\",\"disabled\":_vm.saving || !_vm.canSetEdit,\"share\":_vm.share},on:{\"click\":function($event){$event.preventDefault();return _vm.editPermissions.apply(null, arguments)}}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'Advanced permission'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.share.canEdit)?_c('ActionButton',{attrs:{\"icon\":\"icon-mail\",\"disabled\":_vm.saving || !_vm.canSetEdit,\"share\":_vm.share},on:{\"click\":function($event){$event.preventDefault();return _vm.editNotes.apply(null, arguments)}}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'Send new mail'))+\"\\n\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.share.canDelete)?_c('ActionButton',{attrs:{\"icon\":\"icon-close\",\"disabled\":_vm.saving || !_vm.canSetEdit},on:{\"click\":function($event){$event.preventDefault();return _vm.onDelete.apply(null, arguments)}}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'Unshare'))+\"\\n\\t\\t\")]):_vm._e()],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - @copyright Copyright (c) 2019 John Molakvoæ <skjnldsv@protonmail.com>\n  -\n  - @author John Molakvoæ <skjnldsv@protonmail.com>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<ul class=\"sharing-sharee-list\">\n\t\t<SharingEntry v-for=\"share in shares\"\n\t\t\t:key=\"share.id\"\n\t\t\t:file-info=\"fileInfo\"\n\t\t\t:share=\"share\"\n\t\t\t:is-unique=\"isUnique(share)\"\n\t\t\t@remove:share=\"removeShare\" />\n\t</ul>\n</template>\n\n<script>\n// eslint-disable-next-line no-unused-vars\nimport Share from '../models/Share'\nimport SharingEntry from '../components/SharingEntry'\nimport ShareTypes from '../mixins/ShareTypes'\n\nexport default {\n\tname: 'SharingList',\n\n\tcomponents: {\n\t\tSharingEntry,\n\t},\n\n\tmixins: [ShareTypes],\n\n\tprops: {\n\t\tfileInfo: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => {},\n\t\t\trequired: true,\n\t\t},\n\t\tshares: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => [],\n\t\t\trequired: true,\n\t\t},\n\t},\n\n\tcomputed: {\n\t\thasShares() {\n\t\t\treturn this.shares.length === 0\n\t\t},\n\t\tisUnique() {\n\t\t\treturn (share) => {\n\t\t\t\treturn [...this.shares].filter((item) => {\n\t\t\t\t\treturn share.type === this.SHARE_TYPES.SHARE_TYPE_USER && share.shareWithDisplayName === item.shareWithDisplayName\n\t\t\t\t}).length <= 1\n\t\t\t}\n\t\t},\n\t},\n\n\tmethods: {\n\t\t/**\n\t\t * Remove a share from the shares list\n\t\t *\n\t\t * @param {Share} share the share to remove\n\t\t */\n\t\tremoveShare(share) {\n\t\t\tconst index = this.shares.findIndex(item => item === share)\n\t\t\t// eslint-disable-next-line vue/no-mutating-props\n\t\t\tthis.shares.splice(index, 1)\n\t\t},\n\t},\n}\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SharingList.vue?vue&type=template&id=0b29d4c0&\"\nimport script from \"./SharingList.vue?vue&type=script&lang=js&\"\nexport * from \"./SharingList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"sharing-sharee-list\"},_vm._l((_vm.shares),function(share){return _c('SharingEntry',{key:share.id,attrs:{\"file-info\":_vm.fileInfo,\"share\":share,\"is-unique\":_vm.isUnique(share)},on:{\"remove:share\":_vm.removeShare}})}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n  - @copyright Copyright (c) 2019 John Molakvoæ <skjnldsv@protonmail.com>\n  -\n  - @author John Molakvoæ <skjnldsv@protonmail.com>\n  -\n  - @license GNU AGPL version 3 or any later version\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  -->\n\n<template>\n\t<div :class=\"{ 'icon-loading': loading }\">\n\t\t<!-- error message -->\n\t\t<div v-if=\"error\" class=\"emptycontent\" :class=\"{ emptyContentWithSections: sections.length > 0 }\">\n\t\t\t<div class=\"icon icon-error\" />\n\t\t\t<h2>{{ error }}</h2>\n\t\t</div>\n\n\t\t<!-- shares content -->\n\t\t<template v-else>\n\t\t\t<div v-if=\"currentTab == 'default'\">\n\t\t\t\t<!-- shared with me information -->\n\t\t\t\t<SharingEntrySimple v-if=\"isSharedWithMe\" v-bind=\"sharedWithMe\" class=\"sharing-entry__reshare\">\n\t\t\t\t\t<template #avatar>\n\t\t\t\t\t\t<Avatar :user=\"sharedWithMe.user\"\n\t\t\t\t\t\t\t:display-name=\"sharedWithMe.displayName\"\n\t\t\t\t\t\t\tclass=\"sharing-entry__avatar\"\n\t\t\t\t\t\t\ttooltip-message=\"\" />\n\t\t\t\t\t</template>\n\t\t\t\t</SharingEntrySimple>\n\n\t\t\t\t<p class=\"sharing-message\">\n\t\t\t\t\t<span v-if=\"!canReshare\">\n\t\t\t\t\t\t<!-- {{ t('files_sharing', 'Resharing is not allowed.' ) }} -->\n\t\t\t\t\t</span>\n\t\t\t\t\t<span v-else>\n\t\t\t\t\t\t<span v-if=\"isSharedWithMe\">\n\t\t\t\t\t\t\t{{ t('files_sharing', 'Resharing is allowed.' ) }}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t{{ t('files_sharing', 'You can create links or send shares by mail. If you invite MagentaCLOUD users, you have more opportunities for collaboration.') }}\n\t\t\t\t\t</span>\n\t\t\t\t</p>\n\n\t\t\t\t<!-- add new share input -->\n\t\t\t\t<SharingInput v-if=\"!loading\"\n\t\t\t\t\t:can-reshare=\"canReshare\"\n\t\t\t\t\t:file-info=\"fileInfo\"\n\t\t\t\t\t:link-shares=\"linkShares\"\n\t\t\t\t\t:reshare=\"reshare\"\n\t\t\t\t\t:shares=\"shares\"\n\t\t\t\t\t@add:share=\"addShare\" />\n\n\t\t\t\t\t<div v-if=\"canReshare\" class=\"your-shares\">\n\t\t\t\t\t\t{{ t('files_sharing', 'Your shares' ) }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<template v-if=\"!hasShares && !hasLinkShares && canReshare\">\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t{{ t('files_sharing', 'No shares created yet.' ) }}\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</template>\n\n\t\t\t\t<!-- link shares list -->\n\t\t\t\t<SharingLinkList v-if=\"!loading\"\n\t\t\t\t\tref=\"linkShareList\"\n\t\t\t\t\t:can-reshare=\"canReshare\"\n\t\t\t\t\t:file-info=\"fileInfo\"\n\t\t\t\t\t:shares=\"linkShares\" />\n\n\t\t\t\t<!-- other shares list -->\n\t\t\t\t<SharingList v-if=\"!loading\"\n\t\t\t\t\tref=\"shareList\"\n\t\t\t\t\t:shares=\"shares\"\n\t\t\t\t\t:file-info=\"fileInfo\" />\n\n\t\t\t\t<!-- inherited shares -->\n\t\t\t\t<SharingInherited v-if=\"canReshare && !loading\" :file-info=\"fileInfo\" />\n\n\t\t\t\t<!-- internal link copy -->\n\t\t\t\t<SharingEntryInternal :file-info=\"fileInfo\" />\n\n\t\t\t\t<!-- projects -->\n\t\t\t\t<CollectionList v-if=\"fileInfo\"\n\t\t\t\t\t:id=\"`${fileInfo.id}`\"\n\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t:name=\"fileInfo.name\" />\n\n\t\t\t\t<!-- additionnal entries, use it with cautious -->\n\t\t\t\t<div v-for=\"(section, index) in sections\"\n\t\t\t\t\t:ref=\"'section-' + index\"\n\t\t\t\t\t:key=\"index\"\n\t\t\t\t\tclass=\"sharingTab__additionalContent\">\n\t\t\t\t\t<component :is=\"section($refs['section-'+index], fileInfo)\" :file-info=\"fileInfo\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div v-if=\"currentTab == 'permissions'\">\n\t\t\t\t<!-- sharing permissions -->\n\t\t\t\t<SharingPermissions\n\t\t\t\t\t:share=\"share\"\n\t\t\t\t\t:file-info=\"fileInfo\" />\n\t\t\t</div>\n\t\t\t<div v-if=\"currentTab == 'notes'\">\n\t\t\t\t<!-- sharing notes -->\n\t\t\t\t<SharingNotes\n\t\t\t\t\t:share=\"share\"\n\t\t\t\t\t:file-info=\"fileInfo\" />\n\t\t\t</div>\n\t\t</template>\n\t</div>\n</template>\n\n<script>\nimport { CollectionList } from 'nextcloud-vue-collections'\nimport { generateOcsUrl } from '@nextcloud/router'\nimport Avatar from '@nextcloud/vue/dist/Components/Avatar'\nimport axios from '@nextcloud/axios'\n\nimport Config from '../services/ConfigService'\nimport { shareWithTitle } from '../utils/SharedWithMe'\nimport Share from '../models/Share'\nimport ShareTypes from '../mixins/ShareTypes'\nimport SharingEntryInternal from '../components/SharingEntryInternal'\nimport SharingEntrySimple from '../components/SharingEntrySimple'\nimport SharingInput from '../components/SharingInput'\nimport SharingPermissions from '../components/SharingPermissions'\nimport SharingNotes from '../components/SharingNotes'\n\nimport SharingInherited from './SharingInherited'\nimport SharingLinkList from './SharingLinkList'\nimport SharingList from './SharingList'\nimport { mapGetters } from 'vuex'\n\nexport default {\n\tname: 'SharingTab',\n\n\tcomponents: {\n\t\tAvatar,\n\t\tCollectionList,\n\t\tSharingEntryInternal,\n\t\tSharingEntrySimple,\n\t\tSharingInherited,\n\t\tSharingInput,\n\t\tSharingLinkList,\n\t\tSharingList,\n\t\tSharingPermissions,\n\t\tSharingNotes,\n\t},\n\n\tmixins: [ShareTypes],\n\n\tdata() {\n\t\treturn {\n\t\t\tconfig: new Config(),\n\n\t\t\terror: '',\n\t\t\texpirationInterval: null,\n\t\t\tloading: true,\n\n\t\t\tfileInfo: null,\n\n\t\t\t// reshare Share object\n\t\t\treshare: null,\n\t\t\tsharedWithMe: {},\n\t\t\tshares: [],\n\t\t\tlinkShares: [],\n\n\t\t\tsections: OCA.Sharing.ShareTabSections.getSections(),\n\t\t}\n\t},\n\n\tcomputed: {\n\t\t...mapGetters({\n\t\t\tcurrentTab: 'getCurrentTab',\n\t\t\tshare: 'getShare',\n\t\t}),\n\n\t\t/**\n\t\t * Is this share shared with me?\n\t\t *\n\t\t * @return {boolean}\n\t\t */\n\t\tisSharedWithMe() {\n\t\t\treturn Object.keys(this.sharedWithMe).length > 0\n\t\t},\n\n\t\tcanReshare() {\n\t\t\treturn !!(this.fileInfo.permissions & OC.PERMISSION_SHARE)\n\t\t\t\t|| !!(this.reshare && this.reshare.hasSharePermission && this.config.isResharingAllowed)\n\t\t},\n\n\t\thasShares() {\n\t\t\treturn this.shares.length > 0\n\t\t},\n\n\t\thasLinkShares() {\n\t\t\treturn this.linkShares.length > 0\n\t\t},\n\t},\n\n\tmounted() {\n\t\tthis.$root.$on('update', data => {\n\t\t\tthis.update(data)\n\t\t})\n\t},\n\n\tmethods: {\n\n\t\tisLinkShare() {\n\t\t\treturn this.SHARE_TYPES.SHARE_TYPE_LINK === this.shareType\n\t\t},\n\n\t\tisEmailShare() {\n\t\t\treturn this.SHARE_TYPES.SHARE_TYPE_EMAIL === this.shareType\n\t\t},\n\n/**\n\t\t * Update current fileInfo and fetch new data\n\t\t *\n\t\t * @param {object} fileInfo the current file FileInfo\n\t\t */\n\t\tasync update(fileInfo) {\n\t\t\tthis.fileInfo = fileInfo\n\t\t\tthis.resetState()\n\t\t\tthis.getShares()\n\t\t},\n\n\t\t/**\n\t\t * Get the existing shares infos\n\t\t */\n\t\tasync getShares() {\n\t\t\ttry {\n\t\t\t\tthis.loading = true\n\n\t\t\t\t// init params\n\t\t\t\tconst shareUrl = generateOcsUrl('apps/files_sharing/api/v1/shares')\n\t\t\t\tconst format = 'json'\n\t\t\t\t// TODO: replace with proper getFUllpath implementation of our own FileInfo model\n\t\t\t\tconst path = (this.fileInfo.path + '/' + this.fileInfo.name).replace('//', '/')\n\n\t\t\t\t// fetch shares\n\t\t\t\tconst fetchShares = axios.get(shareUrl, {\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tformat,\n\t\t\t\t\t\tpath,\n\t\t\t\t\t\treshares: true,\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t\tconst fetchSharedWithMe = axios.get(shareUrl, {\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tformat,\n\t\t\t\t\t\tpath,\n\t\t\t\t\t\tshared_with_me: true,\n\t\t\t\t\t},\n\t\t\t\t})\n\n\t\t\t\t// wait for data\n\t\t\t\tconst [shares, sharedWithMe] = await Promise.all([fetchShares, fetchSharedWithMe])\n\t\t\t\tthis.loading = false\n\n\t\t\t\t// process results\n\t\t\t\tthis.processSharedWithMe(sharedWithMe)\n\t\t\t\tthis.processShares(shares)\n\t\t\t} catch (error) {\n\t\t\t\tif (error.response.data?.ocs?.meta?.message) {\n\t\t\t\t\tthis.error = error.response.data.ocs.meta.message\n\t\t\t\t} else {\n\t\t\t\t\tthis.error = t('files_sharing', 'Unable to load the shares list')\n\t\t\t\t}\n\t\t\t\tthis.loading = false\n\t\t\t\tconsole.error('Error loading the shares list', error)\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Reset the current view to its default state\n\t\t */\n\t\tresetState() {\n\t\t\tclearInterval(this.expirationInterval)\n\t\t\tthis.loading = true\n\t\t\tthis.error = ''\n\t\t\tthis.sharedWithMe = {}\n\t\t\tthis.shares = []\n\t\t\tthis.linkShares = []\n\t\t},\n\n\t\t/**\n\t\t * Update sharedWithMe.subtitle with the appropriate\n\t\t * expiration time left\n\t\t *\n\t\t * @param {Share} share the sharedWith Share object\n\t\t */\n\t\tupdateExpirationSubtitle(share) {\n\t\t\tconst expiration = moment(share.expireDate).unix()\n\t\t\tthis.$set(this.sharedWithMe, 'subtitle', t('files_sharing', 'Expires {relativetime}', {\n\t\t\t\trelativetime: OC.Util.relativeModifiedDate(expiration * 1000),\n\t\t\t}))\n\n\t\t\t// share have expired\n\t\t\tif (moment().unix() > expiration) {\n\t\t\t\tclearInterval(this.expirationInterval)\n\t\t\t\t// TODO: clear ui if share is expired\n\t\t\t\tthis.$set(this.sharedWithMe, 'subtitle', t('files_sharing', 'this share just expired.'))\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Process the current shares data\n\t\t * and init shares[]\n\t\t *\n\t\t * @param {object} share the share ocs api request data\n\t\t * @param {object} share.data the request data\n\t\t */\n\t\tprocessShares({ data }) {\n\t\t\tif (data.ocs && data.ocs.data && data.ocs.data.length > 0) {\n\t\t\t\t// create Share objects and sort by newest\n\t\t\t\tconst shares = data.ocs.data\n\t\t\t\t\t.map(share => new Share(share))\n\t\t\t\t\t.sort((a, b) => b.createdTime - a.createdTime)\n\n\t\t\t\tthis.linkShares = shares.filter(share => share.type === this.SHARE_TYPES.SHARE_TYPE_LINK || share.type === this.SHARE_TYPES.SHARE_TYPE_EMAIL)\n\t\t\t\tthis.shares = shares.filter(share => share.type !== this.SHARE_TYPES.SHARE_TYPE_LINK && share.type !== this.SHARE_TYPES.SHARE_TYPE_EMAIL)\n\n\t\t\t\tconsole.debug('Processed', this.linkShares.length, 'link share(s)')\n\t\t\t\tconsole.debug('Processed', this.shares.length, 'share(s)')\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Process the sharedWithMe share data\n\t\t * and init sharedWithMe\n\t\t *\n\t\t * @param {object} share the share ocs api request data\n\t\t * @param {object} share.data the request data\n\t\t */\n\t\tprocessSharedWithMe({ data }) {\n\t\t\tif (data.ocs && data.ocs.data && data.ocs.data[0]) {\n\t\t\t\tconst share = new Share(data)\n\t\t\t\tconst title = shareWithTitle(share)\n\t\t\t\tconst displayName = share.ownerDisplayName\n\t\t\t\tconst user = share.owner\n\n\t\t\t\tthis.sharedWithMe = {\n\t\t\t\t\tdisplayName,\n\t\t\t\t\ttitle,\n\t\t\t\t\tuser,\n\t\t\t\t}\n\t\t\t\tthis.reshare = share\n\n\t\t\t\t// If we have an expiration date, use it as subtitle\n\t\t\t\t// Refresh the status every 10s and clear if expired\n\t\t\t\tif (share.expireDate && moment(share.expireDate).unix() > moment().unix()) {\n\t\t\t\t\t// first update\n\t\t\t\t\tthis.updateExpirationSubtitle(share)\n\t\t\t\t\t// interval update\n\t\t\t\t\tthis.expirationInterval = setInterval(this.updateExpirationSubtitle, 10000, share)\n\t\t\t\t}\n\t\t\t} else if (this.fileInfo && this.fileInfo.shareOwnerId !== undefined ? this.fileInfo.shareOwnerId !== OC.currentUser : false) {\n\t\t\t\t// Fallback to compare owner and current user.\n\t\t\t\tthis.sharedWithMe = {\n\t\t\t\t\tdisplayName: this.fileInfo.shareOwner,\n\t\t\t\t\ttitle: t(\n\t\t\t\t\t\t'files_sharing',\n\t\t\t\t\t\t'Shared with you by {owner}',\n\t\t\t\t\t\t{ owner: this.fileInfo.shareOwner },\n\t\t\t\t\t\tundefined,\n\t\t\t\t\t\t{ escape: false }\n\t\t\t\t\t),\n\t\t\t\t\tuser: this.fileInfo.shareOwnerId,\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Add a new share into the shares list\n\t\t * and return the newly created share component\n\t\t *\n\t\t * @param {Share} share the share to add to the array\n\t\t * @param {Function} [resolve] a function to run after the share is added and its component initialized\n\t\t */\n\t\taddShare(share, resolve = () => {}) {\n\t\t\t// only catching share type MAIL as link shares are added differently\n\t\t\t// meaning: not from the ShareInput\n\t\t\tif (share.type === this.SHARE_TYPES.SHARE_TYPE_EMAIL) {\n\t\t\t\tthis.linkShares.unshift(share)\n\t\t\t} else {\n\t\t\t\tthis.shares.unshift(share)\n\t\t\t}\n\t\t\tthis.awaitForShare(share, resolve)\n\t\t},\n\n\t\t/**\n\t\t * Await for next tick and render after the list updated\n\t\t * Then resolve with the matched vue component of the\n\t\t * provided share object\n\t\t *\n\t\t * @param {Share} share newly created share\n\t\t * @param {Function} resolve a function to execute after\n\t\t */\n\t\tawaitForShare(share, resolve) {\n\t\t\tlet listComponent = this.$refs.shareList\n\t\t\t// Only mail shares comes from the input, link shares\n\t\t\t// are managed internally in the SharingLinkList component\n\t\t\tif (share.type === this.SHARE_TYPES.SHARE_TYPE_EMAIL) {\n\t\t\t\tlistComponent = this.$refs.linkShareList\n\t\t\t}\n\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tconst newShare = listComponent.$children.find(component => component.share === share)\n\t\t\t\tif (newShare) {\n\t\t\t\t\tresolve(newShare)\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t},\n}\n</script>\n\n<style scoped lang=\"scss\">\n.emptyContentWithSections {\n\tmargin: 1rem auto;\n}\n.your-shares {\n\tfont-weight: bold;\n}\n</style>\n","/**\n * @copyright Copyright (c) 2019 John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @author Joas Schilling <coding@schilljs.com>\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport { Type as ShareTypes } from '@nextcloud/sharing'\n\nconst shareWithTitle = function(share) {\n\tif (share.type === ShareTypes.SHARE_TYPE_GROUP) {\n\t\treturn t(\n\t\t\t'files_sharing',\n\t\t\t'Shared with you and the group {group} by {owner}',\n\t\t\t{\n\t\t\t\tgroup: share.shareWithDisplayName,\n\t\t\t\towner: share.ownerDisplayName,\n\t\t\t},\n\t\t\tundefined,\n\t\t\t{ escape: false }\n\t\t)\n\t} else if (share.type === ShareTypes.SHARE_TYPE_CIRCLE) {\n\t\treturn t(\n\t\t\t'files_sharing',\n\t\t\t'Shared with you and {circle} by {owner}',\n\t\t\t{\n\t\t\t\tcircle: share.shareWithDisplayName,\n\t\t\t\towner: share.ownerDisplayName,\n\t\t\t},\n\t\t\tundefined,\n\t\t\t{ escape: false }\n\t\t)\n\t} else if (share.type === ShareTypes.SHARE_TYPE_ROOM) {\n\t\tif (share.shareWithDisplayName) {\n\t\t\treturn t(\n\t\t\t\t'files_sharing',\n\t\t\t\t'Shared with you and the conversation {conversation} by {owner}',\n\t\t\t\t{\n\t\t\t\t\tconversation: share.shareWithDisplayName,\n\t\t\t\t\towner: share.ownerDisplayName,\n\t\t\t\t},\n\t\t\t\tundefined,\n\t\t\t\t{ escape: false }\n\t\t\t)\n\t\t} else {\n\t\t\treturn t(\n\t\t\t\t'files_sharing',\n\t\t\t\t'Shared with you in a conversation by {owner}',\n\t\t\t\t{\n\t\t\t\t\towner: share.ownerDisplayName,\n\t\t\t\t},\n\t\t\t\tundefined,\n\t\t\t\t{ escape: false }\n\t\t\t)\n\t\t}\n\t} else {\n\t\treturn t(\n\t\t\t'files_sharing',\n\t\t\t'Shared with you by {owner}',\n\t\t\t{ owner: share.ownerDisplayName },\n\t\t\tundefined,\n\t\t\t{ escape: false }\n\t\t)\n\t}\n}\n\nexport { shareWithTitle }\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingTab.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingTab.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingTab.vue?vue&type=style&index=0&id=500974a6&scoped=true&lang=scss&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/sass-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SharingTab.vue?vue&type=style&index=0&id=500974a6&scoped=true&lang=scss&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./SharingTab.vue?vue&type=template&id=500974a6&scoped=true&\"\nimport script from \"./SharingTab.vue?vue&type=script&lang=js&\"\nexport * from \"./SharingTab.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SharingTab.vue?vue&type=style&index=0&id=500974a6&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"500974a6\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{ 'icon-loading': _vm.loading }},[(_vm.error)?_c('div',{staticClass:\"emptycontent\",class:{ emptyContentWithSections: _vm.sections.length > 0 }},[_c('div',{staticClass:\"icon icon-error\"}),_vm._v(\" \"),_c('h2',[_vm._v(_vm._s(_vm.error))])]):[(_vm.currentTab == 'default')?_c('div',[(_vm.isSharedWithMe)?_c('SharingEntrySimple',_vm._b({staticClass:\"sharing-entry__reshare\",scopedSlots:_vm._u([{key:\"avatar\",fn:function(){return [_c('Avatar',{staticClass:\"sharing-entry__avatar\",attrs:{\"user\":_vm.sharedWithMe.user,\"display-name\":_vm.sharedWithMe.displayName,\"tooltip-message\":\"\"}})]},proxy:true}],null,false,1643724538)},'SharingEntrySimple',_vm.sharedWithMe,false)):_vm._e(),_vm._v(\" \"),_c('p',{staticClass:\"sharing-message\"},[(!_vm.canReshare)?_c('span'):_c('span',[(_vm.isSharedWithMe)?_c('span',[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'Resharing is allowed.' ))+\"\\n\\t\\t\\t\\t\\t\")]):_vm._e(),_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'You can create links or send shares by mail. If you invite MagentaCLOUD users, you have more opportunities for collaboration.'))+\"\\n\\t\\t\\t\\t\")])]),_vm._v(\" \"),(!_vm.loading)?_c('SharingInput',{attrs:{\"can-reshare\":_vm.canReshare,\"file-info\":_vm.fileInfo,\"link-shares\":_vm.linkShares,\"reshare\":_vm.reshare,\"shares\":_vm.shares},on:{\"add:share\":_vm.addShare}}):_vm._e(),_vm._v(\" \"),(_vm.canReshare)?_c('div',{staticClass:\"your-shares\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'Your shares' ))+\"\\n\\t\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(!_vm.hasShares && !_vm.hasLinkShares && _vm.canReshare)?[_c('label',[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('files_sharing', 'No shares created yet.' ))+\"\\n\\t\\t\\t\\t\\t\")])]:_vm._e(),_vm._v(\" \"),(!_vm.loading)?_c('SharingLinkList',{ref:\"linkShareList\",attrs:{\"can-reshare\":_vm.canReshare,\"file-info\":_vm.fileInfo,\"shares\":_vm.linkShares}}):_vm._e(),_vm._v(\" \"),(!_vm.loading)?_c('SharingList',{ref:\"shareList\",attrs:{\"shares\":_vm.shares,\"file-info\":_vm.fileInfo}}):_vm._e(),_vm._v(\" \"),(_vm.canReshare && !_vm.loading)?_c('SharingInherited',{attrs:{\"file-info\":_vm.fileInfo}}):_vm._e(),_vm._v(\" \"),_c('SharingEntryInternal',{attrs:{\"file-info\":_vm.fileInfo}}),_vm._v(\" \"),(_vm.fileInfo)?_c('CollectionList',{attrs:{\"id\":(\"\" + (_vm.fileInfo.id)),\"type\":\"file\",\"name\":_vm.fileInfo.name}}):_vm._e(),_vm._v(\" \"),_vm._l((_vm.sections),function(section,index){return _c('div',{key:index,ref:'section-' + index,refInFor:true,staticClass:\"sharingTab__additionalContent\"},[_c(section(_vm.$refs['section-'+index], _vm.fileInfo),{tag:\"component\",attrs:{\"file-info\":_vm.fileInfo}})],1)})],2):_vm._e(),_vm._v(\" \"),(_vm.currentTab == 'permissions')?_c('div',[_c('SharingPermissions',{attrs:{\"share\":_vm.share,\"file-info\":_vm.fileInfo}})],1):_vm._e(),_vm._v(\" \"),(_vm.currentTab == 'notes')?_c('div',[_c('SharingNotes',{attrs:{\"share\":_vm.share,\"file-info\":_vm.fileInfo}})],1):_vm._e()]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * @copyright Copyright (c) 2019 John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nexport default class ShareSearch {\n\n\t_state\n\n\tconstructor() {\n\t\t// init empty state\n\t\tthis._state = {}\n\n\t\t// init default values\n\t\tthis._state.results = []\n\t\tconsole.debug('OCA.Sharing.ShareSearch initialized')\n\t}\n\n\t/**\n\t * Get the state\n\t *\n\t * @readonly\n\t * @memberof ShareSearch\n\t * @return {object} the data state\n\t */\n\tget state() {\n\t\treturn this._state\n\t}\n\n\t/**\n\t * Register a new result\n\t * Mostly used by the guests app.\n\t * We should consider deprecation and add results via php ?\n\t *\n\t * @param {object} result entry to append\n\t * @param {string} [result.user] entry user\n\t * @param {string} result.displayName entry first line\n\t * @param {string} [result.desc] entry second line\n\t * @param {string} [result.icon] entry icon\n\t * @param {Function} result.handler function to run on entry selection\n\t * @param {Function} [result.condition] condition to add entry or not\n\t * @return {boolean}\n\t */\n\taddNewResult(result) {\n\t\tif (result.displayName.trim() !== ''\n\t\t\t&& typeof result.handler === 'function') {\n\t\t\tthis._state.results.push(result)\n\t\t\treturn true\n\t\t}\n\t\tconsole.error('Invalid search result provided', result)\n\t\treturn false\n\t}\n\n}\n","/**\n * @copyright Copyright (c) 2019 John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nexport default class ExternalLinkActions {\n\n\t_state\n\n\tconstructor() {\n\t\t// init empty state\n\t\tthis._state = {}\n\n\t\t// init default values\n\t\tthis._state.actions = []\n\t\tconsole.debug('OCA.Sharing.ExternalLinkActions initialized')\n\t}\n\n\t/**\n\t * Get the state\n\t *\n\t * @readonly\n\t * @memberof ExternalLinkActions\n\t * @return {object} the data state\n\t */\n\tget state() {\n\t\treturn this._state\n\t}\n\n\t/**\n\t * Register a new action for the link share\n\t * Mostly used by the social sharing app.\n\t *\n\t * @param {object} action new action component to register\n\t * @return {boolean}\n\t */\n\tregisterAction(action) {\n\t\tconsole.warn('OCA.Sharing.ExternalLinkActions is deprecated, use OCA.Sharing.ExternalShareAction instead')\n\n\t\tif (typeof action === 'object' && action.icon && action.name && action.url) {\n\t\t\tthis._state.actions.push(action)\n\t\t\treturn true\n\t\t}\n\t\tconsole.error('Invalid action provided', action)\n\t\treturn false\n\t}\n\n}\n","/**\n * @copyright Copyright (c) 2019 John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nexport default class ExternalShareActions {\n\n\t_state\n\n\tconstructor() {\n\t\t// init empty state\n\t\tthis._state = {}\n\n\t\t// init default values\n\t\tthis._state.actions = []\n\t\tconsole.debug('OCA.Sharing.ExternalShareActions initialized')\n\t}\n\n\t/**\n\t * Get the state\n\t *\n\t * @readonly\n\t * @memberof ExternalLinkActions\n\t * @return {object} the data state\n\t */\n\tget state() {\n\t\treturn this._state\n\t}\n\n\t/**\n\t * Register a new option/entry for the a given share type\n\t *\n\t * @param {object} action new action component to register\n\t * @param {string} action.id unique action id\n\t * @param {Function} action.data data to bind the component to\n\t * @param {Array} action.shareType list of \\@nextcloud/sharing.Types.SHARE_XXX to be mounted on\n\t * @param {object} action.handlers list of listeners\n\t * @return {boolean}\n\t */\n\tregisterAction(action) {\n\t\t// Validate action\n\t\tif (typeof action !== 'object'\n\t\t\t|| typeof action.id !== 'string'\n\t\t\t|| typeof action.data !== 'function' // () => {disabled: true}\n\t\t\t|| !Array.isArray(action.shareType) // [\\@nextcloud/sharing.Types.SHARE_TYPE_LINK, ...]\n\t\t\t|| typeof action.handlers !== 'object' // {click: () => {}, ...}\n\t\t\t|| !Object.values(action.handlers).every(handler => typeof handler === 'function')) {\n\t\t\tconsole.error('Invalid action provided', action)\n\t\t\treturn false\n\t\t}\n\n\t\t// Check duplicates\n\t\tconst hasDuplicate = this._state.actions.findIndex(check => check.id === action.id) > -1\n\t\tif (hasDuplicate) {\n\t\t\tconsole.error(`An action with the same id ${action.id} already exists`, action)\n\t\t\treturn false\n\t\t}\n\n\t\tthis._state.actions.push(action)\n\t\treturn true\n\t}\n\n}\n","/**\n * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\n *\n * @author Julius Härtl <jus@bitgrid.net>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nexport default class TabSections {\n\n\t_sections\n\n\tconstructor() {\n\t\tthis._sections = []\n\t}\n\n\t/**\n\t * @param {registerSectionCallback} section To be called to mount the section to the sharing sidebar\n\t */\n\tregisterSection(section) {\n\t\tthis._sections.push(section)\n\t}\n\n\tgetSections() {\n\t\treturn this._sections\n\t}\n\n}\n","/**\n * @copyright Copyright (c) 2021 Yogesh Shejwadkar <yogesh.shejwadkar@t-systems.com>\n *\n * @license GNU AGPL version 3 or any later version\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport Vue from 'vue'\nimport Vuex from 'vuex'\nimport Share from './models/Share'\n\nVue.use(Vuex)\n\nconst store = new Vuex.Store({\n\tstate: {\n\t\tshare: {\n\t\t\ttype: Share,\n\t\t\tdefault: null,\n\t\t},\n\t\toption: {},\n\t\tfromInput: Boolean,\n\t\tcurrentTab: 'default',\n\t},\n\tmutations: {\n\t\taddShare(state, share) {\n\t\t\tstate.share = share\n\t\t\tconsole.debug('this is addShare mutation', share)\n\t\t},\n\t\taddOption(state, option) {\n\t\t\tstate.option = option\n\t\t\tconsole.debug('this is addOptions mutation', option)\n\t\t},\n\t\taddFromInput(state, fromInput) {\n\t\t\tstate.fromInput = fromInput\n\t\t\tconsole.debug('this is addFromInput mutation', fromInput)\n\t\t},\n\t\taddCurrentTab(state, currentTab) {\n\t\t\tstate.currentTab = currentTab\n\t\t\tconsole.debug('this is addCurrentTab mutation', currentTab)\n\t\t},\n\t},\n\tactions: {\n\n\t},\n\tgetters: {\n\t\tgetShare(state) {\n\t\t\tconsole.debug('this is getter getShare', state.share)\n\t\t\treturn state.share\n\t\t},\n\t\tgetOption(state) {\n\t\t\tconsole.debug('this is getter getOption', state.option)\n\t\t\treturn state.option\n\t\t},\n\t\tgetFromInput(state) {\n\t\t\tconsole.debug('this is getter getFromInput', state.fromInput)\n\t\t\treturn state.fromInput\n\t\t},\n\t\tgetCurrentTab(state) {\n\t\t\tconsole.debug('this is getter getCurrentTab', state.currentTab)\n\t\t\treturn state.currentTab\n\t\t},\n\t},\n})\n\nexport default store\n","/**\n * @copyright Copyright (c) 2019 John Molakvoæ <skjnldsv@protonmail.com>\n *\n * @author John Molakvoæ <skjnldsv@protonmail.com>\n * @author Julius Härtl <jus@bitgrid.net>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\nimport Vue from 'vue'\nimport VueClipboard from 'vue-clipboard2'\nimport { translate as t, translatePlural as n } from '@nextcloud/l10n'\n\nimport SharingTab from './views/SharingTab'\nimport ShareSearch from './services/ShareSearch'\nimport ExternalLinkActions from './services/ExternalLinkActions'\nimport ExternalShareActions from './services/ExternalShareActions'\nimport TabSections from './services/TabSections'\nimport store from './store'\n\n// Init Sharing Tab Service\nif (!window.OCA.Sharing) {\n\twindow.OCA.Sharing = {}\n}\nObject.assign(window.OCA.Sharing, { ShareSearch: new ShareSearch() })\nObject.assign(window.OCA.Sharing, { ExternalLinkActions: new ExternalLinkActions() })\nObject.assign(window.OCA.Sharing, { ExternalShareActions: new ExternalShareActions() })\nObject.assign(window.OCA.Sharing, { ShareTabSections: new TabSections() })\n\nVue.prototype.t = t\nVue.prototype.n = n\nVue.use(VueClipboard)\n\n// Init Sharing tab component\nconst View = Vue.extend(SharingTab)\nlet TabInstance = null\n\nwindow.addEventListener('DOMContentLoaded', function() {\n\tif (OCA.Files && OCA.Files.Sidebar) {\n\t\tOCA.Files.Sidebar.registerTab(new OCA.Files.Sidebar.Tab({\n\t\t\tid: 'sharing',\n\t\t\tname: t('files_sharing', 'Sharing'),\n\t\t\ticon: 'icon-share',\n\n\t\t\tasync mount(el, fileInfo, context) {\n\t\t\t\tif (TabInstance) {\n\t\t\t\t\tTabInstance.$destroy()\n\t\t\t\t}\n\t\t\t\tTabInstance = new View({\n\t\t\t\t\t// Better integration with vue parent component\n\t\t\t\t\tparent: context,\n\t\t\t\t\tstore,\n\t\t\t\t})\n\t\t\t\t// Only mount after we have all the info we need\n\t\t\t\tawait TabInstance.update(fileInfo)\n\t\t\t\tTabInstance.$mount(el)\n\n\t\t\t\tOCA.Files.Sidebar.setActiveTab('sharing')\n\t\t\t},\n\t\t\tupdate(fileInfo) {\n\t\t\t\tTabInstance.update(fileInfo)\n\t\t\t\tstore.commit('addCurrentTab', 'default')\n\t\t\t},\n\t\t\tdestroy() {\n\t\t\t\tTabInstance.$destroy()\n\t\t\t\tstore.commit('addCurrentTab', 'default')\n\t\t\t\tTabInstance = null\n\t\t\t},\n\t\t}))\n\t}\n})\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".sharing-entry[data-v-782ccb43]{display:flex;align-items:center;min-height:44px}.sharing-entry__desc[data-v-782ccb43]{display:flex;flex-direction:column;justify-content:space-between;padding:8px;line-height:1.2em}.sharing-entry__desc p[data-v-782ccb43]{color:var(--color-text-maxcontrast)}.sharing-entry__desc-unique[data-v-782ccb43]{color:var(--color-text-maxcontrast)}.sharing-entry__actions[data-v-782ccb43]{margin-left:auto}.sharing-entry__desc[data-v-782ccb43]{overflow:inherit !important}#app[data-v-782ccb43]{min-width:250px}\", \"\",{\"version\":3,\"sources\":[\"webpack://./apps/files_sharing/src/components/SharingEntry.vue\"],\"names\":[],\"mappings\":\"AAgXA,gCACC,YAAA,CACA,kBAAA,CACA,eAAA,CACA,sCACC,YAAA,CACA,qBAAA,CACA,6BAAA,CACA,WAAA,CACA,iBAAA,CACA,wCACC,mCAAA,CAED,6CACC,mCAAA,CAGF,yCACC,gBAAA,CAIF,sCACC,2BAAA,CAGD,sBACC,eAAA\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n.sharing-entry {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tmin-height: 44px;\\n\\t&__desc {\\n\\t\\tdisplay: flex;\\n\\t\\tflex-direction: column;\\n\\t\\tjustify-content: space-between;\\n\\t\\tpadding: 8px;\\n\\t\\tline-height: 1.2em;\\n\\t\\tp {\\n\\t\\t\\tcolor: var(--color-text-maxcontrast);\\n\\t\\t}\\n\\t\\t&-unique {\\n\\t\\t\\tcolor: var(--color-text-maxcontrast);\\n\\t\\t}\\n\\t}\\n\\t&__actions {\\n\\t\\tmargin-left: auto;\\n\\t}\\n}\\n\\n.sharing-entry__desc {\\n\\toverflow: inherit !important;\\n}\\n\\n#app {\\n\\tmin-width: 250px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".sharing-entry[data-v-29845767]{display:flex;align-items:center;height:44px}.sharing-entry__desc[data-v-29845767]{display:flex;flex-direction:column;justify-content:space-between;padding:8px;line-height:1.2em}.sharing-entry__desc p[data-v-29845767]{color:var(--color-text-maxcontrast)}.sharing-entry__actions[data-v-29845767]{margin-left:auto}\", \"\",{\"version\":3,\"sources\":[\"webpack://./apps/files_sharing/src/components/SharingEntryInherited.vue\"],\"names\":[],\"mappings\":\"AAgGA,gCACC,YAAA,CACA,kBAAA,CACA,WAAA,CACA,sCACC,YAAA,CACA,qBAAA,CACA,6BAAA,CACA,WAAA,CACA,iBAAA,CACA,wCACC,mCAAA,CAGF,yCACC,gBAAA\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n.sharing-entry {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\theight: 44px;\\n\\t&__desc {\\n\\t\\tdisplay: flex;\\n\\t\\tflex-direction: column;\\n\\t\\tjustify-content: space-between;\\n\\t\\tpadding: 8px;\\n\\t\\tline-height: 1.2em;\\n\\t\\tp {\\n\\t\\t\\tcolor: var(--color-text-maxcontrast);\\n\\t\\t}\\n\\t}\\n\\t&__actions {\\n\\t\\tmargin-left: auto;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".sharing-entry__internal .avatar-external[data-v-854dc2c6]{width:32px;height:32px;line-height:32px;font-size:18px;background-color:var(--color-text-maxcontrast);border-radius:50%;flex-shrink:0}.sharing-entry__internal .icon-checkmark-color[data-v-854dc2c6]{opacity:1}\", \"\",{\"version\":3,\"sources\":[\"webpack://./apps/files_sharing/src/components/SharingEntryInternal.vue\"],\"names\":[],\"mappings\":\"AAwGC,2DACC,UAAA,CACA,WAAA,CACA,gBAAA,CACA,cAAA,CACA,8CAAA,CACA,iBAAA,CACA,aAAA,CAED,gEACC,SAAA\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n.sharing-entry__internal {\\n\\t.avatar-external {\\n\\t\\twidth: 32px;\\n\\t\\theight: 32px;\\n\\t\\tline-height: 32px;\\n\\t\\tfont-size: 18px;\\n\\t\\tbackground-color: var(--color-text-maxcontrast);\\n\\t\\tborder-radius: 50%;\\n\\t\\tflex-shrink: 0;\\n\\t}\\n\\t.icon-checkmark-color {\\n\\t\\topacity: 1;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".sharing-entry[data-v-656b538e]{display:flex;align-items:center;min-height:44px}.sharing-entry__desc[data-v-656b538e]{display:flex;flex-direction:column;justify-content:space-between;padding:8px;line-height:1.2em;overflow:hidden}.sharing-entry__desc h5[data-v-656b538e]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.sharing-entry__desc p[data-v-656b538e]{color:var(--color-text-maxcontrast)}.sharing-entry:not(.sharing-entry--share) .sharing-entry__actions .new-share-link[data-v-656b538e]{border-top:1px solid var(--color-border)}.sharing-entry[data-v-656b538e]  .avatar-link-share{background-color:var(--color-primary)}.sharing-entry .sharing-entry__action--public-upload[data-v-656b538e]{border-bottom:1px solid var(--color-border)}.sharing-entry__loading[data-v-656b538e]{width:44px;height:44px;margin:0;padding:14px;margin-left:auto}.sharing-entry .action-item[data-v-656b538e]{margin-left:auto}.sharing-entry .action-item~.action-item[data-v-656b538e],.sharing-entry .action-item~.sharing-entry__loading[data-v-656b538e]{margin-left:0}.sharing-entry .icon-checkmark-color[data-v-656b538e]{opacity:1}.sharing-entry__desc[data-v-656b538e]{overflow:inherit !important}#app[data-v-656b538e]{min-width:250px}\", \"\",{\"version\":3,\"sources\":[\"webpack://./apps/files_sharing/src/components/SharingEntryLink.vue\"],\"names\":[],\"mappings\":\"AA+rBA,gCACC,YAAA,CACA,kBAAA,CACA,eAAA,CACA,sCACC,YAAA,CACA,qBAAA,CACA,6BAAA,CACA,WAAA,CACA,iBAAA,CACA,eAAA,CAEA,yCACC,sBAAA,CACA,eAAA,CACA,kBAAA,CAED,wCACC,mCAAA,CAKD,mGACC,wCAAA,CAIF,oDACC,qCAAA,CAGD,sEACC,2CAAA,CAGD,yCACC,UAAA,CACA,WAAA,CACA,QAAA,CACA,YAAA,CACA,gBAAA,CAKD,6CACC,gBAAA,CACA,+HAEC,aAAA,CAIF,sDACC,SAAA,CAIF,sCACC,2BAAA,CAGD,sBACC,eAAA\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n.sharing-entry {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tmin-height: 44px;\\n\\t&__desc {\\n\\t\\tdisplay: flex;\\n\\t\\tflex-direction: column;\\n\\t\\tjustify-content: space-between;\\n\\t\\tpadding: 8px;\\n\\t\\tline-height: 1.2em;\\n\\t\\toverflow: hidden;\\n\\n\\t\\th5 {\\n\\t\\t\\ttext-overflow: ellipsis;\\n\\t\\t\\toverflow: hidden;\\n\\t\\t\\twhite-space: nowrap;\\n\\t\\t}\\n\\t\\tp {\\n\\t\\t\\tcolor: var(--color-text-maxcontrast);\\n\\t\\t}\\n\\t}\\n\\n\\t&:not(.sharing-entry--share) &__actions {\\n\\t\\t.new-share-link {\\n\\t\\t\\tborder-top: 1px solid var(--color-border);\\n\\t\\t}\\n\\t}\\n\\n\\t::v-deep .avatar-link-share {\\n\\t\\tbackground-color: var(--color-primary);\\n\\t}\\n\\n\\t.sharing-entry__action--public-upload {\\n\\t\\tborder-bottom: 1px solid var(--color-border);\\n\\t}\\n\\n\\t&__loading {\\n\\t\\twidth: 44px;\\n\\t\\theight: 44px;\\n\\t\\tmargin: 0;\\n\\t\\tpadding: 14px;\\n\\t\\tmargin-left: auto;\\n\\t}\\n\\n\\t// put menus to the left\\n\\t// but only the first one\\n\\t.action-item {\\n\\t\\tmargin-left: auto;\\n\\t\\t~ .action-item,\\n\\t\\t~ .sharing-entry__loading {\\n\\t\\t\\tmargin-left: 0;\\n\\t\\t}\\n\\t}\\n\\n\\t.icon-checkmark-color {\\n\\t\\topacity: 1;\\n\\t}\\n}\\n\\n.sharing-entry__desc {\\n\\toverflow: inherit !important;\\n}\\n\\n#app {\\n\\tmin-width: 250px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".sharing-entry[data-v-1436bf4a]{display:flex;align-items:center;min-height:44px}.sharing-entry__desc[data-v-1436bf4a]{padding:8px;line-height:1.2em;position:relative;flex:1 1;min-width:0}.sharing-entry__desc h5[data-v-1436bf4a]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;max-width:inherit}.sharing-entry__desc p[data-v-1436bf4a]{color:var(--color-text-maxcontrast)}.sharing-entry__actions[data-v-1436bf4a]{margin-left:auto !important}\", \"\",{\"version\":3,\"sources\":[\"webpack://./apps/files_sharing/src/components/SharingEntrySimple.vue\"],\"names\":[],\"mappings\":\"AA4EA,gCACC,YAAA,CACA,kBAAA,CACA,eAAA,CACA,sCACC,WAAA,CACA,iBAAA,CACA,iBAAA,CACA,QAAA,CACA,WAAA,CACA,yCACC,kBAAA,CACA,sBAAA,CACA,eAAA,CACA,iBAAA,CAED,wCACC,mCAAA,CAGF,yCACC,2BAAA\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n.sharing-entry {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tmin-height: 44px;\\n\\t&__desc {\\n\\t\\tpadding: 8px;\\n\\t\\tline-height: 1.2em;\\n\\t\\tposition: relative;\\n\\t\\tflex: 1 1;\\n\\t\\tmin-width: 0;\\n\\t\\th5 {\\n\\t\\t\\twhite-space: nowrap;\\n\\t\\t\\ttext-overflow: ellipsis;\\n\\t\\t\\toverflow: hidden;\\n\\t\\t\\tmax-width: inherit;\\n\\t\\t}\\n\\t\\tp {\\n\\t\\t\\tcolor: var(--color-text-maxcontrast);\\n\\t\\t}\\n\\t}\\n\\t&__actions {\\n\\t\\tmargin-left: auto !important;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".sharing-input{width:100%;margin:10px 0}.sharing-input .multiselect__option span[lookup] .avatardiv{background-image:var(--icon-search-fff);background-repeat:no-repeat;background-position:center;background-color:var(--color-text-maxcontrast) !important}.sharing-input .multiselect__option span[lookup] .avatardiv div{display:none}\", \"\",{\"version\":3,\"sources\":[\"webpack://./apps/files_sharing/src/components/SharingInput.vue\"],\"names\":[],\"mappings\":\"AA2oBA,eACC,UAAA,CACA,aAAA,CAKE,4DACC,uCAAA,CACA,2BAAA,CACA,0BAAA,CACA,yDAAA,CACA,gEACC,YAAA\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n.sharing-input {\\n\\twidth: 100%;\\n\\tmargin: 10px 0;\\n\\n\\t// properly style the lookup entry\\n\\t.multiselect__option {\\n\\t\\tspan[lookup] {\\n\\t\\t\\t.avatardiv {\\n\\t\\t\\t\\tbackground-image: var(--icon-search-fff);\\n\\t\\t\\t\\tbackground-repeat: no-repeat;\\n\\t\\t\\t\\tbackground-position: center;\\n\\t\\t\\t\\tbackground-color: var(--color-text-maxcontrast) !important;\\n\\t\\t\\t\\tdiv {\\n\\t\\t\\t\\t\\tdisplay: none;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".sharing-note[data-v-ac0277b2]{width:100%;height:200px}.note-title[data-v-ac0277b2]{font-weight:bold}\", \"\",{\"version\":3,\"sources\":[\"webpack://./apps/files_sharing/src/components/SharingNotes.vue\"],\"names\":[],\"mappings\":\"AA6MA,+BACC,UAAA,CACA,YAAA,CAED,6BACC,gBAAA\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n.sharing-note {\\n\\twidth: 100%;\\n\\theight: 200px;\\n}\\n.note-title {\\n\\tfont-weight: bold;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".action-input__label{display:none !important}.password-message{margin-left:43px}.readonly-message{margin-left:43px}.filedrop-message{margin-left:43px}\", \"\",{\"version\":3,\"sources\":[\"webpack://./apps/files_sharing/src/components/SharingPermissions.vue\"],\"names\":[],\"mappings\":\"AAmlBA,qBACC,uBAAA,CAED,kBACC,gBAAA,CAED,kBACC,gBAAA,CAED,kBACC,gBAAA\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n.action-input__label {\\n\\tdisplay: none !important;\\n}\\n.password-message {\\n\\tmargin-left: 43px;\\n}\\n.readonly-message {\\n\\tmargin-left: 43px;\\n}\\n.filedrop-message {\\n\\tmargin-left: 43px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".sharing-entry__inherited .avatar-shared[data-v-49ffd834]{width:32px;height:32px;line-height:32px;font-size:18px;background-color:var(--color-text-maxcontrast);border-radius:50%;flex-shrink:0}\", \"\",{\"version\":3,\"sources\":[\"webpack://./apps/files_sharing/src/views/SharingInherited.vue\"],\"names\":[],\"mappings\":\"AA6JC,0DACC,UAAA,CACA,WAAA,CACA,gBAAA,CACA,cAAA,CACA,8CAAA,CACA,iBAAA,CACA,aAAA\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n.sharing-entry__inherited {\\n\\t.avatar-shared {\\n\\t\\twidth: 32px;\\n\\t\\theight: 32px;\\n\\t\\tline-height: 32px;\\n\\t\\tfont-size: 18px;\\n\\t\\tbackground-color: var(--color-text-maxcontrast);\\n\\t\\tborder-radius: 50%;\\n\\t\\tflex-shrink: 0;\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".emptyContentWithSections[data-v-500974a6]{margin:1rem auto}.your-shares[data-v-500974a6]{font-weight:bold}\", \"\",{\"version\":3,\"sources\":[\"webpack://./apps/files_sharing/src/views/SharingTab.vue\"],\"names\":[],\"mappings\":\"AA6aA,2CACC,gBAAA,CAED,8BACC,gBAAA\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n.emptyContentWithSections {\\n\\tmargin: 1rem auto;\\n}\\n.your-shares {\\n\\tfont-weight: bold;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"\\n.custom-select[data-v-6673cd0e] {\\n\\tposition: relative;\\n\\twidth: 100%;\\n\\ttext-align: left;\\n\\toutline: none;\\n\\theight: 47px;\\n\\tline-height: 47px;\\n}\\n.custom-select .selected[data-v-6673cd0e] {\\n\\tbackground-color: #fff;\\n\\tborder-radius: 6px;\\n\\tborder: 1px solid #666666;\\n\\tpadding-left: 1em;\\n\\tcursor: pointer;\\n\\tuser-select: none;\\n}\\n.custom-select .selected.open[data-v-6673cd0e] {\\n\\tborder: 1px solid #ad8225;\\n\\tborder-radius: 6px 6px 0px 0px;\\n}\\n\\n/* .custom-select .selected:after {\\n\\tposition: absolute;\\n\\tcontent: \\\"\\\";\\n\\ttop: 22px;\\n\\tright: 1em;\\n\\twidth: 0;\\n\\theight: 0;\\n\\tborder: 5px solid transparent;\\n\\tborder-color: #0a0a0a transparent transparent transparent;\\n} */\\n.custom-select .items[data-v-6673cd0e] {\\n\\tborder-radius: 0px 0px 6px 6px;\\n\\toverflow: hidden;\\n\\tborder-right: 1px solid #ad8225;\\n\\tborder-left: 1px solid #ad8225;\\n\\tborder-bottom: 1px solid #ad8225;\\n\\tposition: absolute;\\n\\tbackground-color: #fff;\\n\\tleft: 0;\\n\\tright: 0;\\n\\tz-index: 1;\\n}\\n.custom-select .items div[data-v-6673cd0e] {\\n\\tpadding-left: 1em;\\n\\tcursor: pointer;\\n\\tuser-select: none;\\n}\\n.custom-select .items div[data-v-6673cd0e]:hover {\\n\\tbackground-color: #ad8225;\\n}\\n.selectHide[data-v-6673cd0e] {\\n\\tdisplay: none;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./apps/files_sharing/src/components/CustomSelect.vue\"],\"names\":[],\"mappings\":\";AAgHA;CACA,kBAAA;CACA,WAAA;CACA,gBAAA;CACA,aAAA;CACA,YAAA;CACA,iBAAA;AACA;AAEA;CACA,sBAAA;CACA,kBAAA;CACA,yBAAA;CACA,iBAAA;CACA,eAAA;CACA,iBAAA;AACA;AAEA;CACA,yBAAA;CACA,8BAAA;AACA;;AAEA;;;;;;;;;GASA;AAEA;CACA,8BAAA;CACA,gBAAA;CACA,+BAAA;CACA,8BAAA;CACA,gCAAA;CACA,kBAAA;CACA,sBAAA;CACA,OAAA;CACA,QAAA;CACA,UAAA;AACA;AAEA;CACA,iBAAA;CACA,eAAA;CACA,iBAAA;AACA;AAEA;CACA,yBAAA;AACA;AAEA;CACA,aAAA;AACA\",\"sourcesContent\":[\"<!--\\n  - @copyright Copyright (c) 2021 Yogesh Shejwadkar <yogesh.shejwadkar@t-systems.com>\\n  -\\n  - @author Yogesh Shejwadkar <yogesh.shejwadkar@t-systems.com>\\n  -\\n  - @license GNU AGPL version 3 or any later version\\n  -\\n  - This program is free software: you can redistribute it and/or modify\\n  - it under the terms of the GNU Affero General Public License as\\n  - published by the Free Software Foundation, either version 3 of the\\n  - License, or (at your option) any later version.\\n  -\\n  - This program is distributed in the hope that it will be useful,\\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\n  - GNU Affero General Public License for more details.\\n  -\\n  - You should have received a copy of the GNU Affero General Public License\\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\\n  -\\n  -->\\n\\n<template>\\n\\t<div class=\\\"custom-select\\\"\\n\\t\\t:tabindex=\\\"tabindex\\\"\\n\\t\\t@blur=\\\"open = false\\\">\\n\\t\\t<div @click=\\\"open = isDisable ? open : !open\\\" :class=\\\"isDisable ? 'disabledRow' : null\\\">\\n\\t\\t\\t<h5>{{ title }}</h5>\\n\\t\\t\\t<div class=\\\"selected\\\" :class=\\\"{ open: open }\\\">\\n\\t\\t\\t\\t{{ selected.value }}\\n\\t\\t\\t\\t<span class=\\\"sort-indicator icon-triangle-s\\\"></span>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"items\\\" :class=\\\"{ selectHide: !open }\\\">\\n\\t\\t\\t<div\\n\\t\\t\\t\\t:class=\\\"option.key == selected.key ? 'selectedItem' : null\\\"\\n\\t\\t\\t\\tv-for=\\\"(option, i) of options\\\"\\n\\t\\t\\t\\t:key=\\\"i\\\"\\n\\t\\t\\t\\t@click=\\\"\\n\\t\\t\\t\\t\\tselected = option;\\n\\t\\t\\t\\t\\topen = false;\\n\\t\\t\\t\\t\\t$emit('input', option.key);\\n\\t\\t\\t\\t\\tsetCurrentSelectedOption(option.key);\\n\\t\\t\\t\\t\\\">\\n\\t\\t\\t\\t<span class=\\\"icon-select-check\\\"></span>\\n\\t\\t\\t\\t{{ option.value }}\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</div>\\n</template>\\n\\n<script>\\nexport default {\\n\\tprops: {\\n\\t\\toptions: {\\n\\t\\t\\ttype: Object,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t\\tdefault: {\\n\\t\\t\\ttype: Number,\\n\\t\\t\\trequired: false,\\n\\t\\t\\tdefault: 0,\\n\\t\\t},\\n\\t\\ttabindex: {\\n\\t\\t\\ttype: Number,\\n\\t\\t\\trequired: false,\\n\\t\\t\\tdefault: 0,\\n\\t\\t},\\n\\t\\ttitle: {\\n\\t\\t\\ttype: String,\\n\\t\\t\\trequired: false,\\n\\t\\t\\tdefault: null,\\n\\t\\t},\\n\\t\\tisDisable: {\\n\\t\\t\\ttype: Boolean,\\n\\t\\t\\tdefault: false,\\n\\t\\t}\\n\\t},\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\tselected: this.getDefault(this.default),\\n\\t\\t\\topen: false,\\n\\t\\t}\\n\\t},\\n\\tmounted() {\\n\\t\\tthis.$emit('input', this.selected)\\n\\t},\\n\\tmethods: {\\n\\t\\tsetCurrentSelectedOption(option) {\\n\\t\\t\\tconsole.info('in setCurrentSelectedOption-', option)\\n\\t\\t\\tthis.$emit('setSelectedOption', option)\\n\\t\\t},\\n\\n\\t\\tgetDefault(defaultOption) {\\n\\t\\t\\tlet defaultOpt = null\\n\\t\\t\\tif (defaultOption) {\\n\\t\\t\\t\\tfor (let i = 0; i < Object.keys(this.options).length; i++) {\\n\\t\\t\\t\\t// this.options.each(function() {\\n\\t\\t\\t\\t\\tif (this.options[i].key === defaultOption) {\\n\\t\\t\\t\\t\\t\\tdefaultOpt = this.options[i]\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else if (Object.keys(this.options).length > 0) {\\n\\t\\t\\t\\tdefaultOpt = this.options[0]\\n\\t\\t\\t}\\n\\t\\t\\treturn defaultOpt\\n\\t\\t},\\n\\t}\\n}\\n</script>\\n\\n<style scoped>\\n.custom-select {\\n\\tposition: relative;\\n\\twidth: 100%;\\n\\ttext-align: left;\\n\\toutline: none;\\n\\theight: 47px;\\n\\tline-height: 47px;\\n}\\n\\n.custom-select .selected {\\n\\tbackground-color: #fff;\\n\\tborder-radius: 6px;\\n\\tborder: 1px solid #666666;\\n\\tpadding-left: 1em;\\n\\tcursor: pointer;\\n\\tuser-select: none;\\n}\\n\\n.custom-select .selected.open {\\n\\tborder: 1px solid #ad8225;\\n\\tborder-radius: 6px 6px 0px 0px;\\n}\\n\\n/* .custom-select .selected:after {\\n\\tposition: absolute;\\n\\tcontent: \\\"\\\";\\n\\ttop: 22px;\\n\\tright: 1em;\\n\\twidth: 0;\\n\\theight: 0;\\n\\tborder: 5px solid transparent;\\n\\tborder-color: #0a0a0a transparent transparent transparent;\\n} */\\n\\n.custom-select .items {\\n\\tborder-radius: 0px 0px 6px 6px;\\n\\toverflow: hidden;\\n\\tborder-right: 1px solid #ad8225;\\n\\tborder-left: 1px solid #ad8225;\\n\\tborder-bottom: 1px solid #ad8225;\\n\\tposition: absolute;\\n\\tbackground-color: #fff;\\n\\tleft: 0;\\n\\tright: 0;\\n\\tz-index: 1;\\n}\\n\\n.custom-select .items div {\\n\\tpadding-left: 1em;\\n\\tcursor: pointer;\\n\\tuser-select: none;\\n}\\n\\n.custom-select .items div:hover {\\n\\tbackground-color: #ad8225;\\n}\\n\\n.selectHide {\\n\\tdisplay: none;\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdD = function () {\n\tthrow new Error('define cannot be used indirect');\n};","__webpack_require__.amdO = {};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.j = 7870;","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t7870: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunknextcloud\"] = self[\"webpackChunknextcloud\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","__webpack_require__.nc = undefined;","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [7874], function() { return __webpack_require__(42514); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","Config","document","getElementById","dataset","allowPublicUpload","value","OC","appConfig","core","federatedCloudShareDoc","expireDateString","this","isDefaultExpireDateEnabled","date","window","moment","utc","expireAfterDays","defaultExpireDate","add","format","isDefaultInternalExpireDateEnabled","defaultInternalExpireDate","isDefaultRemoteExpireDateEnabled","defaultRemoteExpireDate","enforcePasswordForPublicLink","enableLinkPasswordByDefault","defaultExpireDateEnforced","defaultExpireDateEnabled","defaultInternalExpireDateEnforced","defaultRemoteExpireDateEnforced","defaultInternalExpireDateEnabled","remoteShareAllowed","capabilities","getCapabilities","undefined","files_sharing","sharebymail","public","enabled","resharingAllowed","password","enforced","sharee","always_show_unique","allowGroupSharing","parseInt","config","password_policy","Share","ocsData","ocs","data","hide_download","mail_send","attributes","JSON","parse","e","console","warn","_share","id","share_type","permissions","uid_owner","displayname_owner","share_with","share_with_displayname","share_with_displayname_unique","share_with_link","share_with_avatar","uid_file_owner","displayname_file_owner","stime","expiration","token","note","label","state","password_expiration_time","passwordExpirationTime","send_password_by_talk","sendPasswordByTalk","path","item_type","mimetype","file_source","file_target","file_parent","PERMISSION_READ","PERMISSION_CREATE","PERMISSION_DELETE","PERMISSION_UPDATE","PERMISSION_SHARE","i","attr","scope","key","setAttribute","attrUpdate","push","can_edit","can_delete","via_fileid","via_path","parent","storage_id","storage","item_source","status","SHARE_TYPES","ShareTypes","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","_vm","_h","$createElement","_c","_self","staticClass","_t","_v","directives","name","rawName","expression","_s","title","subtitle","_e","$slots","attrs","t","internalLinkSubtitle","scopedSlots","_u","fn","proxy","ref","internalLink","copied","copySuccess","on","$event","preventDefault","copyLink","apply","arguments","clipboardTooltip","passwordSet","passwordPolicy","api","generate","axios","request","info","Array","fill","reduce","prev","curr","charAt","Math","floor","random","length","shareUrl","generateOcsUrl","methods","createShare","shareType","shareWith","publicUpload","expireDate","hideDownload","error","errorMessage","response","meta","message","Notification","showTemporary","type","deleteShare","updateShare","properties","Error","canReshare","loading","inputPlaceholder","asyncFind","showPermissions","noResultText","stopPropagation","onNewLinkShare","mixins","SharesRequests","props","fileInfo","Object","default","required","share","isUnique","Boolean","errors","saving","open","updateQueue","PQueue","concurrency","reactiveState","SHARE_TYPE_USER","SHARE_TYPE_GROUP","SHARE_TYPE_LINK","SHARE_TYPE_EMAIL","SHARE_TYPE_REMOTE","SHARE_TYPE_CIRCLE","SHARE_TYPE_GUEST","SHARE_TYPE_REMOTE_GROUP","SHARE_TYPE_ROOM","computed","hasNote","get","set","dateTomorrow","lang","weekdaysShort","dayNamesShort","monthsShort","monthNamesShort","formatLocale","firstDayOfWeek","firstDay","weekdaysMin","monthFormat","isShareOwner","owner","getCurrentUser","uid","checkShare","trim","expirationDate","isValid","onExpirationChange","queueUpdate","onExpirationDisable","onNoteChange","$set","onNoteSubmit","newNote","$delete","onDelete","debug","$emit","propertyNames","forEach","stringify","toString","updatedShare","indexOf","onSyncError","property","propertyEl","$refs","$el","focusable","querySelector","focus","debounceQueueUpdate","debounce","disabledDate","dateMoment","isBefore","dateMaxEnforced","isSameOrAfter","is","_g","_b","tag","action","handlers","text","isFolder","fileHasCreatePermission","isPublicUploadEnabled","sharePermissions","publicUploadRValue","randomId","addPermissions","publicUploadRWValue","publicUploadWValue","isAllowed","publicUploadEValue","showAdLink","class","shareLabelPlaceholder","domProps","target","composing","shareLabel","addHideDownload","isPasswordProtected","onPasswordDisable","hasUnsavedPassword","newPassword","onPasswordChange","canTogglePasswordProtectedByTalkAvailable","addPasswordProtectedByTalkChange","hasExpirationDate","isDefaultInternalExpireDateEnforced","defaultInternalExpirationDateString","addExpirationDate","isLinkShare","_l","show","permissionsShare","canSetReshare","cancelSharing","confirmSharing","nextSharing","notePlaceholder","shareNote","sendEmail","addShare","shareWithDisplayName","initiator","ownerDisplayName","viaPath","viaFileid","viaFileTargetUrl","folder","viaFolderName","mainTitle","subTitle","showInheritedSharesIcon","toggleInheritedShares","toggleTooltip","tabindex","isDisable","selected","selectHide","option","setCurrentSelectedOption","isEmailShareType","canEdit","getFolderOptions","togglePermissions","getFileOptions","shareLink","pending","pendingPassword","pendingExpirationDate","onMenuClose","index","icon","url","editPermissions","editNotes","content","trigger","defaultContainer","modifiers","isPasswordPolicyEnabled","minLength","model","callback","$$v","onCancel","shares","awaitForShare","removeShare","shareWithAvatar","shareWithLink","shareWithDisplayNameUnique","canSetEdit","group","escape","circle","conversation","emptyContentWithSections","sections","currentTab","sharedWithMe","user","displayName","linkShares","reshare","hasShares","hasLinkShares","section","refInFor","ShareSearch","_state","results","result","handler","ExternalLinkActions","actions","ExternalShareActions","isArray","values","every","findIndex","check","TabSections","_sections","Vue","Vuex","fromInput","mutations","addOption","addFromInput","addCurrentTab","getters","getShare","getOption","getFromInput","getCurrentTab","OCA","Sharing","assign","ShareTabSections","n","VueClipboard","View","SharingTab","TabInstance","addEventListener","Files","Sidebar","registerTab","Tab","mount","el","context","$destroy","store","update","$mount","setActiveTab","destroy","___CSS_LOADER_EXPORT___","module","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","loaded","__webpack_modules__","call","m","amdD","amdO","O","chunkIds","priority","notFulfilled","Infinity","fulfilled","j","keys","splice","r","getter","__esModule","d","a","definition","o","defineProperty","enumerable","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","nmd","paths","children","b","baseURI","self","location","href","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","bind","nc","__webpack_exports__"],"sourceRoot":""}